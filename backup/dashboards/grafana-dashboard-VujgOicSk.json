{
  "meta": {
    "type": "db",
    "canSave": true,
    "canEdit": true,
    "canAdmin": true,
    "canStar": true,
    "canDelete": true,
    "slug": "podcast-copy-guided-tour",
    "url": "/d/VujgOicSk/podcast-copy-guided-tour",
    "expires": "0001-01-01T00:00:00Z",
    "created": "2024-07-29T12:43:24Z",
    "updated": "2024-07-30T05:40:08Z",
    "updatedBy": "Anonymous",
    "createdBy": "Anonymous",
    "version": 2,
    "hasAcl": false,
    "isFolder": false,
    "folderId": 1185,
    "folderUid": "folder-eyYMKsQIk",
    "folderTitle": "Archive_delete_30-09-2024",
    "folderUrl": "/dashboards/f/folder-eyYMKsQIk/archive-delete-30-09-2024",
    "provisioned": false,
    "provisionedExternalId": "",
    "annotationsPermissions": {
      "dashboard": {
        "canAdd": true,
        "canEdit": true,
        "canDelete": true
      },
      "organization": {
        "canAdd": true,
        "canEdit": true,
        "canDelete": true
      }
    }
  },
  "dashboard": {
    "annotations": {
      "list": [
        {
          "builtIn": 1,
          "datasource": {
            "type": "grafana",
            "uid": "-- Grafana --"
          },
          "enable": true,
          "hide": true,
          "iconColor": "rgba(0, 211, 255, 1)",
          "name": "Annotations & Alerts",
          "target": {
            "limit": 100,
            "matchAny": false,
            "tags": [],
            "type": "dashboard"
          },
          "type": "dashboard"
        }
      ]
    },
    "editable": true,
    "fiscalYearStartMonth": 0,
    "graphTooltip": 0,
    "id": 1317,
    "links": [],
    "liveNow": false,
    "panels": [
      {
        "datasource": {
          "type": "grafana-bigquery-datasource",
          "uid": "qUaUqEk4k"
        },
        "gridPos": {
          "h": 7,
          "w": 11,
          "x": 0,
          "y": 0
        },
        "id": 68,
        "options": {
          "autoStart": false,
          "contentAlign": "center",
          "floaterPropsPlacement": "bottom",
          "hideBackButton": false,
          "panelBackgroundColor": "transparent",
          "panelTextColor": "white",
          "primaryColor": "#F05A28",
          "redirectURL": "https://daten.ndr.mobi/d/WRjdqzvIk/resy-landing-page-prototype?orgId=1",
          "scrollOffset": 100,
          "showProgress": true,
          "showSkipButton": true,
          "startButtonText": "Start tour",
          "steps": [
            {
              "content": "This is the first panel",
              "panelTitle": "Panel Title",
              "selectBy": "customTarget",
              "target": "[id=\"2\"]"
            },
            {
              "content": "And this is the second one.",
              "panelTitle": "Panel Title",
              "selectBy": "customTarget",
              "target": "[id=\"3\"]"
            },
            {
              "content": "And the third one - no title needed! :) ",
              "panelTitle": "Panel Title",
              "selectBy": "customTarget",
              "target": "[id=\"4\"]"
            },
            {
              "content": "And one with title ",
              "panelTitle": "Downloads pro Tag für \"$Podcast",
              "selectBy": "panelTitle"
            }
          ],
          "stopButtonText": "Stop tour",
          "width": "300px"
        },
        "title": "Panel Title",
        "transparent": true,
        "type": "grafana-guidedtour-panel"
      },
      {
        "collapsed": true,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 7
        },
        "id": 63,
        "panels": [
          {
            "datasource": {
              "type": "grafana-bigquery-datasource",
              "uid": "qUaUqEk4k"
            },
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 9
            },
            "id": 54,
            "options": {
              "code": {
                "language": "plaintext",
                "showLineNumbers": false,
                "showMiniMap": false
              },
              "content": "# Anleitung zur Podcast-Suche\n\n## Es gibt zwei Möglichkeiten, um nach einem Podcast zu suchen:\n\n### Option 1:\nWählen Sie zuerst den gewünschten Bereich über das Dropdown-Menü \"Bereich\" aus. Anschließend wählen Sie über das dazugehörige Dropdown-Menü \"Podcast\" den gewünschten Podcast aus. Soll diese Option verwendet werden, muss der Wert im Dropdown-Menü \"AllePodcasts\" auf \"None\" gesetzt werden.\n\n### Option 2:\nVerwenden Sie das Dropdown-Menü \"AllePodcasts\". In diesem Menü finden Sie alle von uns geführten Podcasts. Soll diese Option nicht verwendet werden, muss der Wert auf \"None\" gesetzt werden.\n",
              "mode": "markdown"
            },
            "pluginVersion": "9.2.3",
            "type": "text"
          }
        ],
        "title": "Anleitung und Hinweise",
        "type": "row"
      },
      {
        "collapsed": false,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 8
        },
        "id": 61,
        "panels": [],
        "type": "row"
      },
      {
        "datasource": {
          "type": "postgres",
          "uid": "5RzC0pR4k"
        },
        "gridPos": {
          "h": 5,
          "w": 3,
          "x": 0,
          "y": 9
        },
        "id": 17,
        "options": {
          "code": {
            "language": "plaintext",
            "showLineNumbers": false,
            "showMiniMap": false
          },
          "content": "\n\n<img width=\"160\" height=\"160\" src=\"$Image\n\" />\n\n<!-- src=${Image} />",
          "mode": "html"
        },
        "pluginVersion": "9.2.3",
        "targets": [
          {
            "datasource": {
              "type": "postgres",
              "uid": "5RzC0pR4k"
            },
            "format": "time_series",
            "group": [],
            "metricColumn": "none",
            "rawQuery": false,
            "rawSql": "SELECT\n  \"time\" AS \"time\",\n  post_video_view_time\nFROM facebookinsightsownposts\nWHERE\n  $__timeFilter(\"time\")\nORDER BY 1",
            "refId": "A",
            "select": [
              [
                {
                  "params": [
                    "post_video_view_time"
                  ],
                  "type": "column"
                }
              ]
            ],
            "table": "facebookinsightsownposts",
            "timeColumn": "\"time\"",
            "timeColumnType": "timestamp",
            "where": [
              {
                "name": "$__timeFilter",
                "params": [],
                "type": "macro"
              }
            ]
          }
        ],
        "transparent": true,
        "type": "text"
      },
      {
        "datasource": {
          "type": "grafana-bigquery-datasource",
          "uid": "qUaUqEk4k"
        },
        "fieldConfig": {
          "defaults": {
            "color": {
              "fixedColor": "#f5f5f5",
              "mode": "fixed"
            },
            "decimals": 0,
            "mappings": [],
            "noValue": "N/A",
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                }
              ]
            },
            "unit": "string"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 2,
          "w": 8,
          "x": 3,
          "y": 9
        },
        "id": 64,
        "options": {
          "colorMode": "background",
          "graphMode": "none",
          "justifyMode": "center",
          "orientation": "auto",
          "reduceOptions": {
            "calcs": [
              "last"
            ],
            "fields": "/.*/",
            "values": false
          },
          "text": {
            "titleSize": 20
          },
          "textMode": "value_and_name"
        },
        "pluginVersion": "9.2.3",
        "targets": [
          {
            "dataset": "Quintly",
            "datasource": {
              "type": "grafana-bigquery-datasource",
              "uid": "qUaUqEk4k"
            },
            "editorMode": "code",
            "format": 1,
            "location": "europe-west3",
            "project": "ndr-code-bi-dashboard",
            "rawQuery": true,
            "rawSql": "SELECT  CONCAT(REPEAT(\" \", $filled_size_headline - CHAR_LENGTH('$Podcast_title')), '$Podcast_title'), \nFROM(\nSELECT '$Podcast_title' as Interaktionen\nFROM `ndr-code-bi-dashboard.Quintly.facebook`\nLIMIT 1\n)",
            "refId": "A",
            "sql": {
              "columns": [
                {
                  "parameters": [
                    {
                      "name": "page_engaged_users",
                      "type": "functionParameter"
                    }
                  ],
                  "type": "function"
                }
              ],
              "groupBy": [
                {
                  "property": {
                    "type": "string"
                  },
                  "type": "groupBy"
                }
              ],
              "limit": 50,
              "whereJsonTree": {
                "children1": {
                  "baa899a9-cdef-4012-b456-718364767b70": {
                    "properties": {
                      "field": "profileId",
                      "operator": "equal",
                      "value": [
                        null
                      ],
                      "valueSrc": [
                        "value"
                      ],
                      "valueType": [
                        "number"
                      ]
                    },
                    "type": "rule"
                  }
                },
                "id": "b8aaaa8b-0123-4456-b89a-b18364767b70",
                "type": "group"
              }
            },
            "table": "facebookInsights"
          }
        ],
        "transformations": [
          {
            "id": "organize",
            "options": {
              "excludeByName": {},
              "indexByName": {},
              "renameByName": {
                "f0_": " "
              }
            }
          }
        ],
        "transparent": true,
        "type": "stat"
      },
      {
        "datasource": {
          "type": "grafana-bigquery-datasource",
          "uid": "qUaUqEk4k"
        },
        "fieldConfig": {
          "defaults": {
            "color": {
              "fixedColor": "#f5f5f5",
              "mode": "fixed"
            },
            "decimals": 0,
            "mappings": [],
            "noValue": "N/A",
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                }
              ]
            },
            "unit": "string"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 2,
          "w": 13,
          "x": 11,
          "y": 9
        },
        "id": 37,
        "options": {
          "colorMode": "background",
          "graphMode": "none",
          "justifyMode": "center",
          "orientation": "auto",
          "reduceOptions": {
            "calcs": [
              "last"
            ],
            "fields": "/.*/",
            "values": false
          },
          "text": {
            "titleSize": 20
          },
          "textMode": "value_and_name"
        },
        "pluginVersion": "9.2.3",
        "targets": [
          {
            "dataset": "Quintly",
            "datasource": {
              "type": "grafana-bigquery-datasource",
              "uid": "qUaUqEk4k"
            },
            "editorMode": "code",
            "format": 1,
            "location": "europe-west3",
            "project": "ndr-code-bi-dashboard",
            "rawQuery": true,
            "rawSql": "SELECT  CONCAT(REPEAT(\" \", $filled_size_headline_small - CHAR_LENGTH('Quellen: Apps')), 'Quellen: Apps')\nFROM(\nSELECT 'Quellen: Apps' as Interaktionen\nFROM `ndr-code-bi-dashboard.Quintly.facebook`\nLIMIT 1\n)",
            "refId": "A",
            "sql": {
              "columns": [
                {
                  "parameters": [
                    {
                      "name": "page_engaged_users",
                      "type": "functionParameter"
                    }
                  ],
                  "type": "function"
                }
              ],
              "groupBy": [
                {
                  "property": {
                    "type": "string"
                  },
                  "type": "groupBy"
                }
              ],
              "limit": 50,
              "whereJsonTree": {
                "children1": {
                  "baa899a9-cdef-4012-b456-718364767b70": {
                    "properties": {
                      "field": "profileId",
                      "operator": "equal",
                      "value": [
                        null
                      ],
                      "valueSrc": [
                        "value"
                      ],
                      "valueType": [
                        "number"
                      ]
                    },
                    "type": "rule"
                  }
                },
                "id": "b8aaaa8b-0123-4456-b89a-b18364767b70",
                "type": "group"
              }
            },
            "table": "facebookInsights"
          }
        ],
        "transformations": [
          {
            "id": "organize",
            "options": {
              "excludeByName": {},
              "indexByName": {},
              "renameByName": {
                "f0_": " "
              }
            }
          }
        ],
        "transparent": true,
        "type": "stat"
      },
      {
        "datasource": {
          "type": "grafana-bigquery-datasource",
          "uid": "qUaUqEk4k"
        },
        "description": "",
        "fieldConfig": {
          "defaults": {
            "color": {
              "fixedColor": "#1F60C4",
              "mode": "fixed"
            },
            "decimals": 0,
            "mappings": [],
            "noValue": "–",
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                }
              ]
            },
            "unit": "string"
          },
          "overrides": [
            {
              "matcher": {
                "id": "byName",
                "options": "Interaktionen"
              },
              "properties": [
                {
                  "id": "displayName",
                  "value": "∑ Interaktionen"
                }
              ]
            }
          ]
        },
        "gridPos": {
          "h": 4,
          "w": 4,
          "x": 3,
          "y": 11
        },
        "id": 15,
        "options": {
          "colorMode": "background",
          "graphMode": "none",
          "justifyMode": "center",
          "orientation": "auto",
          "reduceOptions": {
            "calcs": [
              "last"
            ],
            "fields": "/.*/",
            "values": false
          },
          "text": {},
          "textMode": "value_and_name"
        },
        "pluginVersion": "9.2.3",
        "targets": [
          {
            "dataset": "Quintly",
            "datasource": {
              "type": "grafana-bigquery-datasource",
              "uid": "qUaUqEk4k"
            },
            "editorMode": "code",
            "format": 1,
            "location": "europe-west3",
            "project": "ndr-code-bi-dashboard",
            "rawQuery": true,
            "rawSql": "SELECT  CONCAT(REPEAT(\" \", $filled_size - CHAR_LENGTH(CAST(summe as STRING))), REPLACE(CAST(FORMAT(\"%'.0f\", CAST(ROUND(summe) as NUMERIC)) AS STRING), \",\", \".\"))FROM\n(\nSELECT\n  SUM(m_zugriffe_1) AS summe\nFROM `ndr-code-bi-dashboard.Piano.NDR_podcast_episode_daily_f`\nWHERE\nCASE \"${Podcast:text}\"\nWHEN \"All titles\" THEN branding = \"$Bereich\"\nELSE  broadcast_id = \"$broadcast_id_branding\" END\nAND headline != \"All headlines\"\nAND date BETWEEN DATE('${__from:date}', \"Europe/Berlin\") AND DATE('${__to:date}', \"Europe/Berlin\")\n)\n ",
            "refId": "A",
            "sql": {
              "columns": [
                {
                  "parameters": [
                    {
                      "name": "page_engaged_users",
                      "type": "functionParameter"
                    }
                  ],
                  "type": "function"
                }
              ],
              "groupBy": [
                {
                  "property": {
                    "type": "string"
                  },
                  "type": "groupBy"
                }
              ],
              "limit": 50,
              "whereJsonTree": {
                "children1": {
                  "baa899a9-cdef-4012-b456-718364767b70": {
                    "properties": {
                      "field": "profileId",
                      "operator": "equal",
                      "value": [
                        null
                      ],
                      "valueSrc": [
                        "value"
                      ],
                      "valueType": [
                        "number"
                      ]
                    },
                    "type": "rule"
                  }
                },
                "id": "b8aaaa8b-0123-4456-b89a-b18364767b70",
                "type": "group"
              }
            },
            "table": "facebookInsights"
          }
        ],
        "transformations": [
          {
            "id": "organize",
            "options": {
              "excludeByName": {},
              "indexByName": {},
              "renameByName": {
                "f0_": "Downloads",
                "page_impressions_unique": "Potentielle Reichweite"
              }
            }
          }
        ],
        "transparent": true,
        "type": "stat"
      },
      {
        "datasource": {
          "type": "grafana-bigquery-datasource",
          "uid": "qUaUqEk4k"
        },
        "description": "*im Analysezeitraum veröffentlichte Episode\n",
        "fieldConfig": {
          "defaults": {
            "color": {
              "fixedColor": "dark-blue",
              "mode": "fixed"
            },
            "decimals": 0,
            "mappings": [],
            "noValue": "–",
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                }
              ]
            },
            "unit": "string"
          },
          "overrides": [
            {
              "matcher": {
                "id": "byName",
                "options": "Interaktionen"
              },
              "properties": [
                {
                  "id": "displayName",
                  "value": "∑ Interaktionen"
                },
                {
                  "id": "unit",
                  "value": "locale"
                }
              ]
            }
          ]
        },
        "gridPos": {
          "h": 4,
          "w": 4,
          "x": 7,
          "y": 11
        },
        "id": 18,
        "options": {
          "colorMode": "background",
          "graphMode": "none",
          "justifyMode": "center",
          "orientation": "auto",
          "reduceOptions": {
            "calcs": [
              "last"
            ],
            "fields": "/.*/",
            "values": false
          },
          "text": {},
          "textMode": "value_and_name"
        },
        "pluginVersion": "9.2.3",
        "targets": [
          {
            "dataset": "Quintly",
            "datasource": {
              "type": "grafana-bigquery-datasource",
              "uid": "qUaUqEk4k"
            },
            "editorMode": "code",
            "format": 1,
            "location": "europe-west3",
            "project": "ndr-code-bi-dashboard",
            "rawQuery": true,
            "rawSql": "SELECT  CONCAT(REPEAT(\" \", $filled_size_big - CHAR_LENGTH(CAST(ROUND(summe,0) as STRING))), REPLACE(CAST(FORMAT(\"%'.0f\", CAST(ROUND(summe) as NUMERIC)) AS STRING), \",\", \".\"))FROM\n(\n  WITH summe_zugriffe as (\n    SELECT\n  SUM(m_zugriffe_1)  as zugriffe\n  FROM `ndr-code-bi-dashboard.Piano.NDR_podcast_episode_daily_f`\nWHERE\nbranding = \"$Bereich\"\nAND podcast_title = \"$Podcast\"\nAND headline =\"All headlines\"\nAND date BETWEEN DATE('${__from:date}', \"Europe/Berlin\") AND DATE('${__to:date}', \"Europe/Berlin\")\n  ),\n \n  summe_headline as (\n    SELECT COUNT(DISTINCT headline) AS headlines\n    FROM `ndr-code-bi-dashboard.Piano.NDR_podcast_episode_daily_f`\nWHERE\nbranding = \"$Bereich\"\nAND podcast_title = \"$Podcast\"\nAND headline != \"All headlines\"\nAND date > \"2022-01-01\"\n  ),\n  summe_allheadlines as (\n    SELECT COUNT(DISTINCT headline) AS headlines\n    FROM `ndr-code-bi-dashboard.Piano.NDR_podcast_episode_daily_f`\n    WHERE\n    branding = \"$Bereich\"\n    AND headline != \"All headlines\"\n    AND date > \"2022-01-01\"\n  )\n \nSELECT\n  CASE \"${Podcast:text}\"\nWHEN \"All titles\" THEN SAFE_DIVIDE(summe_zugriffe.zugriffe,summe_allheadlines.headlines)\nELSE  SAFE_DIVIDE(summe_zugriffe.zugriffe,summe_headline.headlines) END as summe\nFROM summe_zugriffe, summe_headline, summe_allheadlines)",
            "refId": "A",
            "sql": {
              "columns": [
                {
                  "parameters": [
                    {
                      "name": "page_engaged_users",
                      "type": "functionParameter"
                    }
                  ],
                  "type": "function"
                }
              ],
              "groupBy": [
                {
                  "property": {
                    "type": "string"
                  },
                  "type": "groupBy"
                }
              ],
              "limit": 50,
              "whereJsonTree": {
                "children1": {
                  "baa899a9-cdef-4012-b456-718364767b70": {
                    "properties": {
                      "field": "profileId",
                      "operator": "equal",
                      "value": [
                        null
                      ],
                      "valueSrc": [
                        "value"
                      ],
                      "valueType": [
                        "number"
                      ]
                    },
                    "type": "rule"
                  }
                },
                "id": "b8aaaa8b-0123-4456-b89a-b18364767b70",
                "type": "group"
              }
            },
            "table": "facebookInsights"
          }
        ],
        "transformations": [
          {
            "id": "organize",
            "options": {
              "excludeByName": {},
              "indexByName": {},
              "renameByName": {
                "f0_": "Ø pro Episode",
                "page_impressions_unique": "Potentielle Reichweite"
              }
            }
          }
        ],
        "transparent": true,
        "type": "stat"
      },
      {
        "datasource": {
          "type": "grafana-bigquery-datasource",
          "uid": "qUaUqEk4k"
        },
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              }
            },
            "mappings": [],
            "unit": "locale"
          },
          "overrides": [
            {
              "matcher": {
                "id": "byName",
                "options": "ARD Audiothek"
              },
              "properties": [
                {
                  "id": "color",
                  "value": {
                    "fixedColor": "#2873ED",
                    "mode": "fixed"
                  }
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "AntennaPod"
              },
              "properties": [
                {
                  "id": "color",
                  "value": {
                    "fixedColor": "#3F51B5",
                    "mode": "fixed"
                  }
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "Podcast & Radio Addict"
              },
              "properties": [
                {
                  "id": "color",
                  "value": {
                    "fixedColor": "#00BCD4",
                    "mode": "fixed"
                  }
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "TuneIn"
              },
              "properties": [
                {
                  "id": "color",
                  "value": {
                    "fixedColor": "#2196F3",
                    "mode": "fixed"
                  }
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "Juice"
              },
              "properties": [
                {
                  "id": "color",
                  "value": {
                    "fixedColor": "#E91E63",
                    "mode": "fixed"
                  }
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "Stagefright"
              },
              "properties": [
                {
                  "id": "color",
                  "value": {
                    "fixedColor": "#607D8B",
                    "mode": "fixed"
                  }
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "gPodder"
              },
              "properties": [
                {
                  "id": "color",
                  "value": {
                    "fixedColor": "#FFC107",
                    "mode": "fixed"
                  }
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "Player FM"
              },
              "properties": [
                {
                  "id": "color",
                  "value": {
                    "fixedColor": "#4CAF50",
                    "mode": "fixed"
                  }
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "Player FM"
              },
              "properties": [
                {
                  "id": "color",
                  "value": {
                    "fixedColor": "#4CAF50",
                    "mode": "fixed"
                  }
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "Pocket Casts"
              },
              "properties": [
                {
                  "id": "color",
                  "value": {
                    "fixedColor": "#FF5722",
                    "mode": "fixed"
                  }
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "Overcast"
              },
              "properties": [
                {
                  "id": "color",
                  "value": {
                    "fixedColor": "#FFEB3B",
                    "mode": "fixed"
                  }
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "Castbox"
              },
              "properties": [
                {
                  "id": "color",
                  "value": {
                    "fixedColor": "#673AB7",
                    "mode": "fixed"
                  }
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "Amazon Alexa"
              },
              "properties": [
                {
                  "id": "color",
                  "value": {
                    "fixedColor": "#FFA000",
                    "mode": "fixed"
                  }
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "iTunes"
              },
              "properties": [
                {
                  "id": "color",
                  "value": {
                    "fixedColor": "#A6ACAF",
                    "mode": "fixed"
                  }
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "Podbean"
              },
              "properties": [
                {
                  "id": "color",
                  "value": {
                    "fixedColor": "#8BC34A",
                    "mode": "fixed"
                  }
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "other"
              },
              "properties": [
                {
                  "id": "color",
                  "value": {
                    "fixedColor": "#9E9E9E",
                    "mode": "fixed"
                  }
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "Spotify"
              },
              "properties": [
                {
                  "id": "color",
                  "value": {
                    "fixedColor": "#59A94D",
                    "mode": "fixed"
                  }
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "AndroidDownloadManager"
              },
              "properties": [
                {
                  "id": "color",
                  "value": {
                    "fixedColor": "#D32F2F",
                    "mode": "fixed"
                  }
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "Apple Podcasts"
              },
              "properties": [
                {
                  "id": "color",
                  "value": {
                    "fixedColor": "#A64DCC",
                    "mode": "fixed"
                  }
                }
              ]
            },
            {
              "__systemRef": "hideSeriesFrom",
              "matcher": {
                "id": "byNames",
                "options": {
                  "mode": "exclude",
                  "names": [
                    "summe"
                  ],
                  "prefix": "All except:",
                  "readOnly": true
                }
              },
              "properties": [
                {
                  "id": "custom.hideFrom",
                  "value": {
                    "legend": false,
                    "tooltip": false,
                    "viz": true
                  }
                }
              ]
            }
          ]
        },
        "gridPos": {
          "h": 9,
          "w": 7,
          "x": 11,
          "y": 11
        },
        "id": 33,
        "options": {
          "displayLabels": [],
          "legend": {
            "displayMode": "table",
            "placement": "right",
            "showLegend": true,
            "values": [
              "percent"
            ]
          },
          "pieType": "pie",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": true
          },
          "tooltip": {
            "mode": "single",
            "sort": "none"
          }
        },
        "targets": [
          {
            "datasource": {
              "type": "grafana-bigquery-datasource",
              "uid": "qUaUqEk4k"
            },
            "editorMode": "code",
            "format": 1,
            "location": "europe-west3",
            "project": "ndr-code-bi-dashboard",
            "rawQuery": true,
            "rawSql": "WITH broadcastids AS (\n    SELECT COALESCE(broadcast_id) AS broadcast_id\n    FROM `ndr-code-bi-dashboard.Piano.NDR_podcast_episode_daily_f`\n    WHERE branding = \"$Bereich\" \n    AND date > \"2023-01-01\" \n    ORDER BY broadcast_id DESC\n),\nall_titles_platforms AS(\nSELECT \n    SUM(m_zugriffe_1) AS summe, \n    platform\nFROM `ndr-code-bi-dashboard.Piano.NDR_podcast_platform_daily_f`\nINNER JOIN broadcastids ON `ndr-code-bi-dashboard.Piano.NDR_podcast_platform_daily_f`.broadcast_id = broadcastids.broadcast_id\nWHERE date BETWEEN DATE('${__from:date}', \"Europe/Berlin\") AND DATE('${__to:date}', \"Europe/Berlin\")\nGROUP BY platform),\nnot_all_titles_platforms AS(\n    SELECT\n  sum(m_zugriffe_1) AS summe, platform\nFROM `ndr-code-bi-dashboard.Piano.NDR_podcast_platform_daily_f`\nWHERE\nbroadcast_id = \"$broadcast_id_branding\"\nAND date BETWEEN DATE('${__from:date}', \"Europe/Berlin\") AND DATE('${__to:date}', \"Europe/Berlin\")\ngroup by platform\n)\nSELECT * FROM ${dataset}\n",
            "refId": "A",
            "sql": {
              "columns": [
                {
                  "parameters": [],
                  "type": "function"
                }
              ],
              "groupBy": [
                {
                  "property": {
                    "type": "string"
                  },
                  "type": "groupBy"
                }
              ],
              "limit": 50
            }
          }
        ],
        "type": "piechart"
      },
      {
        "datasource": {
          "type": "grafana-bigquery-datasource",
          "uid": "qUaUqEk4k"
        },
        "fieldConfig": {
          "defaults": {
            "color": {
              "fixedColor": "blue",
              "mode": "fixed"
            },
            "decimals": 0,
            "mappings": [],
            "noValue": "N/A",
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                }
              ]
            },
            "unit": "string"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 2,
          "w": 2,
          "x": 18,
          "y": 11
        },
        "id": 20,
        "options": {
          "colorMode": "background",
          "graphMode": "none",
          "justifyMode": "center",
          "orientation": "auto",
          "reduceOptions": {
            "calcs": [
              "last"
            ],
            "fields": "/.*/",
            "values": false
          },
          "text": {
            "titleSize": 20
          },
          "textMode": "value_and_name"
        },
        "pluginVersion": "9.2.3",
        "targets": [
          {
            "dataset": "Quintly",
            "datasource": {
              "type": "grafana-bigquery-datasource",
              "uid": "qUaUqEk4k"
            },
            "editorMode": "code",
            "format": 1,
            "location": "europe-west3",
            "project": "ndr-code-bi-dashboard",
            "rawQuery": true,
            "rawSql": "SELECT  CONCAT(REPEAT(\" \", $filled_size_headline_small - CHAR_LENGTH('ARD Audiothek')), 'ARD Audiothek')\nFROM(\nSELECT 'ARD Audiothek' as Interaktionen\nFROM `ndr-code-bi-dashboard.Quintly.facebook`\nLIMIT 1\n)",
            "refId": "A",
            "sql": {
              "columns": [
                {
                  "parameters": [
                    {
                      "name": "page_engaged_users",
                      "type": "functionParameter"
                    }
                  ],
                  "type": "function"
                }
              ],
              "groupBy": [
                {
                  "property": {
                    "type": "string"
                  },
                  "type": "groupBy"
                }
              ],
              "limit": 50,
              "whereJsonTree": {
                "children1": {
                  "baa899a9-cdef-4012-b456-718364767b70": {
                    "properties": {
                      "field": "profileId",
                      "operator": "equal",
                      "value": [
                        null
                      ],
                      "valueSrc": [
                        "value"
                      ],
                      "valueType": [
                        "number"
                      ]
                    },
                    "type": "rule"
                  }
                },
                "id": "b8aaaa8b-0123-4456-b89a-b18364767b70",
                "type": "group"
              }
            },
            "table": "facebookInsights"
          }
        ],
        "transformations": [
          {
            "id": "organize",
            "options": {
              "excludeByName": {},
              "indexByName": {},
              "renameByName": {
                "f0_": " "
              }
            }
          }
        ],
        "transparent": true,
        "type": "stat"
      },
      {
        "datasource": {
          "type": "grafana-bigquery-datasource",
          "uid": "qUaUqEk4k"
        },
        "fieldConfig": {
          "defaults": {
            "color": {
              "fixedColor": "green",
              "mode": "fixed"
            },
            "decimals": 0,
            "mappings": [],
            "noValue": "N/A",
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                }
              ]
            },
            "unit": "string"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 2,
          "w": 2,
          "x": 20,
          "y": 11
        },
        "id": 21,
        "options": {
          "colorMode": "background",
          "graphMode": "none",
          "justifyMode": "center",
          "orientation": "auto",
          "reduceOptions": {
            "calcs": [
              "last"
            ],
            "fields": "/.*/",
            "values": false
          },
          "text": {
            "titleSize": 20
          },
          "textMode": "value_and_name"
        },
        "pluginVersion": "9.2.3",
        "targets": [
          {
            "dataset": "Quintly",
            "datasource": {
              "type": "grafana-bigquery-datasource",
              "uid": "qUaUqEk4k"
            },
            "editorMode": "code",
            "format": 1,
            "location": "europe-west3",
            "project": "ndr-code-bi-dashboard",
            "rawQuery": true,
            "rawSql": "SELECT  CONCAT(REPEAT(\" \", $filled_size_headline_small - CHAR_LENGTH('Spotify')), 'Spotify')\nFROM(\nSELECT 'Spotify' as Interaktionen\nFROM `ndr-code-bi-dashboard.Quintly.facebook`\nLIMIT 1\n)",
            "refId": "A",
            "sql": {
              "columns": [
                {
                  "parameters": [
                    {
                      "name": "page_engaged_users",
                      "type": "functionParameter"
                    }
                  ],
                  "type": "function"
                }
              ],
              "groupBy": [
                {
                  "property": {
                    "type": "string"
                  },
                  "type": "groupBy"
                }
              ],
              "limit": 50,
              "whereJsonTree": {
                "children1": {
                  "baa899a9-cdef-4012-b456-718364767b70": {
                    "properties": {
                      "field": "profileId",
                      "operator": "equal",
                      "value": [
                        null
                      ],
                      "valueSrc": [
                        "value"
                      ],
                      "valueType": [
                        "number"
                      ]
                    },
                    "type": "rule"
                  }
                },
                "id": "b8aaaa8b-0123-4456-b89a-b18364767b70",
                "type": "group"
              }
            },
            "table": "facebookInsights"
          }
        ],
        "transformations": [
          {
            "id": "organize",
            "options": {
              "excludeByName": {},
              "indexByName": {},
              "renameByName": {
                "f0_": " "
              }
            }
          }
        ],
        "transparent": true,
        "type": "stat"
      },
      {
        "datasource": {
          "type": "grafana-bigquery-datasource",
          "uid": "qUaUqEk4k"
        },
        "fieldConfig": {
          "defaults": {
            "color": {
              "fixedColor": "purple",
              "mode": "fixed"
            },
            "decimals": 0,
            "mappings": [],
            "noValue": "N/A",
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                }
              ]
            },
            "unit": "string"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 2,
          "w": 2,
          "x": 22,
          "y": 11
        },
        "id": 22,
        "options": {
          "colorMode": "background",
          "graphMode": "none",
          "justifyMode": "center",
          "orientation": "auto",
          "reduceOptions": {
            "calcs": [
              "last"
            ],
            "fields": "/.*/",
            "values": false
          },
          "text": {
            "titleSize": 20
          },
          "textMode": "value_and_name"
        },
        "pluginVersion": "9.2.3",
        "targets": [
          {
            "dataset": "Quintly",
            "datasource": {
              "type": "grafana-bigquery-datasource",
              "uid": "qUaUqEk4k"
            },
            "editorMode": "code",
            "format": 1,
            "location": "europe-west3",
            "project": "ndr-code-bi-dashboard",
            "rawQuery": true,
            "rawSql": "SELECT  CONCAT(REPEAT(\" \", $filled_size_headline_small - CHAR_LENGTH('Apple Podcasts')), 'Apple Podcasts')\nFROM(\nSELECT 'Apple Podcasts' as Interaktionen\nFROM `ndr-code-bi-dashboard.Quintly.facebook`\nLIMIT 1\n)",
            "refId": "A",
            "sql": {
              "columns": [
                {
                  "parameters": [
                    {
                      "name": "page_engaged_users",
                      "type": "functionParameter"
                    }
                  ],
                  "type": "function"
                }
              ],
              "groupBy": [
                {
                  "property": {
                    "type": "string"
                  },
                  "type": "groupBy"
                }
              ],
              "limit": 50,
              "whereJsonTree": {
                "children1": {
                  "baa899a9-cdef-4012-b456-718364767b70": {
                    "properties": {
                      "field": "profileId",
                      "operator": "equal",
                      "value": [
                        null
                      ],
                      "valueSrc": [
                        "value"
                      ],
                      "valueType": [
                        "number"
                      ]
                    },
                    "type": "rule"
                  }
                },
                "id": "b8aaaa8b-0123-4456-b89a-b18364767b70",
                "type": "group"
              }
            },
            "table": "facebookInsights"
          }
        ],
        "transformations": [
          {
            "id": "organize",
            "options": {
              "excludeByName": {},
              "indexByName": {},
              "renameByName": {
                "f0_": " "
              }
            }
          }
        ],
        "transparent": true,
        "type": "stat"
      },
      {
        "datasource": {
          "type": "grafana-bigquery-datasource",
          "uid": "qUaUqEk4k"
        },
        "description": "",
        "fieldConfig": {
          "defaults": {
            "color": {
              "fixedColor": "blue",
              "mode": "fixed"
            },
            "decimals": 0,
            "mappings": [],
            "noValue": "–",
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                }
              ]
            },
            "unit": "string"
          },
          "overrides": [
            {
              "matcher": {
                "id": "byName",
                "options": "Interaktionen"
              },
              "properties": [
                {
                  "id": "displayName",
                  "value": "∑ Interaktionen"
                }
              ]
            }
          ]
        },
        "gridPos": {
          "h": 3,
          "w": 2,
          "x": 18,
          "y": 13
        },
        "id": 23,
        "options": {
          "colorMode": "background",
          "graphMode": "none",
          "justifyMode": "center",
          "orientation": "auto",
          "reduceOptions": {
            "calcs": [
              "last"
            ],
            "fields": "/.*/",
            "values": false
          },
          "text": {},
          "textMode": "value_and_name"
        },
        "pluginVersion": "9.2.3",
        "targets": [
          {
            "dataset": "Quintly",
            "datasource": {
              "type": "grafana-bigquery-datasource",
              "uid": "qUaUqEk4k"
            },
            "editorMode": "code",
            "format": 1,
            "location": "europe-west3",
            "project": "ndr-code-bi-dashboard",
            "rawQuery": true,
            "rawSql": "WITH broadcastids AS (\n    SELECT COALESCE(broadcast_id) AS broadcast_id\n    FROM `ndr-code-bi-dashboard.Piano.NDR_podcast_episode_daily_f`\n    WHERE branding = \"$Bereich\" \n    AND date > \"2023-01-01\" \n    ORDER BY broadcast_id DESC\n),\nall_titles_platforms AS(\nSELECT \n    SUM(m_zugriffe_1) AS summe, \n    platform\nFROM `ndr-code-bi-dashboard.Piano.NDR_podcast_platform_daily_f`\nINNER JOIN broadcastids ON `ndr-code-bi-dashboard.Piano.NDR_podcast_platform_daily_f`.broadcast_id = broadcastids.broadcast_id\nWHERE platform = \"ARD Audiothek\" AND date BETWEEN DATE('${__from:date}', \"Europe/Berlin\") AND DATE('${__to:date}', \"Europe/Berlin\")\nGROUP BY platform),\nnot_all_titles_platforms AS(\n    SELECT\n  sum(m_zugriffe_1) AS summe, platform\nFROM `ndr-code-bi-dashboard.Piano.NDR_podcast_platform_daily_f`\nWHERE\nbroadcast_id = \"$broadcast_id_branding\"\nAND platform = \"ARD Audiothek\" AND date BETWEEN DATE('${__from:date}', \"Europe/Berlin\") AND DATE('${__to:date}', \"Europe/Berlin\")\ngroup by platform\n)\nSELECT  CONCAT(REPEAT(\" \", $filled_size_big - CHAR_LENGTH(CAST(summe as STRING))), REPLACE(CAST(FORMAT(\"%'.0f\", CAST(ROUND(summe) as NUMERIC)) AS STRING), \",\", \".\")) FROM \n(\nSELECT summe FROM ${dataset}\n)\n\n\n",
            "refId": "A",
            "sql": {
              "columns": [
                {
                  "parameters": [
                    {
                      "name": "page_engaged_users",
                      "type": "functionParameter"
                    }
                  ],
                  "type": "function"
                }
              ],
              "groupBy": [
                {
                  "property": {
                    "type": "string"
                  },
                  "type": "groupBy"
                }
              ],
              "limit": 50,
              "whereJsonTree": {
                "children1": {
                  "baa899a9-cdef-4012-b456-718364767b70": {
                    "properties": {
                      "field": "profileId",
                      "operator": "equal",
                      "value": [
                        null
                      ],
                      "valueSrc": [
                        "value"
                      ],
                      "valueType": [
                        "number"
                      ]
                    },
                    "type": "rule"
                  }
                },
                "id": "b8aaaa8b-0123-4456-b89a-b18364767b70",
                "type": "group"
              }
            },
            "table": "facebookInsights"
          }
        ],
        "transformations": [
          {
            "id": "organize",
            "options": {
              "excludeByName": {},
              "indexByName": {},
              "renameByName": {
                "f0_": "Downloads Podcast",
                "page_impressions_unique": "Potentielle Reichweite"
              }
            }
          }
        ],
        "transparent": true,
        "type": "stat"
      },
      {
        "datasource": {
          "type": "grafana-bigquery-datasource",
          "uid": "qUaUqEk4k"
        },
        "description": "",
        "fieldConfig": {
          "defaults": {
            "color": {
              "fixedColor": "green",
              "mode": "fixed"
            },
            "decimals": 0,
            "mappings": [],
            "noValue": "–",
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                }
              ]
            },
            "unit": "string"
          },
          "overrides": [
            {
              "matcher": {
                "id": "byName",
                "options": "Interaktionen"
              },
              "properties": [
                {
                  "id": "displayName",
                  "value": "∑ Interaktionen"
                }
              ]
            }
          ]
        },
        "gridPos": {
          "h": 3,
          "w": 2,
          "x": 20,
          "y": 13
        },
        "id": 26,
        "options": {
          "colorMode": "background",
          "graphMode": "none",
          "justifyMode": "center",
          "orientation": "auto",
          "reduceOptions": {
            "calcs": [
              "last"
            ],
            "fields": "/.*/",
            "values": false
          },
          "text": {},
          "textMode": "value_and_name"
        },
        "pluginVersion": "9.2.3",
        "targets": [
          {
            "dataset": "Quintly",
            "datasource": {
              "type": "grafana-bigquery-datasource",
              "uid": "qUaUqEk4k"
            },
            "editorMode": "code",
            "format": 1,
            "location": "europe-west3",
            "project": "ndr-code-bi-dashboard",
            "rawQuery": true,
            "rawSql": "WITH broadcastids AS (\n    SELECT COALESCE(broadcast_id) AS broadcast_id\n    FROM `ndr-code-bi-dashboard.Piano.NDR_podcast_episode_daily_f`\n    WHERE branding = \"$Bereich\" \n    AND date > \"2023-01-01\" \n    ORDER BY broadcast_id DESC\n),\nall_titles_platforms AS(\nSELECT \n    SUM(m_zugriffe_1) AS summe, \n    platform\nFROM `ndr-code-bi-dashboard.Piano.NDR_podcast_platform_daily_f`\nINNER JOIN broadcastids ON `ndr-code-bi-dashboard.Piano.NDR_podcast_platform_daily_f`.broadcast_id = broadcastids.broadcast_id\nWHERE platform = \"Spotify\" AND date BETWEEN DATE('${__from:date}', \"Europe/Berlin\") AND DATE('${__to:date}', \"Europe/Berlin\")\nGROUP BY platform),\nnot_all_titles_platforms AS(\n    SELECT\n  sum(m_zugriffe_1) AS summe, platform\nFROM `ndr-code-bi-dashboard.Piano.NDR_podcast_platform_daily_f`\nWHERE\nbroadcast_id = \"$broadcast_id_branding\"\nAND platform = \"Spotify\" AND date BETWEEN DATE('${__from:date}', \"Europe/Berlin\") AND DATE('${__to:date}', \"Europe/Berlin\")\ngroup by platform\n)\nSELECT  CONCAT(REPEAT(\" \", $filled_size_big - CHAR_LENGTH(CAST(summe as STRING))), REPLACE(CAST(FORMAT(\"%'.0f\", CAST(ROUND(summe) as NUMERIC)) AS STRING), \",\", \".\")) FROM \n(\nSELECT summe FROM ${dataset}\n)\n\n\n",
            "refId": "A",
            "sql": {
              "columns": [
                {
                  "parameters": [
                    {
                      "name": "page_engaged_users",
                      "type": "functionParameter"
                    }
                  ],
                  "type": "function"
                }
              ],
              "groupBy": [
                {
                  "property": {
                    "type": "string"
                  },
                  "type": "groupBy"
                }
              ],
              "limit": 50,
              "whereJsonTree": {
                "children1": {
                  "baa899a9-cdef-4012-b456-718364767b70": {
                    "properties": {
                      "field": "profileId",
                      "operator": "equal",
                      "value": [
                        null
                      ],
                      "valueSrc": [
                        "value"
                      ],
                      "valueType": [
                        "number"
                      ]
                    },
                    "type": "rule"
                  }
                },
                "id": "b8aaaa8b-0123-4456-b89a-b18364767b70",
                "type": "group"
              }
            },
            "table": "facebookInsights"
          }
        ],
        "transformations": [
          {
            "id": "organize",
            "options": {
              "excludeByName": {},
              "indexByName": {},
              "renameByName": {
                "f0_": "Downloads Podcast",
                "page_impressions_unique": "Potentielle Reichweite"
              }
            }
          }
        ],
        "transparent": true,
        "type": "stat"
      },
      {
        "datasource": {
          "type": "grafana-bigquery-datasource",
          "uid": "qUaUqEk4k"
        },
        "description": "",
        "fieldConfig": {
          "defaults": {
            "color": {
              "fixedColor": "purple",
              "mode": "fixed"
            },
            "decimals": 0,
            "mappings": [],
            "noValue": "–",
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                }
              ]
            },
            "unit": "string"
          },
          "overrides": [
            {
              "matcher": {
                "id": "byName",
                "options": "Interaktionen"
              },
              "properties": [
                {
                  "id": "displayName",
                  "value": "∑ Interaktionen"
                }
              ]
            }
          ]
        },
        "gridPos": {
          "h": 3,
          "w": 2,
          "x": 22,
          "y": 13
        },
        "id": 27,
        "options": {
          "colorMode": "background",
          "graphMode": "none",
          "justifyMode": "center",
          "orientation": "auto",
          "reduceOptions": {
            "calcs": [
              "last"
            ],
            "fields": "/.*/",
            "values": false
          },
          "text": {},
          "textMode": "value_and_name"
        },
        "pluginVersion": "9.2.3",
        "targets": [
          {
            "dataset": "Quintly",
            "datasource": {
              "type": "grafana-bigquery-datasource",
              "uid": "qUaUqEk4k"
            },
            "editorMode": "code",
            "format": 1,
            "location": "europe-west3",
            "project": "ndr-code-bi-dashboard",
            "rawQuery": true,
            "rawSql": "WITH broadcastids AS (\n    SELECT COALESCE(broadcast_id) AS broadcast_id\n    FROM `ndr-code-bi-dashboard.Piano.NDR_podcast_episode_daily_f`\n    WHERE branding = \"$Bereich\" \n    AND date > \"2023-01-01\" \n    ORDER BY broadcast_id DESC\n),\nall_titles_platforms AS(\nSELECT \n    SUM(m_zugriffe_1) AS summe, \n    platform\nFROM `ndr-code-bi-dashboard.Piano.NDR_podcast_platform_daily_f`\nINNER JOIN broadcastids ON `ndr-code-bi-dashboard.Piano.NDR_podcast_platform_daily_f`.broadcast_id = broadcastids.broadcast_id\nWHERE platform = \"Apple Podcasts\" AND date BETWEEN DATE('${__from:date}', \"Europe/Berlin\") AND DATE('${__to:date}', \"Europe/Berlin\")\nGROUP BY platform),\nnot_all_titles_platforms AS(\n    SELECT\n  sum(m_zugriffe_1) AS summe, platform\nFROM `ndr-code-bi-dashboard.Piano.NDR_podcast_platform_daily_f`\nWHERE\nbroadcast_id = \"$broadcast_id_branding\"\nAND platform = \"Apple Podcasts\" AND date BETWEEN DATE('${__from:date}', \"Europe/Berlin\") AND DATE('${__to:date}', \"Europe/Berlin\")\ngroup by platform\n)\nSELECT  CONCAT(REPEAT(\" \", $filled_size_big - CHAR_LENGTH(CAST(summe as STRING))), REPLACE(CAST(FORMAT(\"%'.0f\", CAST(ROUND(summe) as NUMERIC)) AS STRING), \",\", \".\")) FROM \n(\nSELECT summe FROM ${dataset}\n)\n\n\n",
            "refId": "A",
            "sql": {
              "columns": [
                {
                  "parameters": [
                    {
                      "name": "page_engaged_users",
                      "type": "functionParameter"
                    }
                  ],
                  "type": "function"
                }
              ],
              "groupBy": [
                {
                  "property": {
                    "type": "string"
                  },
                  "type": "groupBy"
                }
              ],
              "limit": 50,
              "whereJsonTree": {
                "children1": {
                  "baa899a9-cdef-4012-b456-718364767b70": {
                    "properties": {
                      "field": "profileId",
                      "operator": "equal",
                      "value": [
                        null
                      ],
                      "valueSrc": [
                        "value"
                      ],
                      "valueType": [
                        "number"
                      ]
                    },
                    "type": "rule"
                  }
                },
                "id": "b8aaaa8b-0123-4456-b89a-b18364767b70",
                "type": "group"
              }
            },
            "table": "facebookInsights"
          }
        ],
        "transformations": [
          {
            "id": "organize",
            "options": {
              "excludeByName": {},
              "indexByName": {},
              "renameByName": {
                "f0_": "Downloads Podcast",
                "page_impressions_unique": "Potentielle Reichweite"
              }
            }
          }
        ],
        "transparent": true,
        "type": "stat"
      },
      {
        "datasource": {
          "type": "postgres",
          "uid": "5RzC0pR4k"
        },
        "gridPos": {
          "h": 5,
          "w": 3,
          "x": 0,
          "y": 14
        },
        "id": 51,
        "options": {
          "code": {
            "language": "plaintext",
            "showLineNumbers": false,
            "showMiniMap": false
          },
          "content": "Letztes Update: <br> \r\n${lastUpdate}\r\n<br> <br> \r\nDatenstand: <br> \r\n01.01.2022 – ${datenstand}",
          "mode": "markdown"
        },
        "pluginVersion": "9.2.3",
        "targets": [
          {
            "datasource": {
              "type": "postgres",
              "uid": "5RzC0pR4k"
            },
            "format": "time_series",
            "group": [],
            "metricColumn": "none",
            "rawQuery": false,
            "rawSql": "SELECT\n  \"time\" AS \"time\",\n  post_video_view_time\nFROM facebookinsightsownposts\nWHERE\n  $__timeFilter(\"time\")\nORDER BY 1",
            "refId": "A",
            "select": [
              [
                {
                  "params": [
                    "post_video_view_time"
                  ],
                  "type": "column"
                }
              ]
            ],
            "table": "facebookinsightsownposts",
            "timeColumn": "\"time\"",
            "timeColumnType": "timestamp",
            "where": [
              {
                "name": "$__timeFilter",
                "params": [],
                "type": "macro"
              }
            ]
          }
        ],
        "transparent": true,
        "type": "text"
      },
      {
        "datasource": {
          "type": "grafana-bigquery-datasource",
          "uid": "qUaUqEk4k"
        },
        "fieldConfig": {
          "defaults": {
            "color": {
              "fixedColor": "#ffffff",
              "mode": "fixed"
            },
            "decimals": 0,
            "mappings": [],
            "noValue": "N/A",
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                }
              ]
            },
            "unit": "string"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 2,
          "w": 4,
          "x": 3,
          "y": 15
        },
        "id": 56,
        "options": {
          "colorMode": "background",
          "graphMode": "none",
          "justifyMode": "center",
          "orientation": "auto",
          "reduceOptions": {
            "calcs": [
              "last"
            ],
            "fields": "/.*/",
            "values": false
          },
          "text": {
            "titleSize": 20
          },
          "textMode": "value_and_name"
        },
        "pluginVersion": "9.2.3",
        "targets": [
          {
            "dataset": "Quintly",
            "datasource": {
              "type": "grafana-bigquery-datasource",
              "uid": "qUaUqEk4k"
            },
            "editorMode": "code",
            "format": 1,
            "location": "europe-west3",
            "project": "ndr-code-bi-dashboard",
            "rawQuery": true,
            "rawSql": "SELECT  CONCAT(REPEAT(\" \", $filled_size_headline_small - CHAR_LENGTH('Bereich: $Bereich')), 'Bereich: $Bereich')\nFROM(\nSELECT 'Bereich: $Bereich' as Interaktionen\nFROM `ndr-code-bi-dashboard.Quintly.facebook`\nLIMIT 1\n)",
            "refId": "A",
            "sql": {
              "columns": [
                {
                  "parameters": [
                    {
                      "name": "page_engaged_users",
                      "type": "functionParameter"
                    }
                  ],
                  "type": "function"
                }
              ],
              "groupBy": [
                {
                  "property": {
                    "type": "string"
                  },
                  "type": "groupBy"
                }
              ],
              "limit": 50,
              "whereJsonTree": {
                "children1": {
                  "baa899a9-cdef-4012-b456-718364767b70": {
                    "properties": {
                      "field": "profileId",
                      "operator": "equal",
                      "value": [
                        null
                      ],
                      "valueSrc": [
                        "value"
                      ],
                      "valueType": [
                        "number"
                      ]
                    },
                    "type": "rule"
                  }
                },
                "id": "b8aaaa8b-0123-4456-b89a-b18364767b70",
                "type": "group"
              }
            },
            "table": "facebookInsights"
          }
        ],
        "transformations": [
          {
            "id": "organize",
            "options": {
              "excludeByName": {},
              "indexByName": {},
              "renameByName": {
                "f0_": " "
              }
            }
          }
        ],
        "transparent": true,
        "type": "stat"
      },
      {
        "datasource": {
          "type": "grafana-bigquery-datasource",
          "uid": "qUaUqEk4k"
        },
        "fieldConfig": {
          "defaults": {
            "color": {
              "fixedColor": "#ffffff",
              "mode": "fixed"
            },
            "decimals": 0,
            "mappings": [],
            "noValue": "N/A",
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                }
              ]
            },
            "unit": "string"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 2,
          "w": 4,
          "x": 7,
          "y": 15
        },
        "id": 57,
        "options": {
          "colorMode": "background",
          "graphMode": "none",
          "justifyMode": "center",
          "orientation": "auto",
          "reduceOptions": {
            "calcs": [
              "last"
            ],
            "fields": "/.*/",
            "values": false
          },
          "text": {
            "titleSize": 20
          },
          "textMode": "value_and_name"
        },
        "pluginVersion": "9.2.3",
        "targets": [
          {
            "dataset": "Quintly",
            "datasource": {
              "type": "grafana-bigquery-datasource",
              "uid": "qUaUqEk4k"
            },
            "editorMode": "code",
            "format": 1,
            "location": "europe-west3",
            "project": "ndr-code-bi-dashboard",
            "rawQuery": true,
            "rawSql": "SELECT  CONCAT(REPEAT(\" \", $filled_size_headline_small - CHAR_LENGTH('Episodenauswahl')), 'Episodenauswahl')\nFROM(\nSELECT 'Episodenauswahl' as Interaktionen\nFROM `ndr-code-bi-dashboard.Quintly.facebook`\nLIMIT 1\n)",
            "refId": "A",
            "sql": {
              "columns": [
                {
                  "parameters": [
                    {
                      "name": "page_engaged_users",
                      "type": "functionParameter"
                    }
                  ],
                  "type": "function"
                }
              ],
              "groupBy": [
                {
                  "property": {
                    "type": "string"
                  },
                  "type": "groupBy"
                }
              ],
              "limit": 50,
              "whereJsonTree": {
                "children1": {
                  "baa899a9-cdef-4012-b456-718364767b70": {
                    "properties": {
                      "field": "profileId",
                      "operator": "equal",
                      "value": [
                        null
                      ],
                      "valueSrc": [
                        "value"
                      ],
                      "valueType": [
                        "number"
                      ]
                    },
                    "type": "rule"
                  }
                },
                "id": "b8aaaa8b-0123-4456-b89a-b18364767b70",
                "type": "group"
              }
            },
            "table": "facebookInsights"
          }
        ],
        "transformations": [
          {
            "id": "organize",
            "options": {
              "excludeByName": {},
              "indexByName": {},
              "renameByName": {
                "f0_": " "
              }
            }
          }
        ],
        "transparent": true,
        "type": "stat"
      },
      {
        "datasource": {
          "type": "postgres",
          "uid": "5RzC0pR4k"
        },
        "gridPos": {
          "h": 4,
          "w": 6,
          "x": 18,
          "y": 16
        },
        "id": 39,
        "options": {
          "code": {
            "language": "plaintext",
            "showLineNumbers": false,
            "showMiniMap": false
          },
          "content": "Podcast-Daten werden erst mit 5 Tagen Verzögerung zur Verfügung gestellt. Die freie Datumsauswahl oder Verwendung fester Zeiträume (bspw. „letzte 7 Tage“ oder „letzte 30 Tage“) beziehen sich deswegen hier auf die letzten verfügbaren 7 bzw. 30 Tage.",
          "mode": "markdown"
        },
        "pluginVersion": "9.2.3",
        "targets": [
          {
            "datasource": {
              "type": "postgres",
              "uid": "5RzC0pR4k"
            },
            "format": "time_series",
            "group": [],
            "metricColumn": "none",
            "rawQuery": false,
            "rawSql": "SELECT\n  \"time\" AS \"time\",\n  post_video_view_time\nFROM facebookinsightsownposts\nWHERE\n  $__timeFilter(\"time\")\nORDER BY 1",
            "refId": "A",
            "select": [
              [
                {
                  "params": [
                    "post_video_view_time"
                  ],
                  "type": "column"
                }
              ]
            ],
            "table": "facebookinsightsownposts",
            "timeColumn": "\"time\"",
            "timeColumnType": "timestamp",
            "where": [
              {
                "name": "$__timeFilter",
                "params": [],
                "type": "macro"
              }
            ]
          }
        ],
        "transparent": true,
        "type": "text"
      },
      {
        "datasource": {
          "type": "grafana-bigquery-datasource",
          "uid": "qUaUqEk4k"
        },
        "description": "",
        "fieldConfig": {
          "defaults": {
            "color": {
              "fixedColor": "#1F60C4",
              "mode": "fixed"
            },
            "decimals": 0,
            "mappings": [],
            "noValue": "–",
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                }
              ]
            },
            "unit": "string"
          },
          "overrides": [
            {
              "matcher": {
                "id": "byName",
                "options": "Interaktionen"
              },
              "properties": [
                {
                  "id": "displayName",
                  "value": "∑ Interaktionen"
                }
              ]
            }
          ]
        },
        "gridPos": {
          "h": 3,
          "w": 2,
          "x": 3,
          "y": 17
        },
        "id": 13,
        "options": {
          "colorMode": "background",
          "graphMode": "none",
          "justifyMode": "center",
          "orientation": "auto",
          "reduceOptions": {
            "calcs": [
              "last"
            ],
            "fields": "/.*/",
            "values": false
          },
          "text": {},
          "textMode": "value_and_name"
        },
        "pluginVersion": "9.2.3",
        "targets": [
          {
            "dataset": "Quintly",
            "datasource": {
              "type": "grafana-bigquery-datasource",
              "uid": "qUaUqEk4k"
            },
            "editorMode": "code",
            "format": 1,
            "location": "europe-west3",
            "project": "ndr-code-bi-dashboard",
            "rawQuery": true,
            "rawSql": "SELECT  CONCAT(REPEAT(\" \", $filled_size_big - CHAR_LENGTH(CAST(summe as STRING))), REPLACE(CAST(FORMAT(\"%'.0f\", CAST(ROUND(summe) as NUMERIC)) AS STRING), \",\", \".\"))FROM\n(\nSELECT \n  SUM(m_zugriffe_1) AS summe \nFROM `ndr-code-bi-dashboard.Piano.NDR_podcast_episode_daily_f`\nWHERE --profileId = $profileID \n--AND \nbranding = \"$Bereich\" \nAND podcast_title = \"All titles\"\nAND headline = \"All headlines\"\nAND date BETWEEN DATE('${__from:date}', \"Europe/Berlin\") AND DATE('${__to:date}', \"Europe/Berlin\")\n)\n",
            "refId": "A",
            "sql": {
              "columns": [
                {
                  "parameters": [
                    {
                      "name": "page_engaged_users",
                      "type": "functionParameter"
                    }
                  ],
                  "type": "function"
                }
              ],
              "groupBy": [
                {
                  "property": {
                    "type": "string"
                  },
                  "type": "groupBy"
                }
              ],
              "limit": 50,
              "whereJsonTree": {
                "children1": {
                  "baa899a9-cdef-4012-b456-718364767b70": {
                    "properties": {
                      "field": "profileId",
                      "operator": "equal",
                      "value": [
                        null
                      ],
                      "valueSrc": [
                        "value"
                      ],
                      "valueType": [
                        "number"
                      ]
                    },
                    "type": "rule"
                  }
                },
                "id": "b8aaaa8b-0123-4456-b89a-b18364767b70",
                "type": "group"
              }
            },
            "table": "facebookInsights"
          }
        ],
        "transformations": [
          {
            "id": "organize",
            "options": {
              "excludeByName": {},
              "indexByName": {},
              "renameByName": {
                "f0_": "Downloads",
                "page_impressions_unique": "Potentielle Reichweite"
              }
            }
          }
        ],
        "transparent": true,
        "type": "stat"
      },
      {
        "datasource": {
          "type": "grafana-bigquery-datasource",
          "uid": "qUaUqEk4k"
        },
        "description": "",
        "fieldConfig": {
          "defaults": {
            "color": {
              "fixedColor": "dark-blue",
              "mode": "fixed"
            },
            "decimals": 0,
            "mappings": [],
            "noValue": "–",
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                }
              ]
            },
            "unit": "string"
          },
          "overrides": [
            {
              "matcher": {
                "id": "byName",
                "options": "Interaktionen"
              },
              "properties": [
                {
                  "id": "displayName",
                  "value": "∑ Interaktionen"
                }
              ]
            }
          ]
        },
        "gridPos": {
          "h": 3,
          "w": 2,
          "x": 5,
          "y": 17
        },
        "id": 19,
        "options": {
          "colorMode": "background",
          "graphMode": "none",
          "justifyMode": "center",
          "orientation": "auto",
          "reduceOptions": {
            "calcs": [
              "last"
            ],
            "fields": "/.*/",
            "values": false
          },
          "text": {},
          "textMode": "value_and_name"
        },
        "pluginVersion": "9.2.3",
        "targets": [
          {
            "dataset": "Quintly",
            "datasource": {
              "type": "grafana-bigquery-datasource",
              "uid": "qUaUqEk4k"
            },
            "editorMode": "code",
            "format": 1,
            "location": "europe-west3",
            "project": "ndr-code-bi-dashboard",
            "rawQuery": true,
            "rawSql": "SELECT  CONCAT(REPEAT(\" \", $filled_size_big - CHAR_LENGTH(CAST(summe as STRING))), REPLACE(CAST(FORMAT(\"%'.0f\", CAST(ROUND(summe) as NUMERIC)) AS STRING), \",\", \".\"))FROM\n(\nSELECT \n  SUM(m_technische_nutzer) AS summe \nFROM `ndr-code-bi-dashboard.Piano.NDR_podcast_episode_daily_f`\nWHERE --profileId = $profileID \n--AND \nbranding = \"$Bereich\" \nAND podcast_title = \"All titles\"\nAND headline = \"All headlines\"\nAND date BETWEEN DATE('${__from:date}', \"Europe/Berlin\") AND DATE('${__to:date}', \"Europe/Berlin\")\n)\n",
            "refId": "A",
            "sql": {
              "columns": [
                {
                  "parameters": [
                    {
                      "name": "page_engaged_users",
                      "type": "functionParameter"
                    }
                  ],
                  "type": "function"
                }
              ],
              "groupBy": [
                {
                  "property": {
                    "type": "string"
                  },
                  "type": "groupBy"
                }
              ],
              "limit": 50,
              "whereJsonTree": {
                "children1": {
                  "baa899a9-cdef-4012-b456-718364767b70": {
                    "properties": {
                      "field": "profileId",
                      "operator": "equal",
                      "value": [
                        null
                      ],
                      "valueSrc": [
                        "value"
                      ],
                      "valueType": [
                        "number"
                      ]
                    },
                    "type": "rule"
                  }
                },
                "id": "b8aaaa8b-0123-4456-b89a-b18364767b70",
                "type": "group"
              }
            },
            "table": "facebookInsights"
          }
        ],
        "transformations": [
          {
            "id": "organize",
            "options": {
              "excludeByName": {},
              "indexByName": {},
              "renameByName": {
                "f0_": "Technische Nutzer",
                "page_impressions_unique": "Potentielle Reichweite"
              }
            }
          }
        ],
        "transparent": true,
        "type": "stat"
      },
      {
        "datasource": {
          "type": "grafana-bigquery-datasource",
          "uid": "qUaUqEk4k"
        },
        "description": "",
        "fieldConfig": {
          "defaults": {
            "color": {
              "fixedColor": "dark-blue",
              "mode": "fixed"
            },
            "decimals": 0,
            "mappings": [],
            "noValue": "–",
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                }
              ]
            },
            "unit": "string"
          },
          "overrides": [
            {
              "matcher": {
                "id": "byName",
                "options": "Interaktionen"
              },
              "properties": [
                {
                  "id": "displayName",
                  "value": "∑ Interaktionen"
                }
              ]
            }
          ]
        },
        "gridPos": {
          "h": 3,
          "w": 2,
          "x": 7,
          "y": 17
        },
        "id": 12,
        "options": {
          "colorMode": "background",
          "graphMode": "none",
          "justifyMode": "center",
          "orientation": "auto",
          "reduceOptions": {
            "calcs": [
              "last"
            ],
            "fields": "/.*/",
            "values": false
          },
          "text": {},
          "textMode": "value_and_name"
        },
        "pluginVersion": "9.2.3",
        "targets": [
          {
            "dataset": "Quintly",
            "datasource": {
              "type": "grafana-bigquery-datasource",
              "uid": "qUaUqEk4k"
            },
            "editorMode": "code",
            "format": 1,
            "location": "europe-west3",
            "project": "ndr-code-bi-dashboard",
            "rawQuery": true,
            "rawSql": "SELECT  CONCAT(REPEAT(\" \", $filled_size - CHAR_LENGTH(CAST(summe as STRING))), REPLACE(CAST(FORMAT(\"%'.0f\", CAST(ROUND(summe) as NUMERIC)) AS STRING), \",\", \".\"))FROM\n(\nSELECT \n  SUM(m_zugriffe_1) AS summe \nFROM `ndr-code-bi-dashboard.Piano.NDR_podcast_episode_daily_f`\nWHERE \nbranding = \"$Bereich\" \nAND podcast_title = \"$Podcast\"\nAND REPLACE(headline,\"'\",\"\") IN ($Episode)\nAND date BETWEEN DATE('${__from:date}', \"Europe/Berlin\") AND DATE('${__to:date}', \"Europe/Berlin\")\n)\n",
            "refId": "A",
            "sql": {
              "columns": [
                {
                  "parameters": [
                    {
                      "name": "page_engaged_users",
                      "type": "functionParameter"
                    }
                  ],
                  "type": "function"
                }
              ],
              "groupBy": [
                {
                  "property": {
                    "type": "string"
                  },
                  "type": "groupBy"
                }
              ],
              "limit": 50,
              "whereJsonTree": {
                "children1": {
                  "baa899a9-cdef-4012-b456-718364767b70": {
                    "properties": {
                      "field": "profileId",
                      "operator": "equal",
                      "value": [
                        null
                      ],
                      "valueSrc": [
                        "value"
                      ],
                      "valueType": [
                        "number"
                      ]
                    },
                    "type": "rule"
                  }
                },
                "id": "b8aaaa8b-0123-4456-b89a-b18364767b70",
                "type": "group"
              }
            },
            "table": "facebookInsights"
          }
        ],
        "transformations": [
          {
            "id": "organize",
            "options": {
              "excludeByName": {},
              "indexByName": {},
              "renameByName": {
                "f0_": "Downloads",
                "page_impressions_unique": "Potentielle Reichweite"
              }
            }
          }
        ],
        "transparent": true,
        "type": "stat"
      },
      {
        "datasource": {
          "type": "grafana-bigquery-datasource",
          "uid": "qUaUqEk4k"
        },
        "description": "*im Analysezeitraum veröffentlichte Episode\n",
        "fieldConfig": {
          "defaults": {
            "color": {
              "fixedColor": "dark-blue",
              "mode": "fixed"
            },
            "decimals": 0,
            "mappings": [],
            "noValue": "–",
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                }
              ]
            },
            "unit": "string"
          },
          "overrides": [
            {
              "matcher": {
                "id": "byName",
                "options": "Interaktionen"
              },
              "properties": [
                {
                  "id": "displayName",
                  "value": "∑ Interaktionen"
                },
                {
                  "id": "unit",
                  "value": "locale"
                }
              ]
            }
          ]
        },
        "gridPos": {
          "h": 3,
          "w": 2,
          "x": 9,
          "y": 17
        },
        "id": 55,
        "options": {
          "colorMode": "background",
          "graphMode": "none",
          "justifyMode": "center",
          "orientation": "auto",
          "reduceOptions": {
            "calcs": [
              "last"
            ],
            "fields": "/.*/",
            "values": false
          },
          "text": {},
          "textMode": "value_and_name"
        },
        "pluginVersion": "9.2.3",
        "targets": [
          {
            "dataset": "Quintly",
            "datasource": {
              "type": "grafana-bigquery-datasource",
              "uid": "qUaUqEk4k"
            },
            "editorMode": "code",
            "format": 1,
            "location": "europe-west3",
            "project": "ndr-code-bi-dashboard",
            "rawQuery": true,
            "rawSql": "SELECT  CONCAT(REPEAT(\" \", $filled_size_big - CHAR_LENGTH(CAST(ROUND(summe,0) as STRING))), REPLACE(CAST(FORMAT(\"%'.0f\", CAST(ROUND(summe) as NUMERIC)) AS STRING), \",\", \".\"))FROM\n(\n  WITH summe_zugriffe as (\n    SELECT\n  SUM(m_zugriffe_1)  as zugriffe\n  FROM `ndr-code-bi-dashboard.Piano.NDR_podcast_episode_daily_f`\nWHERE\nbranding = \"$Bereich\"\nAND podcast_title = \"$Podcast\"\nAND CASE \"All headlines\" IN ($Episode)\nWHEN TRUE THEN REPLACE(headline,\"'\",\"\") = \"All headlines\"\nELSE REPLACE(headline,\"'\",\"\") IN ($Episode)\nEND\nAND date BETWEEN DATE('${__from:date}', \"Europe/Berlin\") AND DATE('${__to:date}', \"Europe/Berlin\")\n  ),\n \n  summe_headline as (\n    SELECT COUNT(DISTINCT headline) AS headlines\n    FROM `ndr-code-bi-dashboard.Piano.NDR_podcast_episode_daily_f`\nWHERE\nbranding = \"$Bereich\"\nAND podcast_title = \"$Podcast\"\nAND CASE \"All headlines\" IN ($Episode)\nWHEN TRUE THEN REPLACE(headline,\"'\",\"\") NOT IN (\"All headlines\")\nELSE REPLACE(headline,\"'\",\"\") IN ($Episode)\nEND\nAND date > \"2022-01-01\"\n  ),\n  summe_allheadlines as (\n    SELECT COUNT(DISTINCT headline) AS headlines\n    FROM `ndr-code-bi-dashboard.Piano.NDR_podcast_episode_daily_f`\n    WHERE\n    branding = \"$Bereich\"\n    AND REPLACE(headline,\"'\",\"\") NOT IN ($Episode)\n    AND date > \"2022-01-01\"\n  )\n \nSELECT\n  CASE \"${Podcast:text}\"\nWHEN \"All titles\" THEN SAFE_DIVIDE(summe_zugriffe.zugriffe,summe_allheadlines.headlines)\nELSE  SAFE_DIVIDE(summe_zugriffe.zugriffe,summe_headline.headlines) END as summe\nFROM summe_zugriffe, summe_headline, summe_allheadlines)",
            "refId": "A",
            "sql": {
              "columns": [
                {
                  "parameters": [
                    {
                      "name": "page_engaged_users",
                      "type": "functionParameter"
                    }
                  ],
                  "type": "function"
                }
              ],
              "groupBy": [
                {
                  "property": {
                    "type": "string"
                  },
                  "type": "groupBy"
                }
              ],
              "limit": 50,
              "whereJsonTree": {
                "children1": {
                  "baa899a9-cdef-4012-b456-718364767b70": {
                    "properties": {
                      "field": "profileId",
                      "operator": "equal",
                      "value": [
                        null
                      ],
                      "valueSrc": [
                        "value"
                      ],
                      "valueType": [
                        "number"
                      ]
                    },
                    "type": "rule"
                  }
                },
                "id": "b8aaaa8b-0123-4456-b89a-b18364767b70",
                "type": "group"
              }
            },
            "table": "facebookInsights"
          }
        ],
        "transformations": [
          {
            "id": "organize",
            "options": {
              "excludeByName": {},
              "indexByName": {},
              "renameByName": {
                "f0_": "Ø Episode",
                "page_impressions_unique": "Potentielle Reichweite"
              }
            }
          }
        ],
        "transparent": true,
        "type": "stat"
      },
      {
        "datasource": {
          "type": "grafana-bigquery-datasource",
          "uid": "qUaUqEk4k"
        },
        "gridPos": {
          "h": 9,
          "w": 24,
          "x": 0,
          "y": 20
        },
        "id": 45,
        "options": {
          "baidu": {
            "callback": "bmapReady",
            "key": ""
          },
          "editor": {
            "format": "auto",
            "height": 2000
          },
          "gaode": {
            "key": "",
            "plugin": "AMap.Scale,AMap.ToolBar"
          },
          "getOption": "function formatDate(timestamp) {\n  const date = new Date(timestamp);\n  let day = ('0' + date.getDate()).slice(-2);\n  let month = ('0' + (date.getMonth() + 1)).slice(-2);\n  let year = date.getFullYear();\n  return `${day}.${month}.${year}`;\n}\n\nconst allSumData = data.series.flatMap((s) => {\n  const allSum = s.fields.find((f) => f.name === 'zugriffe').values.buffer;\n  return allSum;\n})\n\nconst series = data.series.map((s) => {\n  const timeValues = s.fields.find((f) => f.name === 'date').values.buffer;\n  const type = s.fields.find((f) => f.name === 'type').values.buffer[0];\n  const zugriffe = s.fields.find((f) => f.name === 'zugriffe').values.buffer;\n  const ard_sum = s.fields.find((f) => f.name === 'ard_summe').values.buffer;\n  const apple_sum = s.fields.find((f) => f.name === 'apple_summe').values.buffer;\n  const spotify_sum = s.fields.find((f) => f.name === 'spotify_summe').values.buffer;\n  const rest_sum = s.fields.find((f) => f.name === 'rest_summe').values.buffer;\n  console.log(\"Date\", timeValues);\n  console.log(\"Type\", type);\n  console.log(\"Zugriffe\", zugriffe);\n  console.log(\"ARD Summe\", ard_sum);\n  console.log(\"Apple Summe\", apple_sum);\n  console.log(\"Spotify Summe\", spotify_sum);\n  console.log(\"Rest Summe\", rest_sum);\n\n  if (type === \"bar\") {\n    return [\n      //{\n      //  name: 'Zugriffe',\n      //  type: type,\n      //  stack: 'total',\n      //  smooth: true,\n      // showSymbol: false,\n      //data: zugriffe.map((value, index) => [timeValues[index], value])\n      //},\n      {\n        name: 'ARD Audiothek',\n        type: type,\n        stack: 'total',\n        smooth: true,\n        showSymbol: false,\n        itemStyle: {\n          color: \"rgb(40, 115, 237)\"\n        },\n        data: ard_sum.map((value, index) => [timeValues[index], value])\n      },\n      {\n        name: 'Apple Podcasts',\n        type: type,\n        stack: 'total',\n        smooth: true,\n        showSymbol: false,\n        itemStyle: {\n          color: \"rgb(166, 77, 204)\"\n        },\n        data: apple_sum.map((value, index) => [timeValues[index], value])\n      },\n      {\n        name: 'Spotify',\n        type: type,\n        stack: 'total',\n        smooth: true,\n        showSymbol: false,\n        itemStyle: {\n          color: \"rgb(89, 169, 77)\"\n        },\n        data: spotify_sum.map((value, index) => [timeValues[index], value])\n      },\n      {\n        name: 'Rest',\n        type: type,\n        stack: 'total',\n        label: {\n          show: true,\n          position: 'top',\n          formatter: function (params) {\n            const allSumValue = allSumData[params.dataIndex];\n            let number = Math.floor(allSumValue);\n            let formattedNumber = new Intl.NumberFormat('de-DE').format(number);\n            return formattedNumber;\n          }\n        },\n        itemStyle: {\n          color: \"rgb(255, 255, 255)\"\n        },\n        smooth: true,\n        showSymbol: false,\n        data: rest_sum.map((value, index) => [timeValues[index], value])\n      }\n    ]\n  } else {\n    return [\n      {\n        name: 'Zugriffe',\n        type: type,\n        smooth: true,\n        showSymbol: false,\n        itemStyle: {\n          color: \"rgb(255,0, 0)\"\n        },\n        data: zugriffe.map((value, index) => [timeValues[index], value])\n      },\n      {\n        name: 'ARD Audiothek',\n        type: type,\n        smooth: true,\n        showSymbol: false,\n        itemStyle: {\n          color: \"rgb(40, 115, 237)\"\n        },\n        data: ard_sum.map((value, index) => [timeValues[index], value])\n      },\n      {\n        name: 'Apple Podcasts',\n        type: type,\n        smooth: true,\n        showSymbol: false,\n        itemStyle: {\n          color: \"rgb(166, 77, 204)\"\n        },\n        data: apple_sum.map((value, index) => [timeValues[index], value])\n      },\n      {\n        name: 'Spotify',\n        type: type,\n        smooth: true,\n        showSymbol: false,\n        itemStyle: {\n          color: \"rgb(89, 169, 77)\"\n        },\n        data: spotify_sum.map((value, index) => [timeValues[index], value])\n      },\n      {\n        name: 'Rest',\n        type: type,\n        smooth: true,\n        showSymbol: false,\n        itemStyle: {\n          color: \"rgb(255, 255, 255)\"\n        },\n        data: rest_sum.map((value, index) => [timeValues[index], value])\n      }\n    ]\n  }\n}).flat();\n\n\n\n/**\n * Enable Data Zoom by default\n */\nsetTimeout(() => echartsInstance.dispatchAction({\n  type: 'takeGlobalCursor',\n  key: 'dataZoomSelect',\n  dataZoomSelectActive: true,\n}), 500);\n\n/**\n * Update Time Range on Zoom\n */\nechartsInstance.on('datazoom', function (params) {\n  const startValue = params.batch[0]?.startValue;\n  const endValue = params.batch[0]?.endValue;\n  locationService.partial({ from: startValue, to: endValue });\n});\n\n\nreturn {\n  backgroundColor: 'transparent',\n  tooltip: {\n    trigger: 'axis',\n    axisPointer: {\n      type: 'cross'\n    },\n    formatter: function (params) {\n      let tooltipContent = formatDate(params[0].axisValue) + '<br/>'; // Datumsformatierung\n      params.forEach(function (item) {\n        //let formattedValue = item.data[1].toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, '.'); // Tausendertrennzeichen einfügen\n        let number = Math.floor(item.data[1]);\n        let formattedValue = new Intl.NumberFormat('de-DE').format(number);\n        tooltipContent += item.marker + item.seriesName + ': ' + formattedValue + '<br/>';\n      });\n      return tooltipContent;\n    }\n  },\n  legend: {\n    orient: 'horizontal',\n    left: 'left',\n    bottom: 'bottom',\n  },\n  toolbox: {\n    feature: {\n      dataZoom: {\n        yAxisIndex: 'none',\n        icon: {\n          zoom: 'path://',\n          back: 'path://',\n        },\n      },\n      saveAsImage: {},\n    }\n  },\n  xAxis: {\n    type: 'category',\n    axisLabel: {\n      hideOverlap: true,\n      formatter: function (value) {\n        const date = new Date(value);\n        let day = ('0' + date.getDate()).slice(-2);\n        let month = ('0' + (date.getMonth() + 1)).slice(-2);\n        let year = date.getFullYear();\n        return `${day}.${month}.${year}`;\n      },\n      //showMaxLabel: '20'\n    },\n  },\n  yAxis: {\n    type: 'value',\n    min: '0',\n    axisLabel: {\n      formatter: function (value) {\n        // Umwandeln des Werts in einen String und Ersetzen von Kommas durch Punkte\n        return value.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, '.');\n      }\n    },\n  },\n  grid: {\n    left: '2%',\n    right: '2%',\n    top: '2%',\n    bottom: 24,\n    containLabel: true,\n  },\n  series,\n};",
          "google": {
            "callback": "gmapReady",
            "key": ""
          },
          "map": "none",
          "renderer": "canvas",
          "themeEditor": {
            "config": "{}",
            "height": 400,
            "name": "default"
          }
        },
        "pluginVersion": "9.2.3",
        "targets": [
          {
            "dataset": "Piano",
            "datasource": {
              "type": "grafana-bigquery-datasource",
              "uid": "qUaUqEk4k"
            },
            "editorMode": "code",
            "format": 1,
            "location": "europe-west3",
            "project": "ndr-code-bi-dashboard",
            "rawQuery": true,
            "rawSql": "WITH broadcastids AS (\n    SELECT COALESCE(broadcast_id) AS broadcast_id\n    FROM `ndr-code-bi-dashboard.Piano.NDR_podcast_episode_daily_f`\n    WHERE branding = \"$Bereich\" \n    AND date > \"2023-01-01\" \n    ORDER BY broadcast_id DESC\n),\nall_titles_platforms AS(\nSELECT \n    SUM(m_zugriffe_1) AS summe, \n    platform,\n    date\nFROM `ndr-code-bi-dashboard.Piano.NDR_podcast_platform_daily_f`\nINNER JOIN broadcastids ON `ndr-code-bi-dashboard.Piano.NDR_podcast_platform_daily_f`.broadcast_id = broadcastids.broadcast_id\nWHERE date BETWEEN DATE('${__from:date}', \"Europe/Berlin\") AND DATE('${__to:date}', \"Europe/Berlin\")\nGROUP BY platform, date),\nnot_all_titles_platforms AS(\n    SELECT\n  sum(m_zugriffe_1) AS summe, platform,\n  date\nFROM `ndr-code-bi-dashboard.Piano.NDR_podcast_platform_daily_f`\nWHERE\nbroadcast_id = \"$broadcast_id_branding\"\nAND date BETWEEN DATE('${__from:date}', \"Europe/Berlin\") AND DATE('${__to:date}', \"Europe/Berlin\")\ngroup by platform, date\n),\nard_data AS (\n  SELECT summe, date FROM \n  ${dataset}\n  WHERE platform = \"ARD Audiothek\"\n),\napple_data AS\n(\n    SELECT summe, date FROM \n  ${dataset}\n  WHERE platform = \"Apple Podcasts\"\n),\nspotify_data AS\n(\n  SELECT summe as summe, date FROM \n  ${dataset}\n  WHERE platform = \"Spotify\"\n),\nrest AS(\n  SELECT SUM(summe) as summe, date FROM \n  ${dataset}\n  WHERE platform != \"ARD Audiothek\" AND platform != \"Apple Podcasts\" AND platform != \"Spotify\"\n  GROUP BY date\n)\nSELECT\n  ${dataset}.date,\n  ard_data.summe as ard_summe, \n  apple_data.summe as apple_summe, \n  spotify_data.summe as spotify_summe,\n  rest.summe as rest_summe,\n  COALESCE(ard_data.summe,0) + COALESCE(apple_data.summe, 0) + COALESCE(spotify_data.summe,0) + COALESCE(rest.summe,0) as zugriffe,\n  \"${type}\" as type,\n  DATE_DIFF(DATE('${__to:date}', \"Europe/Berlin\"),DATE('${__from:date}', \"Europe/Berlin\"),DAY) + 1 as timeRange\nFROM ${dataset}\nLEFT JOIN ard_data ON ${dataset}.date = ard_data.date\nLEFT JOIN apple_data ON ${dataset}.date = apple_data.date\nLEFT JOIN spotify_data ON ${dataset}.date = spotify_data.date\nLEFT JOIN rest ON ${dataset}.date = rest.date\nGROUP BY ${dataset}.date, ard_data.summe, apple_data.summe, spotify_data.summe, rest.summe\nORDER by date ASC",
            "refId": "A",
            "sql": {
              "columns": [
                {
                  "parameters": [
                    {
                      "name": "*",
                      "type": "functionParameter"
                    }
                  ],
                  "type": "function"
                }
              ],
              "groupBy": [
                {
                  "property": {
                    "type": "string"
                  },
                  "type": "groupBy"
                }
              ],
              "limit": 50
            },
            "table": "NDR_spotify_episodes"
          }
        ],
        "title": "Downloads pro Tag für \"$Podcast",
        "transformations": [
          {
            "id": "organize",
            "options": {
              "excludeByName": {
                "branding": true,
                "broadcast_id": false,
                "date": false,
                "f0_": false,
                "podcast_title": false,
                "publication_date_1": false,
                "ressource": true,
                "sophora_id": true,
                "tmstp": true,
                "zugriffe": false
              },
              "indexByName": {
                "f0_": 3,
                "f1_": 4,
                "headline": 2,
                "podcast_title": 1,
                "publication_date_2": 0
              },
              "renameByName": {
                "f0_": "",
                "f1_": "Tenchnische Nutzer",
                "headline": "Episode",
                "podcast_title": "Podcast",
                "publication_date_1": "Datum",
                "publication_date_2": "Datum",
                "technische_nutzer": "Technische Nutzer",
                "zugriffe": "Zugriffe"
              }
            }
          }
        ],
        "type": "volkovlabs-echarts-panel"
      },
      {
        "datasource": {
          "type": "grafana-bigquery-datasource",
          "uid": "qUaUqEk4k"
        },
        "gridPos": {
          "h": 6,
          "w": 24,
          "x": 0,
          "y": 29
        },
        "id": 42,
        "options": {
          "baidu": {
            "callback": "bmapReady",
            "key": ""
          },
          "editor": {
            "format": "auto",
            "height": 600
          },
          "gaode": {
            "key": "",
            "plugin": "AMap.Scale,AMap.ToolBar"
          },
          "getOption": "const allSumData = data.series.flatMap((s) => {\n  const allSum = s.fields.find((f) => f.name === 'zugriffe').values.buffer;\n  return allSum;\n})\n\nconst option = {\n  tooltip: {\n    trigger: 'axis',\n    axisPointer: {\n      type: 'shadow'\n    },\n    formatter: function (params) {\n      const allSumValue = allSumData[params[0].dataIndex];\n      let formattedNumber = new Intl.NumberFormat('de-DE').format(allSumValue);\n      return `Zugriffe: ${formattedNumber}`;\n    }\n  },\n  //legend: {},\n  grid: {\n    left: '3%',\n    right: '4%',\n    bottom: '3%',\n    containLabel: true\n  },\n  yAxis: { // Switched to yAxis\n    type: 'value'\n  },\n  xAxis: { // Switched to xAxis\n    type: 'category',\n    data: [...new Set(data.series.flatMap((s) => {\n      const headlines = s.fields.find((f) => f.name === 'headline').values.buffer;\n      return headlines;\n    }))]\n  },\n  series: [\n    {\n      name: 'Zugriffe',\n      type: 'bar',\n      label: {\n        show: true,\n        position: 'top',\n        formatter: function (params) {\n          const allSumValue = allSumData[params.dataIndex];\n          let number = Math.floor(allSumValue);\n          let formattedNumber = new Intl.NumberFormat('de-DE').format(number);\n          return formattedNumber;\n        }\n      },\n      itemStyle: {\n        color: \"rgb(31, 96, 196)\"\n      },\n      data: data.series.flatMap((s) => {\n        const zugriffe = s.fields.find((f) => f.name === 'zugriffe').values.buffer;\n        return zugriffe;\n      })\n    }\n  ]\n};\n\nreturn option;\n",
          "google": {
            "callback": "gmapReady",
            "key": ""
          },
          "map": "none",
          "renderer": "canvas",
          "themeEditor": {
            "config": "{}",
            "height": 400,
            "name": "default"
          }
        },
        "pluginVersion": "9.2.3",
        "targets": [
          {
            "dataset": "Piano",
            "datasource": {
              "type": "grafana-bigquery-datasource",
              "uid": "qUaUqEk4k"
            },
            "editorMode": "code",
            "format": 1,
            "location": "europe-west3",
            "project": "ndr-code-bi-dashboard",
            "rawQuery": true,
            "rawSql": "SELECT\n  headline,\n  SUM(zugriffe) as zugriffe,\nFROM (\n  SELECT\n    FIRST_VALUE(publication_date_1) OVER (PARTITION BY headline ORDER BY publication_date_1 DESC) AS publication_date_2,\n    podcast_title,\n      broadcast_id,\n    headline,\n    SUM(m_zugriffe_1) AS zugriffe,\n    SUM(m_technische_nutzer) AS technische_nutzer,\n  FROM `ndr-code-bi-dashboard.Piano.NDR_podcast_episode_daily_f`\nWHERE branding = \"$Bereich\"\nAND CASE \"${Podcast}\"\nWHEN \"All titles\" THEN True = True\nELSE podcast_title = \"$Podcast\" END\nAND  headline != \"All headlines\" \nAND date BETWEEN DATE('${__from:date}', \"Europe/Berlin\") AND DATE('${__to:date}', \"Europe/Berlin\")\n  GROUP BY\n    publication_date_1,\n    podcast_title,\n    headline,\n      broadcast_id\n  ORDER BY\n    zugriffe DESC )\nGROUP BY\n  publication_date_2,\n  podcast_title,\n  headline, \n  broadcast_id\n\nORDER BY 2 DESC\nLIMIT 3",
            "refId": "A",
            "sql": {
              "columns": [
                {
                  "parameters": [
                    {
                      "name": "*",
                      "type": "functionParameter"
                    }
                  ],
                  "type": "function"
                }
              ],
              "groupBy": [
                {
                  "property": {
                    "type": "string"
                  },
                  "type": "groupBy"
                }
              ],
              "limit": 50
            },
            "table": "NDR_spotify_episodes"
          }
        ],
        "title": "Top 3 Episoden von \"$Podcast\"",
        "transformations": [
          {
            "id": "organize",
            "options": {
              "excludeByName": {
                "branding": true,
                "broadcast_id": false,
                "date": false,
                "f0_": false,
                "podcast_title": false,
                "publication_date_1": false,
                "ressource": true,
                "sophora_id": true,
                "tmstp": true
              },
              "indexByName": {
                "f0_": 3,
                "f1_": 4,
                "headline": 2,
                "podcast_title": 1,
                "publication_date_2": 0
              },
              "renameByName": {
                "f0_": "",
                "f1_": "Tenchnische Nutzer",
                "headline": "Episode",
                "podcast_title": "Podcast",
                "publication_date_1": "Datum",
                "publication_date_2": "Datum",
                "technische_nutzer": "Technische Nutzer",
                "zugriffe": "Zugriffe"
              }
            }
          }
        ],
        "type": "volkovlabs-echarts-panel"
      },
      {
        "datasource": {
          "type": "grafana-bigquery-datasource",
          "uid": "qUaUqEk4k"
        },
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "custom": {
              "align": "auto",
              "displayMode": "auto",
              "filterable": true,
              "inspect": false
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green"
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "locale"
          },
          "overrides": [
            {
              "matcher": {
                "id": "byName",
                "options": "headline"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 317
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "podcast_title"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 273
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "ressource"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 839
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "broadcast_id"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 0
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "VÖ Datum"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 240
                },
                {
                  "id": "unit",
                  "value": "time: DD.MM.YYYY"
                }
              ]
            }
          ]
        },
        "gridPos": {
          "h": 12,
          "w": 24,
          "x": 0,
          "y": 35
        },
        "id": 66,
        "options": {
          "footer": {
            "fields": "",
            "reducer": [
              "sum"
            ],
            "show": false
          },
          "showHeader": true,
          "sortBy": []
        },
        "pluginVersion": "9.2.3",
        "targets": [
          {
            "dataset": "Piano",
            "datasource": {
              "type": "grafana-bigquery-datasource",
              "uid": "qUaUqEk4k"
            },
            "editorMode": "code",
            "format": 1,
            "location": "europe-west3",
            "project": "ndr-code-bi-dashboard",
            "rawQuery": true,
            "rawSql": "SELECT\n  publication_date_2,\n  podcast_title,\n    broadcast_id,\n  headline,\n  SUM(zugriffe) as zugriffe,\n  SUM(technische_nutzer)\nFROM (\n  SELECT\n    FIRST_VALUE(publication_date_1) OVER (PARTITION BY headline ORDER BY publication_date_1 DESC) AS publication_date_2,\n    podcast_title,\n      broadcast_id,\n    headline,\n    SUM(m_zugriffe_1) AS zugriffe,\n    SUM(m_technische_nutzer) AS technische_nutzer,\n  FROM `ndr-code-bi-dashboard.Piano.NDR_podcast_episode_daily_f`\nWHERE branding = \"$Bereich\"\nAND  CASE \"$Podcast\"\nWHEN \"All titles\" THEN TRUE\nELSE podcast_title = \"$Podcast\" END\nAND  CASE  REPLACE(\"$Episode\",\"'\",\"\") WHEN \"All headlines\" THEN   REPLACE(headline,\"'\",\"\") != REPLACE(\"$Episode\",\"'\",\"\") ELSE REPLACE(headline,\"'\",\"\") IN ($Episode) END\nAND date BETWEEN DATE('${__from:date}', \"Europe/Berlin\") AND DATE('${__to:date}', \"Europe/Berlin\")\n  GROUP BY\n    publication_date_1,\n    podcast_title,\n    headline,\n      broadcast_id\n  ORDER BY\n    zugriffe DESC )\nGROUP BY\n  publication_date_2,\n  podcast_title,\n  headline, \n  broadcast_id\n\nORDER BY zugriffe DESC",
            "refId": "A",
            "sql": {
              "columns": [
                {
                  "parameters": [
                    {
                      "name": "*",
                      "type": "functionParameter"
                    }
                  ],
                  "type": "function"
                }
              ],
              "groupBy": [
                {
                  "property": {
                    "type": "string"
                  },
                  "type": "groupBy"
                }
              ],
              "limit": 50
            },
            "table": "NDR_spotify_episodes"
          }
        ],
        "title": "Episoden",
        "transformations": [
          {
            "id": "organize",
            "options": {
              "excludeByName": {
                "branding": true,
                "broadcast_id": true,
                "date": false,
                "podcast_title": false,
                "publication_date_1": false,
                "ressource": true,
                "sophora_id": true,
                "tmstp": true
              },
              "indexByName": {
                "broadcast_id": 5,
                "f0_": 3,
                "f1_": 4,
                "headline": 1,
                "podcast_title": 0,
                "publication_date_2": 2
              },
              "renameByName": {
                "f0_": "Downloads",
                "f1_": "Technische Nutzer",
                "headline": "Episode",
                "podcast_title": "Podcast",
                "publication_date_1": "Datum",
                "publication_date_2": "VÖ Datum",
                "technische_nutzer": "Technische Nutzer",
                "zugriffe": "Zugriffe"
              }
            }
          }
        ],
        "type": "table"
      },
      {
        "datasource": {
          "type": "grafana-bigquery-datasource",
          "uid": "qUaUqEk4k"
        },
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "custom": {
              "align": "auto",
              "displayMode": "auto",
              "filterable": true,
              "inspect": false
            },
            "mappings": [],
            "noValue": "-",
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green"
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "locale"
          },
          "overrides": [
            {
              "matcher": {
                "id": "byName",
                "options": "Downloads Gesamt"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 180
                },
                {
                  "id": "custom.align",
                  "value": "center"
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "Technische Nutzer"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 180
                },
                {
                  "id": "custom.align",
                  "value": "center"
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "ARD Downloads"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 180
                },
                {
                  "id": "custom.align",
                  "value": "center"
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "Apple Downloads"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 180
                },
                {
                  "id": "custom.align",
                  "value": "center"
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "Downloads Gesamt"
              },
              "properties": [
                {
                  "id": "unit",
                  "value": "locale"
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "Streams"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 180
                },
                {
                  "id": "custom.align",
                  "value": "center"
                }
              ]
            }
          ]
        },
        "gridPos": {
          "h": 12,
          "w": 24,
          "x": 0,
          "y": 47
        },
        "id": 65,
        "options": {
          "footer": {
            "fields": "",
            "reducer": [
              "sum"
            ],
            "show": false
          },
          "showHeader": true,
          "sortBy": []
        },
        "pluginVersion": "9.2.3",
        "targets": [
          {
            "dataset": "Piano",
            "datasource": {
              "type": "grafana-bigquery-datasource",
              "uid": "qUaUqEk4k"
            },
            "editorMode": "code",
            "format": 1,
            "location": "europe-west3",
            "project": "ndr-code-bi-dashboard",
            "rawQuery": true,
            "rawSql": "WITH broadcastids AS (\n    SELECT COALESCE(broadcast_id) AS broadcast_id, podcast_title\n    FROM `ndr-code-bi-dashboard.Piano.NDR_podcast_episode_daily_f`\n    WHERE branding = \"$Bereich\" \n    AND date > \"2023-01-01\"\n    AND CASE \"$Podcast\"\nWHEN \"All titles\" THEN TRUE\nELSE broadcast_id = \"$broadcast_id_branding\" END \n    ORDER BY broadcast_id DESC\n),\nall_titles_platforms AS(SELECT \npodcast_title as Title,\n1 as join_key,\nsum(m_zugriffe_1) as zugriffe,\nplatform\nFROM `ndr-code-bi-dashboard.Piano.NDR_podcast_platform_daily_f`\nINNER JOIN broadcastids ON `ndr-code-bi-dashboard.Piano.NDR_podcast_platform_daily_f`.broadcast_id = broadcastids.broadcast_id\nWHERE date BETWEEN DATE('${__from:date}', \"Europe/Berlin\") AND DATE('${__to:date}', \"Europe/Berlin\")\nGROUP BY platform, podcast_title),\ntechnische_nutzer_summe AS(\n  SELECT podcast_title as Title,\n  1 as join_key,\n  sum(m_technische_nutzer) as technische_nutzer\n  FROM `ndr-code-bi-dashboard.Piano.NDR_podcast_episode_daily_f`\nWHERE branding = \"$Bereich\"\nAND CASE \"$Podcast\"\nWHEN \"All titles\" THEN True\nELSE podcast_title = \"$Podcast\" END \nAND headline =\"All headlines\"\nAND date BETWEEN DATE('${__from:date}', \"Europe/Berlin\") AND DATE('${__to:date}', \"Europe/Berlin\")\nGROUP BY podcast_title),\nmain_data AS(\nSELECT Title, join_key, sum(zugriffe) as zugriffe\nFROM all_titles_platforms\nGROUP BY Title, join_key),\nard_data AS (\n  SELECT Title, zugriffe, join_key FROM \n  all_titles_platforms\n  WHERE platform = \"ARD Audiothek\"\n),\napple_data AS\n(\n    SELECT Title, zugriffe, join_key FROM \n  all_titles_platforms\n  WHERE platform = \"Apple Podcasts\"\n),\nspotify_data AS\n(\n  SELECT Title, zugriffe, join_key FROM \n  all_titles_platforms\n  WHERE platform = \"Spotify\"\n)\nSELECT\n  main_data.Title, \n  main_data.zugriffe,\n  technische_nutzer_summe.technische_nutzer, \n  ard_data.zugriffe as ard_summe, \n  apple_data.zugriffe as apple_summe, \n  spotify_data.zugriffe as spotify_summe\nFROM main_data\nLEFT JOIN ard_data ON (main_data.join_key = ard_data.join_key AND main_data.Title = ard_data.Title)\nLEFT JOIN apple_data ON (main_data.join_key = apple_data.join_key AND main_data.Title = apple_data.Title)\nLEFT JOIN spotify_data ON (main_data.join_key = spotify_data.join_key AND main_data.Title = spotify_data.Title)\nLEFT JOIN technische_nutzer_summe on (main_data.join_key = technische_nutzer_summe.join_key AND main_data.Title = technische_nutzer_summe.Title)\nORDER BY main_data.zugriffe DESC",
            "refId": "A",
            "sql": {
              "columns": [
                {
                  "parameters": [
                    {
                      "name": "*",
                      "type": "functionParameter"
                    }
                  ],
                  "type": "function"
                }
              ],
              "groupBy": [
                {
                  "property": {
                    "type": "string"
                  },
                  "type": "groupBy"
                }
              ],
              "limit": 50
            },
            "table": "NDR_spotify_episodes"
          }
        ],
        "title": "Podcasts",
        "transformations": [
          {
            "id": "organize",
            "options": {
              "excludeByName": {},
              "indexByName": {},
              "renameByName": {
                "Title": "Podcast",
                "apple_summe": "Apple Downloads",
                "ard_summe": "ARD Downloads",
                "spotify_summe": "Streams",
                "technische_nutzer": "Technische Nutzer",
                "zugriffe": "Downloads Gesamt"
              }
            }
          },
          {
            "id": "convertFieldType",
            "options": {}
          }
        ],
        "type": "table"
      },
      {
        "collapsed": true,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 59
        },
        "id": 41,
        "panels": [
          {
            "datasource": {
              "type": "grafana-bigquery-datasource",
              "uid": "qUaUqEk4k"
            },
            "gridPos": {
              "h": 8,
              "w": 7,
              "x": 3,
              "y": 77
            },
            "id": 47,
            "options": {
              "baidu": {
                "callback": "bmapReady",
                "key": ""
              },
              "editor": {
                "format": "auto",
                "height": 2000
              },
              "gaode": {
                "key": "",
                "plugin": "AMap.Scale,AMap.ToolBar"
              },
              "getOption": "function getRandomColor() {\n  const letters = '0123456789ABCDEF';\n  let color = '#';\n  for (let i = 0; i < 6; i++) {\n    color += letters[Math.floor(Math.random() * 16)];\n  }\n  return color;\n}\n\n\nconst seriesData = data.series.map((s) => {\n  const platformName = s.fields.find((f) => f.name === 'platform').values.buffer;\n  const summeValue = s.fields.find((f) => f.name === 'summe').values.buffer;\n\n  const res = platformName.map((name, index) => {\n    const value = summeValue[index];\n    let color;\n\n    // Assign specific colors to certain platforms\n    switch (name.toLowerCase()) {\n      case 'ard audiothek':\n        color = 'rgb(40, 115, 237)';\n        break;\n      case 'apple podcasts':\n        color = 'rgb(166, 77, 204)';\n        break;\n      case 'spotify':\n        color = 'rgb(89, 169, 77)';\n        break;\n      case 'other':\n        color = 'rgb(255, 255, 255)';\n        break;\n      default:\n        // Generate a random color for other platforms\n        color = getRandomColor();\n        break;\n    }\n\n    return { value, name, itemStyle: { color } };\n  });\n\n  return res;\n}).flat();\n\nconst result = {\n  backgroundColor: '#2c343c',\n  tooltip: {\n    trigger: 'item',\n    formatter: '{a} <br/>{b}: {c} ({d}%)', // This line formats the tooltip content\n  },\n  visualMap: {\n    show: false,\n    min: 80,\n    max: 600,\n    inRange: {\n      colorLightness: [0, 1]\n    }\n  },\n  series: [\n    {\n      name: 'Access From',\n      type: 'pie',\n      radius: '85%',\n      center: ['50%', '50%'],\n      data: seriesData.sort(function (a, b) {\n        return a.value - b.value;\n      }),\n      roseType: 'radius',\n      label: {\n        color: 'rgba(255, 255, 255, 0.3)'\n      },\n      labelLine: {\n        lineStyle: {\n          color: 'rgba(255, 255, 255, 0.3)'\n        },\n        smooth: 0.2,\n        length: 10,\n        length2: 20\n      },\n      itemStyle: {\n        color: '#c23531',\n        shadowBlur: 200,\n        shadowColor: 'rgba(0, 0, 0, 0.5)'\n      },\n      animationType: 'scale',\n      animationEasing: 'elasticOut',\n      animationDelay: function (idx) {\n        return Math.random() * 200;\n      }\n    }\n  ]\n};\n\nreturn result;\n",
              "google": {
                "callback": "gmapReady",
                "key": ""
              },
              "map": "none",
              "renderer": "canvas",
              "themeEditor": {
                "config": "{}",
                "height": 400,
                "name": "default"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "grafana-bigquery-datasource",
                  "uid": "qUaUqEk4k"
                },
                "editorMode": "code",
                "format": 1,
                "location": "europe-west3",
                "project": "ndr-code-bi-dashboard",
                "rawQuery": true,
                "rawSql": "SELECT \n  sum(m_zugriffe_1) AS summe, platform\nFROM `ndr-code-bi-dashboard.Piano.NDR_podcast_platform_daily_f`\nWHERE --profileId = $profileID \n--AND \n--branding = \"$Bereich\" \n broadcast_id = \"$broadcast_id_branding\"\n--AND platform = \"ARD Audiothek\"\nAND date BETWEEN DATE('${__from:date}', \"Europe/Berlin\") AND DATE('${__to:date}', \"Europe/Berlin\")\ngroup by platform",
                "refId": "A",
                "sql": {
                  "columns": [
                    {
                      "parameters": [],
                      "type": "function"
                    }
                  ],
                  "groupBy": [
                    {
                      "property": {
                        "type": "string"
                      },
                      "type": "groupBy"
                    }
                  ],
                  "limit": 50
                }
              }
            ],
            "type": "volkovlabs-echarts-panel"
          },
          {
            "datasource": {
              "type": "grafana-bigquery-datasource",
              "uid": "qUaUqEk4k"
            },
            "gridPos": {
              "h": 8,
              "w": 7,
              "x": 16,
              "y": 77
            },
            "id": 48,
            "options": {
              "baidu": {
                "callback": "bmapReady",
                "key": ""
              },
              "editor": {
                "format": "auto",
                "height": 2000
              },
              "gaode": {
                "key": "",
                "plugin": "AMap.Scale,AMap.ToolBar"
              },
              "getOption": "\nconst colorMapping = {\n  'androiddownloadmanager': '#D32F2F', // \n  'spotify': 'rgb(89, 169, 77)',\n  'gpodder': '#FFC107', // \n  'tunein': '#2196F3', // \n  'downcast': '#673AB7', // \n  'other': '#9E9E9E',\n  'pocket casts': '#FF5722', // \n  'apple podcasts': 'rgb(166, 77, 204)',\n  'overcast': '#FFEB3B', // \n  'castbox': '#3F51B5', // \n  'podcast & radio addict': '#00BCD4', // \n  'player fm': '#4CAF50', // \n  'amazon alexa': '#FFA000', // \n  'ard audiothek': 'rgb(40, 115, 237)',\n  'podbean': '#8BC34A', // \n  'itunes': '#A6ACAF', // \n  'juice': '#E91E63', // \n  'stagefright': '#607D8B' // \n};\n\nconst seriesData = data.series.map((s) => {\n  const platformName = s.fields.find((f) => f.name === 'platform').values.buffer;\n  const summeValue = s.fields.find((f) => f.name === 'summe').values.buffer;\n\n  const res = platformName.map((name, index) => {\n    const value = summeValue[index];\n    let color = colorMapping[name.toLowerCase()] || '#000000'; // Fallback to black if no color is assigned\n    return { value, name, itemStyle: { color } };\n  });\n\n  return res;\n}).flat();\n\nconst result = {\n  backgroundColor: '#2c343c',\n  tooltip: {\n    trigger: 'item',\n    formatter: function (params) {\n      const name = params.name;\n      const value = params.value;\n      const formattedValue = new Intl.NumberFormat('de-DE').format(value);\n      const percentage = params.percent.toLocaleString('de-DE', { maximumFractionDigits: 2 }) + '%';\n      return `${name}: ${formattedValue} (${percentage})`;\n    },\n  },\n  visualMap: {\n    show: false,\n    min: 80,\n    max: 600,\n    inRange: {\n      colorLightness: [0, 1],\n    },\n  },\n  series: [\n    {\n      name: 'Platform Distribution',\n      type: 'pie',\n      radius: '60%',\n      data: seriesData,\n      emphasis: {\n        itemStyle: {\n          shadowBlur: 10,\n          shadowOffsetX: 0,\n          shadowColor: 'rgba(0, 0, 0, 0.5)',\n        },\n      },\n      label: {\n        formatter: '{b} : {d}%',\n        textStyle: {\n          fontSize: 10, // Adjust this value to change the font size\n          color: '#fff' // Optional: adjust the color if needed\n        }\n      },\n    },\n  ],\n};\n\nreturn result;\n",
              "google": {
                "callback": "gmapReady",
                "key": ""
              },
              "map": "none",
              "renderer": "canvas",
              "themeEditor": {
                "config": "{}",
                "height": 400,
                "name": "default"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "grafana-bigquery-datasource",
                  "uid": "qUaUqEk4k"
                },
                "editorMode": "code",
                "format": 1,
                "location": "europe-west3",
                "project": "ndr-code-bi-dashboard",
                "rawQuery": true,
                "rawSql": "SELECT \n  sum(m_zugriffe_1) AS summe, platform\nFROM `ndr-code-bi-dashboard.Piano.NDR_podcast_platform_daily_f`\nWHERE --profileId = $profileID \n--AND \n--branding = \"$Bereich\" \n broadcast_id = \"$broadcast_id_branding\"\n--AND platform = \"ARD Audiothek\"\nAND date BETWEEN DATE('${__from:date}', \"Europe/Berlin\") AND DATE('${__to:date}', \"Europe/Berlin\")\ngroup by platform",
                "refId": "A",
                "sql": {
                  "columns": [
                    {
                      "parameters": [],
                      "type": "function"
                    }
                  ],
                  "groupBy": [
                    {
                      "property": {
                        "type": "string"
                      },
                      "type": "groupBy"
                    }
                  ],
                  "limit": 50
                }
              }
            ],
            "type": "volkovlabs-echarts-panel"
          },
          {
            "datasource": {
              "type": "grafana-bigquery-datasource",
              "uid": "qUaUqEk4k"
            },
            "gridPos": {
              "h": 8,
              "w": 7,
              "x": 11,
              "y": 85
            },
            "id": 49,
            "options": {
              "baidu": {
                "callback": "bmapReady",
                "key": ""
              },
              "editor": {
                "format": "auto",
                "height": 2000
              },
              "gaode": {
                "key": "",
                "plugin": "AMap.Scale,AMap.ToolBar"
              },
              "getOption": "const seriesData = data.series.map((s) => {\n  // Find the platform name\n  const platformName = s.fields.find((f) => f.name === 'platform').values.buffer;\n  console.log(\"name\", platformName)\n\n  // Find the corresponding value (summe)\n  const summeValue = s.fields.find((f) => f.name === 'summe').values.buffer;\n  console.log(\"SummeValue\", summeValue)\n\n  const res = platformName.map((name, index) => {\n    const value = summeValue[index];\n    return { value, name };\n  });\n  console.log(\"RES\", res)\n  return res\n}).flat();\n\nseriesData.sort((a, b) => b.value - a.value);\n\nconst result = {\n  tooltip: {\n    trigger: 'item'\n  },\n  series: [\n    {\n      name: 'Platform',\n      type: 'pie',\n      radius: '80%',\n      data: seriesData,\n      emphasis: {\n        itemStyle: {\n          shadowBlur: 10,\n          shadowOffsetX: 0,\n          shadowColor: 'rgba(0, 0, 0, 0.5)'\n        }\n      },\n      label: {\n        formatter: (params) => {\n          // Find the index of the current data item in the sorted array\n          const index = seriesData.findIndex(item => item.name === params.name);\n\n          // Show label only for top 4 platforms\n          if (index < 4) {\n            return `{b|${params.name}：}{c}  {per|${params.percent}%}`;\n          } else {\n            return '';\n          }\n        },\n        backgroundColor: '#F6F8FC',\n        borderColor: '#8C8D8E',\n        borderWidth: 1,\n        borderRadius: 4,\n        rich: {\n          b: {\n            color: '#4C5058',\n            fontSize: 12,\n            fontWeight: 'bold',\n            lineHeight: 33\n          },\n          per: {\n            color: '#fff',\n            backgroundColor: '#4C5058',\n            padding: [3, 4],\n            borderRadius: 4\n          }\n        }\n      },\n      labelLine: {\n        show: (params) => {\n          // Find the index of the current data item in the sorted array\n          const index = seriesData.findIndex(item => item.name === params.name);\n\n          // Show label line only for top 4 platforms\n          return index < 4;\n        }\n      }\n    }\n  ]\n};\n\nreturn result;",
              "google": {
                "callback": "gmapReady",
                "key": ""
              },
              "map": "none",
              "renderer": "canvas",
              "themeEditor": {
                "config": "{}",
                "height": 400,
                "name": "default"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "grafana-bigquery-datasource",
                  "uid": "qUaUqEk4k"
                },
                "editorMode": "code",
                "format": 1,
                "location": "europe-west3",
                "project": "ndr-code-bi-dashboard",
                "rawQuery": true,
                "rawSql": "SELECT \n  sum(m_zugriffe_1) AS summe, platform\nFROM `ndr-code-bi-dashboard.Piano.NDR_podcast_platform_daily_f`\nWHERE --profileId = $profileID \n--AND \n--branding = \"$Bereich\" \n broadcast_id = \"$broadcast_id_branding\"\n--AND platform = \"ARD Audiothek\"\nAND date BETWEEN DATE('${__from:date}', \"Europe/Berlin\") AND DATE('${__to:date}', \"Europe/Berlin\")\ngroup by platform",
                "refId": "A",
                "sql": {
                  "columns": [
                    {
                      "parameters": [],
                      "type": "function"
                    }
                  ],
                  "groupBy": [
                    {
                      "property": {
                        "type": "string"
                      },
                      "type": "groupBy"
                    }
                  ],
                  "limit": 50
                }
              }
            ],
            "type": "volkovlabs-echarts-panel"
          },
          {
            "datasource": {
              "type": "grafana-bigquery-datasource",
              "uid": "qUaUqEk4k"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "custom": {
                  "align": "auto",
                  "displayMode": "auto",
                  "filterable": true,
                  "inspect": false
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "headline"
                  },
                  "properties": [
                    {
                      "id": "custom.width",
                      "value": 317
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "podcast_title"
                  },
                  "properties": [
                    {
                      "id": "custom.width",
                      "value": 273
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "ressource"
                  },
                  "properties": [
                    {
                      "id": "custom.width",
                      "value": 839
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "broadcast_id"
                  },
                  "properties": [
                    {
                      "id": "custom.width",
                      "value": 0
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "user_agent"
                  },
                  "properties": [
                    {
                      "id": "custom.width",
                      "value": 400
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 9,
              "w": 24,
              "x": 0,
              "y": 93
            },
            "id": 2,
            "options": {
              "footer": {
                "fields": "",
                "reducer": [
                  "sum"
                ],
                "show": false
              },
              "showHeader": true,
              "sortBy": []
            },
            "pluginVersion": "9.2.3",
            "targets": [
              {
                "dataset": "Piano",
                "datasource": {
                  "type": "grafana-bigquery-datasource",
                  "uid": "qUaUqEk4k"
                },
                "editorMode": "code",
                "format": 1,
                "location": "europe-west3",
                "project": "ndr-code-bi-dashboard",
                "rawQuery": true,
                "rawSql": "SELECT \nbroadcast_id,\nuser_agent,\nplatform,\nm_zugriffe_1,\ndate, tmstp\nFROM `ndr-code-bi-dashboard.Piano.NDR_podcast_platform_daily_f`\n--WHERE branding = \"$Bereich\" \n--AND podcast_title = \"$Podcast\"\n--AND headline =\"$Episode\"\nWHERE date BETWEEN DATE('${__from:date}') AND DATE('${__to:date}')\nORDER BY m_zugriffe_1 DESC\nLIMIT  100\n",
                "refId": "A",
                "sql": {
                  "columns": [
                    {
                      "parameters": [
                        {
                          "name": "*",
                          "type": "functionParameter"
                        }
                      ],
                      "type": "function"
                    }
                  ],
                  "groupBy": [
                    {
                      "property": {
                        "type": "string"
                      },
                      "type": "groupBy"
                    }
                  ],
                  "limit": 50
                },
                "table": "NDR_spotify_episodes"
              }
            ],
            "title": "NDR_podcast_platform_daily_f",
            "type": "table"
          },
          {
            "datasource": {
              "type": "grafana-bigquery-datasource",
              "uid": "qUaUqEk4k"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "custom": {
                  "align": "auto",
                  "displayMode": "auto",
                  "filterable": true,
                  "inspect": false
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 9,
              "w": 24,
              "x": 0,
              "y": 102
            },
            "id": 3,
            "options": {
              "footer": {
                "enablePagination": false,
                "fields": "",
                "reducer": [
                  "sum"
                ],
                "show": false
              },
              "showHeader": true
            },
            "pluginVersion": "9.2.3",
            "targets": [
              {
                "dataset": "Piano",
                "datasource": {
                  "type": "grafana-bigquery-datasource",
                  "uid": "qUaUqEk4k"
                },
                "editorMode": "builder",
                "format": 1,
                "location": "europe-west3",
                "project": "ndr-code-bi-dashboard",
                "rawSql": "SELECT * FROM `ndr-code-bi-dashboard.Piano.NDR_spotify_podcasts` LIMIT 50 ",
                "refId": "A",
                "sql": {
                  "columns": [
                    {
                      "parameters": [
                        {
                          "name": "*",
                          "type": "functionParameter"
                        }
                      ],
                      "type": "function"
                    }
                  ],
                  "groupBy": [
                    {
                      "property": {
                        "type": "string"
                      },
                      "type": "groupBy"
                    }
                  ],
                  "limit": 50
                },
                "table": "NDR_spotify_podcasts"
              }
            ],
            "title": "NDR_spotify_podcasts",
            "type": "table"
          },
          {
            "datasource": {
              "type": "grafana-bigquery-datasource",
              "uid": "qUaUqEk4k"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "custom": {
                  "align": "auto",
                  "displayMode": "auto",
                  "filterable": true,
                  "inspect": false
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "user_agent"
                  },
                  "properties": [
                    {
                      "id": "custom.width",
                      "value": 633
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 9,
              "w": 24,
              "x": 0,
              "y": 111
            },
            "id": 4,
            "options": {
              "footer": {
                "fields": "",
                "reducer": [
                  "sum"
                ],
                "show": false
              },
              "showHeader": true,
              "sortBy": []
            },
            "pluginVersion": "9.2.3",
            "targets": [
              {
                "dataset": "Piano",
                "datasource": {
                  "type": "grafana-bigquery-datasource",
                  "uid": "qUaUqEk4k"
                },
                "editorMode": "builder",
                "format": 1,
                "location": "europe-west3",
                "project": "ndr-code-bi-dashboard",
                "rawSql": "SELECT * FROM `ndr-code-bi-dashboard.Piano.NDR_spotify_podcasts_platform` LIMIT 50 ",
                "refId": "A",
                "sql": {
                  "columns": [
                    {
                      "parameters": [
                        {
                          "name": "*",
                          "type": "functionParameter"
                        }
                      ],
                      "type": "function"
                    }
                  ],
                  "groupBy": [
                    {
                      "property": {
                        "type": "string"
                      },
                      "type": "groupBy"
                    }
                  ],
                  "limit": 50
                },
                "table": "NDR_spotify_podcasts_platform"
              }
            ],
            "title": "NDR_spotify_podcasts_platform",
            "type": "table"
          }
        ],
        "title": "Debugging",
        "type": "row"
      }
    ],
    "refresh": false,
    "schemaVersion": 37,
    "style": "dark",
    "tags": [],
    "templating": {
      "list": [
        {
          "allValue": "*",
          "current": {
            "selected": false,
            "text": "ndr",
            "value": "ndr"
          },
          "datasource": {
            "type": "grafana-bigquery-datasource",
            "uid": "qUaUqEk4k"
          },
          "definition": "",
          "hide": 0,
          "includeAll": false,
          "multi": false,
          "name": "Bereich",
          "options": [],
          "query": {
            "dataset": "Piano",
            "editorMode": "code",
            "format": 1,
            "location": "europe-west3",
            "project": "ndr-code-bi-dashboard",
            "rawQuery": true,
            "rawSql": "SELECT DISTINCT branding, \nFROM   `ndr-code-bi-dashboard.Piano.NDR_podcast_episode_daily_f`\nWHERE date > \"2022-01-01\"\nAND $AllePodcastsCondition\nOrder by branding ASC",
            "sql": {
              "columns": [
                {
                  "parameters": [
                    {
                      "name": "branding",
                      "type": "functionParameter"
                    }
                  ],
                  "type": "function"
                }
              ],
              "groupBy": [
                {
                  "property": {
                    "type": "string"
                  },
                  "type": "groupBy"
                }
              ],
              "limit": 50
            },
            "table": "NDR_spotify_podcasts"
          },
          "refresh": 1,
          "regex": "",
          "skipUrlSync": false,
          "sort": 0,
          "type": "query"
        },
        {
          "current": {
            "selected": false,
            "text": "extra 3 – Bosettis Woche",
            "value": "extra 3 – Bosettis Woche"
          },
          "datasource": {
            "type": "grafana-bigquery-datasource",
            "uid": "qUaUqEk4k"
          },
          "definition": "",
          "hide": 0,
          "includeAll": false,
          "multi": false,
          "name": "Podcast",
          "options": [],
          "query": {
            "dataset": "Piano",
            "editorMode": "code",
            "format": 1,
            "location": "europe-west3",
            "project": "ndr-code-bi-dashboard",
            "rawQuery": true,
            "rawSql": "SELECT podcast_title FROM(\nSELECT DISTINCT podcast_title, CASE podcast_title WHEN \"All titles\" THEN 0 ELSE 1 END AS sort  FROM `ndr-code-bi-dashboard.Piano.NDR_podcast_episode_daily_f`\nWHERE branding = \"$Bereich\"\nAND date > \"2022-01-01\"\nAND $AllePodcastsCondition\nORDER BY sort,podcast_title DESC\n)\nORDER BY SORT, podcast_title ASC",
            "sql": {
              "columns": [
                {
                  "parameters": [
                    {
                      "name": "podcast_title",
                      "type": "functionParameter"
                    }
                  ],
                  "type": "function"
                }
              ],
              "groupBy": [
                {
                  "property": {
                    "type": "string"
                  },
                  "type": "groupBy"
                }
              ],
              "limit": 50
            },
            "table": "NDR_spotify_podcasts"
          },
          "refresh": 1,
          "regex": "",
          "skipUrlSync": false,
          "sort": 0,
          "type": "query"
        },
        {
          "allValue": "'All headlines'",
          "current": {
            "selected": false,
            "text": "# 44 Berliner Chaos und Bidens Karma mit Eva Schulz",
            "value": "# 44 Berliner Chaos und Bidens Karma mit Eva Schulz"
          },
          "datasource": {
            "type": "grafana-bigquery-datasource",
            "uid": "qUaUqEk4k"
          },
          "definition": "",
          "hide": 0,
          "includeAll": true,
          "multi": true,
          "name": "Episode",
          "options": [],
          "query": {
            "dataset": "Piano",
            "editorMode": "code",
            "format": 1,
            "location": "europe-west3",
            "project": "ndr-code-bi-dashboard",
            "rawQuery": true,
            "rawSql": "SELECT REPLACE(headline,\"'\",\"\") FROM(\nSELECT DISTINCT headline, CASE headline WHEN \"All headlines\" THEN 0 ELSE 1 END AS sort  FROM `ndr-code-bi-dashboard.Piano.NDR_podcast_episode_daily_f`\nWHERE \nbranding = \"$Bereich\" \nAND podcast_title = \"$Podcast\"\nAND date > \"2022-01-01\"\nAND headline != \"All headlines\"\nORDER BY sort,headline DESC\n--ORDER BY podcast_title ASC\n)\nORDER BY SORT, headline ASC",
            "sql": {
              "columns": [
                {
                  "parameters": [
                    {
                      "name": "headline",
                      "type": "functionParameter"
                    }
                  ],
                  "type": "function"
                }
              ],
              "groupBy": [
                {
                  "property": {
                    "type": "string"
                  },
                  "type": "groupBy"
                }
              ],
              "limit": 50
            },
            "table": "NDR_spotify_episodes"
          },
          "refresh": 1,
          "regex": "",
          "skipUrlSync": false,
          "sort": 0,
          "type": "query"
        },
        {
          "current": {
            "selected": false,
            "text": "10",
            "value": "10"
          },
          "description": "",
          "hide": 2,
          "includeAll": false,
          "multi": false,
          "name": "filled_size_big",
          "options": [
            {
              "selected": true,
              "text": "10",
              "value": "10"
            }
          ],
          "query": "10",
          "skipUrlSync": false,
          "type": "custom"
        },
        {
          "current": {
            "selected": false,
            "text": "13",
            "value": "13"
          },
          "hide": 2,
          "includeAll": false,
          "multi": false,
          "name": "filled_size",
          "options": [
            {
              "selected": true,
              "text": "13",
              "value": "13"
            }
          ],
          "query": "13",
          "skipUrlSync": false,
          "type": "custom"
        },
        {
          "current": {
            "selected": false,
            "text": "34",
            "value": "34"
          },
          "datasource": {
            "type": "grafana-bigquery-datasource",
            "uid": "qUaUqEk4k"
          },
          "definition": "",
          "hide": 2,
          "includeAll": false,
          "multi": false,
          "name": "filled_size_headline",
          "options": [],
          "query": {
            "editorMode": "code",
            "format": 1,
            "location": "europe-west3",
            "project": "ndr-code-bi-dashboard",
            "rawQuery": true,
            "rawSql": "SELECT CHAR_LENGTH('$Podcast_title') + 10",
            "sql": {
              "columns": [
                {
                  "parameters": [],
                  "type": "function"
                }
              ],
              "groupBy": [
                {
                  "property": {
                    "type": "string"
                  },
                  "type": "groupBy"
                }
              ],
              "limit": 50
            }
          },
          "refresh": 2,
          "regex": "",
          "skipUrlSync": false,
          "sort": 0,
          "type": "query"
        },
        {
          "current": {
            "selected": false,
            "text": "34",
            "value": "34"
          },
          "datasource": {
            "type": "grafana-bigquery-datasource",
            "uid": "qUaUqEk4k"
          },
          "definition": "",
          "hide": 2,
          "includeAll": false,
          "multi": false,
          "name": "filled_size_headline_small",
          "options": [],
          "query": {
            "editorMode": "code",
            "format": 1,
            "location": "europe-west3",
            "project": "ndr-code-bi-dashboard",
            "rawQuery": true,
            "rawSql": "SELECT CHAR_LENGTH('$Podcast_title') + 10",
            "sql": {
              "columns": [
                {
                  "parameters": [],
                  "type": "function"
                }
              ],
              "groupBy": [
                {
                  "property": {
                    "type": "string"
                  },
                  "type": "groupBy"
                }
              ],
              "limit": 50
            }
          },
          "refresh": 1,
          "regex": "",
          "skipUrlSync": false,
          "sort": 0,
          "type": "query"
        },
        {
          "current": {
            "selected": false,
            "text": "4774",
            "value": "4774"
          },
          "datasource": {
            "type": "grafana-bigquery-datasource",
            "uid": "qUaUqEk4k"
          },
          "definition": "",
          "hide": 2,
          "includeAll": false,
          "multi": false,
          "name": "broadcast_id_branding",
          "options": [],
          "query": {
            "editorMode": "code",
            "format": 1,
            "location": "europe-west3",
            "project": "ndr-code-bi-dashboard",
            "rawQuery": true,
            "rawSql": "SELECT COALESCE(broadcast_id) \nFROM `ndr-code-bi-dashboard.Piano.NDR_podcast_episode_daily_f`\nWHERE \nbranding = \"$Bereich\" \nAND podcast_title = \"$Podcast\"\nAND broadcast_id != \"\"\nAND date > \"2023-01-01\" \nORDER by broadcast_id DESC\n--ORDER BY headline ASC",
            "sql": {
              "columns": [
                {
                  "parameters": [],
                  "type": "function"
                }
              ],
              "groupBy": [
                {
                  "property": {
                    "type": "string"
                  },
                  "type": "groupBy"
                }
              ],
              "limit": 50
            }
          },
          "refresh": 1,
          "regex": "",
          "skipUrlSync": false,
          "sort": 0,
          "type": "query"
        },
        {
          "current": {
            "selected": false,
            "text": "https://api.ardmediathek.de/image-service/images/urn:ard:image:029a588e558c18f7?w=640&ch=a1d81ce5c0a5987f",
            "value": "https://api.ardmediathek.de/image-service/images/urn:ard:image:029a588e558c18f7?w=640&ch=a1d81ce5c0a5987f"
          },
          "datasource": {
            "type": "grafana-bigquery-datasource",
            "uid": "qUaUqEk4k"
          },
          "definition": "",
          "hide": 2,
          "includeAll": false,
          "multi": false,
          "name": "Image",
          "options": [],
          "query": {
            "editorMode": "code",
            "format": 1,
            "location": "europe-west3",
            "project": "ndr-code-bi-dashboard",
            "rawQuery": true,
            "rawSql": "WITH image AS (\n    SELECT url\n    FROM `ndr-code-bi-dashboard.Piano.NDR_podcast_image_url_mapping`\n \n    WHERE broadcast_id = \"$broadcast_id_branding\"\n)\nSELECT\n    CASE\n        WHEN COUNT(*) = 0 THEN '$NDR_default_image'\n        ELSE MAX(url)\n    END AS url\nFROM image;",
            "sql": {
              "columns": [
                {
                  "parameters": [],
                  "type": "function"
                }
              ],
              "groupBy": [
                {
                  "property": {
                    "type": "string"
                  },
                  "type": "groupBy"
                }
              ],
              "limit": 50
            }
          },
          "refresh": 1,
          "regex": "",
          "skipUrlSync": false,
          "sort": 0,
          "type": "query"
        },
        {
          "current": {
            "selected": false,
            "text": "line",
            "value": "line"
          },
          "datasource": {
            "type": "grafana-bigquery-datasource",
            "uid": "qUaUqEk4k"
          },
          "definition": "",
          "hide": 2,
          "includeAll": false,
          "multi": false,
          "name": "type",
          "options": [],
          "query": {
            "editorMode": "code",
            "format": 1,
            "location": "europe-west3",
            "project": "ndr-code-bi-dashboard",
            "rawQuery": true,
            "rawSql": "SELECT  \r\n  CASE \r\n    WHEN (DATE_DIFF(DATE('${__to:date}', \"Europe/Berlin\"), DATE('${__from:date}', \"Europe/Berlin\"), DAY) + 1) < 7 THEN \"bar\"\r\n    ELSE \"line\"\r\n  END;\r\n",
            "sql": {
              "columns": [
                {
                  "parameters": [],
                  "type": "function"
                }
              ],
              "groupBy": [
                {
                  "property": {
                    "type": "string"
                  },
                  "type": "groupBy"
                }
              ],
              "limit": 50
            }
          },
          "refresh": 2,
          "regex": "",
          "skipUrlSync": false,
          "sort": 0,
          "type": "query"
        },
        {
          "current": {
            "selected": false,
            "text": "https://www.ndr.de/der_ndr/unternehmen/logoihrndr100_v-contentxl.jpg",
            "value": "https://www.ndr.de/der_ndr/unternehmen/logoihrndr100_v-contentxl.jpg"
          },
          "datasource": {
            "type": "grafana-bigquery-datasource",
            "uid": "qUaUqEk4k"
          },
          "definition": "",
          "hide": 2,
          "includeAll": false,
          "multi": false,
          "name": "NDR_default_image",
          "options": [],
          "query": {
            "editorMode": "code",
            "format": 1,
            "location": "europe-west3",
            "project": "ndr-code-bi-dashboard",
            "rawQuery": true,
            "rawSql": "SELECT \"https://www.ndr.de/der_ndr/unternehmen/logoihrndr100_v-contentxl.jpg\"",
            "sql": {
              "columns": [
                {
                  "parameters": [],
                  "type": "function"
                }
              ],
              "groupBy": [
                {
                  "property": {
                    "type": "string"
                  },
                  "type": "groupBy"
                }
              ],
              "limit": 50
            }
          },
          "refresh": 1,
          "regex": "",
          "skipUrlSync": false,
          "sort": 0,
          "type": "query"
        },
        {
          "current": {
            "selected": false,
            "text": "15.01.2024 | 03:00 Uhr",
            "value": "15.01.2024 | 03:00 Uhr"
          },
          "datasource": {
            "type": "grafana-bigquery-datasource",
            "uid": "qUaUqEk4k"
          },
          "definition": "",
          "hide": 2,
          "includeAll": false,
          "multi": false,
          "name": "lastUpdate",
          "options": [],
          "query": {
            "editorMode": "code",
            "format": 1,
            "location": "europe-west3",
            "project": "ndr-code-bi-dashboard",
            "rawQuery": true,
            "rawSql": "SELECT \nCASE MAX(tmstp)\n  WHEN NULL THEN \"N/A\"\n  ELSE FORMAT_DATETIME(\"%d.%m.%Y | %H:%M Uhr\", (TIMESTAMP(MAX(tmstp),\"Europe/Berlin\")))\n  END\nFROM `ndr-code-bi-dashboard.Piano.NDR_podcast_episode_daily_f`\nWHERE date > DATE_SUB(CURRENT_DATE(), INTERVAL 10 day)\nAND broadcast_id = \"${broadcast_id_branding}\"",
            "sql": {
              "columns": [
                {
                  "parameters": [],
                  "type": "function"
                }
              ],
              "groupBy": [
                {
                  "property": {
                    "type": "string"
                  },
                  "type": "groupBy"
                }
              ],
              "limit": 50
            }
          },
          "refresh": 1,
          "regex": "",
          "skipUrlSync": false,
          "sort": 0,
          "type": "query"
        },
        {
          "current": {
            "selected": false,
            "text": "None",
            "value": "None"
          },
          "datasource": {
            "type": "grafana-bigquery-datasource",
            "uid": "qUaUqEk4k"
          },
          "definition": "",
          "description": "Verwenden Sie das Dropdown-Menü \"AllePodcasts\". In diesem Menü finden Sie alle von uns geführten Podcasts. Soll diese Option nicht verwendet werden, muss der Wert auf \"None\" gesetzt werden.",
          "hide": 0,
          "includeAll": false,
          "label": "Podcastsuche",
          "multi": false,
          "name": "AllePodcasts",
          "options": [],
          "query": {
            "dataset": "Piano",
            "editorMode": "code",
            "format": 1,
            "location": "europe-west3",
            "project": "ndr-code-bi-dashboard",
            "rawQuery": true,
            "rawSql": "SELECT podcast_title FROM(\n(SELECT DISTINCT podcast_title, CASE podcast_title WHEN \"All titles\" THEN 0 ELSE 1 END AS sort  FROM `ndr-code-bi-dashboard.Piano.NDR_podcast_episode_daily_f`\nWHERE podcast_title != \"All titles\"\nAND date > \"2022-01-01\"\nORDER BY sort,podcast_title DESC\n)\nUNION ALL (SELECT \"None\", -1 as sort)\n)\nORDER BY SORT, podcast_title ASC\n\n",
            "sql": {
              "columns": [
                {
                  "parameters": [
                    {
                      "name": "podcast_title",
                      "type": "functionParameter"
                    }
                  ],
                  "type": "function"
                }
              ],
              "groupBy": [
                {
                  "property": {
                    "type": "string"
                  },
                  "type": "groupBy"
                }
              ],
              "limit": 50
            },
            "table": "NDR_spotify_podcasts"
          },
          "refresh": 1,
          "regex": "",
          "skipUrlSync": false,
          "sort": 0,
          "type": "query"
        },
        {
          "current": {
            "selected": false,
            "text": "True",
            "value": "True"
          },
          "datasource": {
            "type": "grafana-bigquery-datasource",
            "uid": "qUaUqEk4k"
          },
          "definition": "",
          "hide": 2,
          "includeAll": false,
          "multi": false,
          "name": "AllePodcastsCondition",
          "options": [],
          "query": {
            "editorMode": "code",
            "format": 1,
            "location": "europe-west3",
            "project": "ndr-code-bi-dashboard",
            "rawQuery": true,
            "rawSql": "SELECT \n    CASE \"$AllePodcasts\"\n    WHEN \"None\"\n    THEN \"True\"\n    ELSE CAST(\"\"\" podcast_title = \"$AllePodcasts\" \"\"\" as string)\n    END",
            "sql": {
              "columns": [
                {
                  "parameters": [],
                  "type": "function"
                }
              ],
              "groupBy": [
                {
                  "property": {
                    "type": "string"
                  },
                  "type": "groupBy"
                }
              ],
              "limit": 50
            }
          },
          "refresh": 1,
          "regex": "",
          "skipUrlSync": false,
          "sort": 0,
          "type": "query"
        },
        {
          "current": {
            "selected": false,
            "text": "not_all_titles_platforms",
            "value": "not_all_titles_platforms"
          },
          "datasource": {
            "type": "grafana-bigquery-datasource",
            "uid": "qUaUqEk4k"
          },
          "definition": "",
          "hide": 2,
          "includeAll": false,
          "multi": false,
          "name": "dataset",
          "options": [],
          "query": {
            "editorMode": "code",
            "format": 1,
            "location": "europe-west3",
            "project": "ndr-code-bi-dashboard",
            "rawQuery": true,
            "rawSql": "SELECT CASE \"${Podcast}\"\r\nWHEN \"All titles\" THEN \"all_titles_platforms\"\r\nELSE \"not_all_titles_platforms\" END",
            "sql": {
              "columns": [
                {
                  "parameters": [],
                  "type": "function"
                }
              ],
              "groupBy": [
                {
                  "property": {
                    "type": "string"
                  },
                  "type": "groupBy"
                }
              ],
              "limit": 50
            }
          },
          "refresh": 1,
          "regex": "",
          "skipUrlSync": false,
          "sort": 0,
          "type": "query"
        },
        {
          "current": {
            "selected": false,
            "text": "10.01.2024",
            "value": "10.01.2024"
          },
          "datasource": {
            "type": "grafana-bigquery-datasource",
            "uid": "qUaUqEk4k"
          },
          "definition": "",
          "hide": 2,
          "includeAll": false,
          "multi": false,
          "name": "datenstand",
          "options": [],
          "query": {
            "editorMode": "code",
            "format": 1,
            "location": "europe-west3",
            "project": "ndr-code-bi-dashboard",
            "rawQuery": true,
            "rawSql": "SELECT \nCASE MAX(tmstp)\n  WHEN NULL THEN \"N/A\"\n  ELSE  FORMAT_DATETIME(\"%d.%m.%Y\", DATE_SUB((TIMESTAMP(MAX(tmstp),\"Europe/Berlin\")), INTERVAL 5 day))\n  --ELSE FORMAT_DATETIME(\"%d.%m.%Y\", (TIMESTAMP(MAX(tmstp),\"Europe/Berlin\")))\n  END\nFROM `ndr-code-bi-dashboard.Piano.NDR_podcast_episode_daily_f`\nWHERE date > DATE_SUB(CURRENT_DATE(), INTERVAL 10 day)\nAND broadcast_id = \"${broadcast_id_branding}\"",
            "sql": {
              "columns": [
                {
                  "parameters": [],
                  "type": "function"
                }
              ],
              "groupBy": [
                {
                  "property": {
                    "type": "string"
                  },
                  "type": "groupBy"
                }
              ],
              "limit": 50
            }
          },
          "refresh": 1,
          "regex": "",
          "skipUrlSync": false,
          "sort": 0,
          "type": "query"
        },
        {
          "current": {
            "selected": false,
            "text": "extra 3 – Bosettis Woche",
            "value": "extra 3 – Bosettis Woche"
          },
          "datasource": {
            "type": "grafana-bigquery-datasource",
            "uid": "qUaUqEk4k"
          },
          "definition": "",
          "hide": 2,
          "includeAll": false,
          "multi": false,
          "name": "Podcast_title",
          "options": [],
          "query": {
            "editorMode": "code",
            "format": 1,
            "location": "europe-west3",
            "project": "ndr-code-bi-dashboard",
            "rawQuery": true,
            "rawSql": "SELECT \nCASE \n  WHEN '$Podcast' = 'All titles' \n  THEN '$Bereich – alle Podcastreihen'\n  ELSE '$Podcast'\nEND \n",
            "sql": {
              "columns": [
                {
                  "parameters": [],
                  "type": "function"
                }
              ],
              "groupBy": [
                {
                  "property": {
                    "type": "string"
                  },
                  "type": "groupBy"
                }
              ],
              "limit": 50
            }
          },
          "refresh": 1,
          "regex": "",
          "skipUrlSync": false,
          "sort": 0,
          "type": "query"
        }
      ]
    },
    "time": {
      "from": "2023-04-12T11:00:00.007Z",
      "to": "2024-08-20T10:59:59.991Z"
    },
    "timepicker": {
      "refresh_intervals": [
        "5s",
        "10s",
        "30s",
        "1m",
        "5m",
        "15m",
        "30m",
        "1h",
        "2h",
        "1d",
        "2d"
      ]
    },
    "timezone": "",
    "title": "Podcast Copy Guided tour",
    "uid": "VujgOicSk",
    "version": 2,
    "weekStart": ""
  }
}

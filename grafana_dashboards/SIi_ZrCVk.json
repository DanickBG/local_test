{
    "meta": {
        "type": "db",
        "canSave": true,
        "canEdit": true,
        "canAdmin": true,
        "canStar": true,
        "canDelete": true,
        "slug": "piano-web-desktop-current-copy-20072023",
        "url": "/d/SIi_ZrCVk/piano-web-desktop-current-copy-20072023",
        "expires": "0001-01-01T00:00:00Z",
        "created": "2024-07-29T12:42:39Z",
        "updated": "2024-07-30T05:39:42Z",
        "updatedBy": "Anonymous",
        "createdBy": "Anonymous",
        "version": 2,
        "hasAcl": false,
        "isFolder": false,
        "folderId": 660,
        "folderUid": "folder-F9a5Uxn4k",
        "folderTitle": "Prototypes",
        "folderUrl": "/dashboards/f/folder-F9a5Uxn4k/prototypes",
        "provisioned": false,
        "provisionedExternalId": "",
        "annotationsPermissions": {
            "dashboard": {
                "canAdd": true,
                "canEdit": true,
                "canDelete": true
            },
            "organization": {
                "canAdd": true,
                "canEdit": true,
                "canDelete": true
            }
        }
    },
    "dashboard": {
        "annotations": {
            "list": [
                {
                    "builtIn": 1,
                    "datasource": {
                        "type": "grafana",
                        "uid": "-- Grafana --"
                    },
                    "enable": true,
                    "hide": true,
                    "iconColor": "rgba(0, 211, 255, 1)",
                    "name": "Annotations & Alerts",
                    "target": {
                        "limit": 100,
                        "matchAny": false,
                        "tags": [],
                        "type": "dashboard"
                    },
                    "type": "dashboard"
                }
            ]
        },
        "editable": true,
        "fiscalYearStartMonth": 0,
        "graphTooltip": 0,
        "id": 1303,
        "links": [],
        "liveNow": false,
        "panels": [
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "mode": "fixed"
                        },
                        "custom": {
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "fillOpacity": 80,
                            "gradientMode": "none",
                            "hideFrom": {
                                "legend": false,
                                "tooltip": false,
                                "viz": false
                            },
                            "lineWidth": 1,
                            "scaleDistribution": {
                                "type": "linear"
                            }
                        },
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        },
                        "unit": "locale"
                    },
                    "overrides": [
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "A m_visits"
                            },
                            "properties": [
                                {
                                    "id": "displayName",
                                    "value": "${Zeitraum:text}"
                                },
                                {
                                    "id": "color",
                                    "value": {
                                        "fixedColor": "dark-blue",
                                        "mode": "fixed"
                                    }
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "B m_visits"
                            },
                            "properties": [
                                {
                                    "id": "displayName",
                                    "value": "${Vergleichszeitraumlabels:text}"
                                },
                                {
                                    "id": "color",
                                    "value": {
                                        "fixedColor": "#808080a1",
                                        "mode": "fixed"
                                    }
                                },
                                {
                                    "id": "custom.fillOpacity",
                                    "value": 24
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "f0_"
                            },
                            "properties": [
                                {
                                    "id": "unit",
                                    "value": "time: DD.MM"
                                }
                            ]
                        }
                    ]
                },
                "gridPos": {
                    "h": 8,
                    "w": 24,
                    "x": 0,
                    "y": 0
                },
                "id": 152,
                "options": {
                    "barRadius": 0,
                    "barWidth": 0.97,
                    "groupWidth": 0.7,
                    "legend": {
                        "calcs": [],
                        "displayMode": "list",
                        "placement": "bottom",
                        "showLegend": true
                    },
                    "orientation": "auto",
                    "showValue": "auto",
                    "stacking": "none",
                    "text": {
                        "valueSize": 0
                    },
                    "tooltip": {
                        "mode": "single",
                        "sort": "none"
                    },
                    "xTickLabelRotation": 0,
                    "xTickLabelSpacing": 0
                },
                "targets": [
                    {
                        "dataset": "Quintly",
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "\n  SELECT \n  TIMESTAMP(date), \n  m_visits \n  FROM   `Piano.total_visits${dataset_zeitraum:raw}`\n  WHERE site_level2 = \"$LRA\" \n  AND page_chapter1 = \"$Redaktionen\" \n  AND page_chapter2 = \"$Unterkapitel\" \n  AND sendungs_id = \"$Sendung\" \n  AND $Zeitraum\n",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        },
                        "table": "facebookInsightsOwnPosts"
                    },
                    {
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "hide": false,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "\r\n  SELECT \r\n  TIMESTAMP(date), \r\n  m_visits \r\n  FROM   `Piano.total_visits${dataset_vergleichs_zeitraum:raw}`\r\n  WHERE site_level2 = \"$LRA\" \r\n  AND page_chapter1 = \"$Redaktionen\" \r\n  AND page_chapter2 = \"$Unterkapitel\" \r\n  AND sendungs_id = \"$Sendung\" \r\n  AND $Vergleichszeitraum \r\n",
                        "refId": "B",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    }
                ],
                "title": "Visits | $Zeitraum",
                "transformations": [],
                "transparent": true,
                "type": "barchart"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "gridPos": {
                    "h": 1,
                    "w": 24,
                    "x": 0,
                    "y": 8
                },
                "id": 153,
                "options": {
                    "code": {
                        "language": "plaintext",
                        "showLineNumbers": false,
                        "showMiniMap": false
                    },
                    "content": " ",
                    "mode": "html"
                },
                "pluginVersion": "9.2.3",
                "transparent": true,
                "type": "text"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "#f5f5f5",
                            "mode": "fixed"
                        },
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        }
                    },
                    "overrides": []
                },
                "gridPos": {
                    "h": 2,
                    "w": 5,
                    "x": 0,
                    "y": 9
                },
                "id": 30,
                "options": {
                    "colorMode": "background",
                    "graphMode": "area",
                    "justifyMode": "auto",
                    "orientation": "auto",
                    "reduceOptions": {
                        "calcs": [
                            "lastNotNull"
                        ],
                        "fields": "/.*/",
                        "values": false
                    },
                    "textMode": "value"
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT CONCAT(REPEAT(\" \", $filled_size_headline - CHAR_LENGTH('Visits')), 'Visits')\r\nFROM(\r\nSELECT 'Visits' as Visits\r\n)",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    }
                ],
                "type": "stat"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "#f5f5f5",
                            "mode": "fixed"
                        },
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        }
                    },
                    "overrides": []
                },
                "gridPos": {
                    "h": 2,
                    "w": 5,
                    "x": 5,
                    "y": 9
                },
                "id": 32,
                "options": {
                    "colorMode": "background",
                    "graphMode": "area",
                    "justifyMode": "auto",
                    "orientation": "auto",
                    "reduceOptions": {
                        "calcs": [
                            "lastNotNull"
                        ],
                        "fields": "/.*/",
                        "values": false
                    },
                    "textMode": "value"
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT CONCAT(REPEAT(\" \", $filled_size_headline - CHAR_LENGTH('Bounce Rate in %')), 'Bounce Rate in %')\r\nFROM(\r\nSELECT 'Bounce Rate in %' as Bounce\r\n)",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    }
                ],
                "type": "stat"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "#f5f5f5",
                            "mode": "fixed"
                        },
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        }
                    },
                    "overrides": []
                },
                "gridPos": {
                    "h": 2,
                    "w": 5,
                    "x": 10,
                    "y": 9
                },
                "id": 48,
                "options": {
                    "colorMode": "background",
                    "graphMode": "area",
                    "justifyMode": "auto",
                    "orientation": "auto",
                    "reduceOptions": {
                        "calcs": [
                            "lastNotNull"
                        ],
                        "fields": "/.*/",
                        "values": false
                    },
                    "textMode": "value"
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT CONCAT(REPEAT(\" \", $filled_size_headline - CHAR_LENGTH('Page Views / Visits')), 'Page Views / Visits')\r\nFROM(\r\nSELECT 'Page Views / Visits' as pi_visits\r\n)",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    }
                ],
                "type": "stat"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "#f5f5f5",
                            "mode": "fixed"
                        },
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        }
                    },
                    "overrides": []
                },
                "gridPos": {
                    "h": 2,
                    "w": 5,
                    "x": 15,
                    "y": 9
                },
                "id": 128,
                "options": {
                    "colorMode": "background",
                    "graphMode": "area",
                    "justifyMode": "auto",
                    "orientation": "auto",
                    "reduceOptions": {
                        "calcs": [
                            "lastNotNull"
                        ],
                        "fields": "/.*/",
                        "values": false
                    },
                    "textMode": "value"
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT CONCAT(REPEAT(\" \", $filled_size_headline - CHAR_LENGTH('Time spent/Visit in s')), 'Time spent/Visit in s')\r\nFROM(\r\nSELECT 'Time spent/Visit in s' as Audio_Videostarts\r\n)",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    }
                ],
                "type": "stat"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "#f5f5f5",
                            "mode": "fixed"
                        },
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        }
                    },
                    "overrides": []
                },
                "gridPos": {
                    "h": 2,
                    "w": 4,
                    "x": 20,
                    "y": 9
                },
                "id": 50,
                "options": {
                    "colorMode": "background",
                    "graphMode": "area",
                    "justifyMode": "auto",
                    "orientation": "auto",
                    "reduceOptions": {
                        "calcs": [
                            "lastNotNull"
                        ],
                        "fields": "/.*/",
                        "values": false
                    },
                    "textMode": "value"
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT CONCAT(REPEAT(\" \", $filled_size_headline - CHAR_LENGTH('Audio- & Videostarts')), 'Audio- & Videostarts')\r\nFROM(\r\nSELECT 'Audio- & Videostarts' as Audio_Videostarts\r\n)",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    }
                ],
                "type": "stat"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "description": "",
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "dark-blue",
                            "mode": "fixed"
                        },
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        }
                    },
                    "overrides": [
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "summe"
                            },
                            "properties": [
                                {
                                    "id": "unit",
                                    "value": "locale"
                                }
                            ]
                        }
                    ]
                },
                "gridPos": {
                    "h": 6,
                    "w": 3,
                    "x": 0,
                    "y": 11
                },
                "id": 14,
                "options": {
                    "colorMode": "background",
                    "graphMode": "area",
                    "justifyMode": "center",
                    "orientation": "auto",
                    "reduceOptions": {
                        "calcs": [
                            "last"
                        ],
                        "fields": "/.*/",
                        "values": false
                    },
                    "textMode": "value_and_name"
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT \r\n  SUM(COALESCE(m_visits,0)) as summe\r\nFROM \r\n  `Piano.total_visits${dataset_zeitraum:raw}`\r\nWHERE \r\nsite_level2 = \"$LRA\"\r\nAND page_chapter1 = \"$Redaktionen\"\r\nAND page_chapter2 = \"$Unterkapitel\"\r\nAND sendungs_id = \"$Sendung\"\r\nAND $Zeitraum\r\n",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {
                            "excludeByName": {},
                            "indexByName": {},
                            "renameByName": {
                                "f0_": "${Zeitraum:text}",
                                "summe": "${Zeitraum:text}",
                                "visits": "${Zeitraum:text}"
                            }
                        }
                    }
                ],
                "type": "stat"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "description": "",
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "dark-blue",
                            "mode": "fixed"
                        },
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        }
                    },
                    "overrides": [
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "summe"
                            },
                            "properties": [
                                {
                                    "id": "displayName",
                                    "value": "${Vergleichszeitraumlabels:text}"
                                },
                                {
                                    "id": "unit",
                                    "value": "locale"
                                }
                            ]
                        }
                    ]
                },
                "gridPos": {
                    "h": 3,
                    "w": 2,
                    "x": 3,
                    "y": 11
                },
                "id": 18,
                "options": {
                    "colorMode": "background",
                    "graphMode": "area",
                    "justifyMode": "center",
                    "orientation": "auto",
                    "reduceOptions": {
                        "calcs": [
                            "lastNotNull"
                        ],
                        "fields": "",
                        "values": false
                    },
                    "textMode": "value_and_name"
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT \r\n  SUM(COALESCE(m_visits,0)) as summe\r\nFROM \r\n  `Piano.total_visits${dataset_vergleichs_zeitraum:raw}`\r\nWHERE \r\nsite_level2 = \"$LRA\"\r\nAND page_chapter1 = \"$Redaktionen\"\r\nAND page_chapter2 = \"$Unterkapitel\"\r\nAND sendungs_id = \"$Sendung\"\r\nAND $Vergleichszeitraum\r\n",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    }
                ],
                "type": "stat"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "description": "",
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "dark-blue",
                            "mode": "fixed"
                        },
                        "decimals": 1,
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        },
                        "unit": "locale"
                    },
                    "overrides": [
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "summe"
                            },
                            "properties": [
                                {
                                    "id": "unit",
                                    "value": "locale"
                                }
                            ]
                        }
                    ]
                },
                "gridPos": {
                    "h": 6,
                    "w": 3,
                    "x": 5,
                    "y": 11
                },
                "id": 22,
                "options": {
                    "colorMode": "background",
                    "graphMode": "area",
                    "justifyMode": "center",
                    "orientation": "auto",
                    "reduceOptions": {
                        "calcs": [
                            "last"
                        ],
                        "fields": "/.*/",
                        "values": false
                    },
                    "textMode": "value_and_name"
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT \r\n  SUM(COALESCE(m_bounce_rate*m_visits,0))/SUM(COALESCE(m_visits,0))*100 as summe,\r\nFROM \r\n  `Piano.total_visits${dataset_zeitraum:raw}`\r\nWHERE \r\nsite_level2 = \"$LRA\"\r\nAND page_chapter1 = \"$Redaktionen\"\r\nAND page_chapter2 = \"$Unterkapitel\"\r\nAND sendungs_id = \"$Sendung\"\r\nAND $Zeitraum",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {
                            "excludeByName": {},
                            "indexByName": {},
                            "renameByName": {
                                "bounce": "${Zeitraum:text}",
                                "bounce_rate": "${Zeitraum:text}",
                                "f0_": "${Zeitraum:text}",
                                "summe": "${Zeitraum:text}"
                            }
                        }
                    }
                ],
                "type": "stat"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "dark-blue",
                            "mode": "fixed"
                        },
                        "decimals": 1,
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        },
                        "unit": "locale"
                    },
                    "overrides": []
                },
                "gridPos": {
                    "h": 3,
                    "w": 2,
                    "x": 8,
                    "y": 11
                },
                "id": 24,
                "options": {
                    "colorMode": "background",
                    "graphMode": "area",
                    "justifyMode": "center",
                    "orientation": "auto",
                    "reduceOptions": {
                        "calcs": [
                            "lastNotNull"
                        ],
                        "fields": "",
                        "values": false
                    },
                    "textMode": "auto"
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT \r\n  SUM(COALESCE(m_bounce_rate*m_visits,0))/SUM(COALESCE(m_visits,0))*100 as bounce_rate,\r\nFROM \r\n  `Piano.total_visits${dataset_vergleichs_zeitraum:raw}`\r\nWHERE \r\nsite_level2 = \"$LRA\"\r\nAND page_chapter1 = \"$Redaktionen\"\r\nAND page_chapter2 = \"$Unterkapitel\"\r\nAND sendungs_id = \"$Sendung\"\r\nAND $Vergleichszeitraum",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {
                            "excludeByName": {},
                            "indexByName": {},
                            "renameByName": {
                                "bounce": "${Vergleichszeitraum:text}",
                                "bounce_rate": "${Vergleichszeitraumlabels:text}",
                                "summe": "${Vergleichszeitraum:text}"
                            }
                        }
                    }
                ],
                "type": "stat"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "description": "",
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "dark-blue",
                            "mode": "fixed"
                        },
                        "decimals": 2,
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        },
                        "unit": "locale"
                    },
                    "overrides": []
                },
                "gridPos": {
                    "h": 6,
                    "w": 3,
                    "x": 10,
                    "y": 11
                },
                "id": 36,
                "options": {
                    "colorMode": "background",
                    "graphMode": "area",
                    "justifyMode": "center",
                    "orientation": "auto",
                    "reduceOptions": {
                        "calcs": [
                            "lastNotNull"
                        ],
                        "fields": "",
                        "values": false
                    },
                    "textMode": "auto"
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT \r\n  SUM(COALESCE(m_page_loads,0))/SUM(COALESCE(m_visits,1)) as PI_per_visit,\r\nFROM \r\n  `Piano.total_visits${dataset_zeitraum:raw}`\r\nWHERE \r\nsite_level2 = \"$LRA\"\r\nAND page_chapter1 = \"$Redaktionen\"\r\nAND page_chapter2 = \"$Unterkapitel\"\r\nAND sendungs_id = \"$Sendung\"\r\nAND $Zeitraum",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {
                            "excludeByName": {},
                            "indexByName": {},
                            "renameByName": {
                                "PI_per_visit": "${Zeitraum:text}",
                                "impression_durchschnitt": "${Zeitraum:text}"
                            }
                        }
                    }
                ],
                "type": "stat"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "dark-blue",
                            "mode": "fixed"
                        },
                        "decimals": 2,
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        },
                        "unit": "locale"
                    },
                    "overrides": []
                },
                "gridPos": {
                    "h": 3,
                    "w": 2,
                    "x": 13,
                    "y": 11
                },
                "id": 46,
                "options": {
                    "colorMode": "background",
                    "graphMode": "area",
                    "justifyMode": "center",
                    "orientation": "auto",
                    "reduceOptions": {
                        "calcs": [
                            "lastNotNull"
                        ],
                        "fields": "",
                        "values": false
                    },
                    "textMode": "auto"
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT \r\n  SUM(COALESCE(m_page_loads,0))/SUM(COALESCE(m_visits,1)) as PI_per_visit,\r\nFROM \r\n  `Piano.total_visits${dataset_vergleichs_zeitraum:raw}`\r\nWHERE \r\nsite_level2 = \"$LRA\"\r\nAND page_chapter1 = \"$Redaktionen\"\r\nAND page_chapter2 = \"$Unterkapitel\"\r\nAND sendungs_id = \"$Sendung\"\r\nAND $Vergleichszeitraum",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {
                            "excludeByName": {},
                            "indexByName": {},
                            "renameByName": {
                                "PI_per_visit": "${Vergleichszeitraumlabels:text}",
                                "impression_durchschnitt": "${Vergleichszeitraum:text}"
                            }
                        }
                    }
                ],
                "type": "stat"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "description": "",
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "dark-blue",
                            "mode": "fixed"
                        },
                        "decimals": 1,
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                }
                            ]
                        },
                        "unit": "locale"
                    },
                    "overrides": []
                },
                "gridPos": {
                    "h": 6,
                    "w": 3,
                    "x": 15,
                    "y": 11
                },
                "id": 134,
                "options": {
                    "colorMode": "background",
                    "graphMode": "area",
                    "justifyMode": "center",
                    "orientation": "auto",
                    "reduceOptions": {
                        "calcs": [
                            "lastNotNull"
                        ],
                        "fields": "",
                        "values": false
                    },
                    "textMode": "auto"
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT\r\n  SUM(m_visits * m_time_spent_per_visits/1000) / SUM(m_visits) AS time_spent\r\nFROM \r\n  `Piano.total_visits${dataset_zeitraum:raw}`\r\nWHERE \r\nsite_level2 = \"$LRA\"\r\nAND page_chapter1 = \"$Redaktionen\"\r\nAND page_chapter2 = \"$Unterkapitel\"\r\nAND sendungs_id = \"$Sendung\"\r\nAND $Zeitraum",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {
                            "excludeByName": {},
                            "indexByName": {},
                            "renameByName": {
                                "time_spent": "${Zeitraum:text}"
                            }
                        }
                    }
                ],
                "type": "stat"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "description": "",
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "dark-blue",
                            "mode": "fixed"
                        },
                        "decimals": 1,
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        },
                        "unit": "locale"
                    },
                    "overrides": []
                },
                "gridPos": {
                    "h": 3,
                    "w": 2,
                    "x": 18,
                    "y": 11
                },
                "id": 132,
                "options": {
                    "colorMode": "background",
                    "graphMode": "area",
                    "justifyMode": "center",
                    "orientation": "auto",
                    "reduceOptions": {
                        "calcs": [
                            "lastNotNull"
                        ],
                        "fields": "",
                        "values": false
                    },
                    "textMode": "auto"
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT \r\n  SUM(m_visits * m_time_spent_per_visits/1000) / SUM(m_visits) AS time_spent\r\nFROM \r\n  `Piano.total_visits${dataset_vergleichs_zeitraum:raw}`\r\nWHERE \r\nsite_level2 = \"$LRA\"\r\nAND page_chapter1 = \"$Redaktionen\"\r\nAND page_chapter2 = \"$Unterkapitel\"\r\nAND sendungs_id = \"$Sendung\"\r\nAND $Vergleichszeitraum",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {
                            "excludeByName": {},
                            "indexByName": {},
                            "renameByName": {
                                "time_spent": "${Vergleichszeitraumlabels:text}"
                            }
                        }
                    }
                ],
                "type": "stat"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "description": "",
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "dark-blue",
                            "mode": "fixed"
                        },
                        "decimals": 2,
                        "mappings": [],
                        "min": 2,
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        },
                        "unit": "locale"
                    },
                    "overrides": []
                },
                "gridPos": {
                    "h": 6,
                    "w": 2,
                    "x": 20,
                    "y": 11
                },
                "id": 38,
                "options": {
                    "colorMode": "background",
                    "graphMode": "area",
                    "justifyMode": "center",
                    "orientation": "auto",
                    "reduceOptions": {
                        "calcs": [
                            "lastNotNull"
                        ],
                        "fields": "",
                        "values": false
                    },
                    "textMode": "auto"
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT \r\n  SUM(COALESCE(m_av_playbacks,0)) as summe\r\nFROM \r\n  `Piano.av${dataset_zeitraum:raw}`\r\nWHERE \r\nsite_level2 = \"$LRA\" AND\r\n\"$Redaktionen\" IN UNNEST(bi_av_page_chapter1_tags) AND\r\n\"$Unterkapitel\" IN UNNEST(bi_av_page_chapter2_tags)\r\nAND \"$Sendung\" IN UNNEST(sendungs_id_tags)\r\nAND $Zeitraum",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {
                            "excludeByName": {},
                            "indexByName": {},
                            "renameByName": {
                                "summe": "${Zeitraum:text}"
                            }
                        }
                    }
                ],
                "type": "stat"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "dark-blue",
                            "mode": "fixed"
                        },
                        "decimals": 2,
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        },
                        "unit": "locale"
                    },
                    "overrides": []
                },
                "gridPos": {
                    "h": 3,
                    "w": 2,
                    "x": 22,
                    "y": 11
                },
                "id": 42,
                "options": {
                    "colorMode": "background",
                    "graphMode": "area",
                    "justifyMode": "center",
                    "orientation": "auto",
                    "reduceOptions": {
                        "calcs": [
                            "lastNotNull"
                        ],
                        "fields": "",
                        "values": false
                    },
                    "textMode": "auto"
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT \r\n  SUM(COALESCE(m_av_playbacks,0)) as summe\r\nFROM \r\n  `Piano.av${dataset_vergleichs_zeitraum:raw}`\r\nWHERE \r\nsite_level2 = \"$LRA\" AND\r\n\"$Redaktionen\" IN UNNEST(bi_av_page_chapter1_tags) AND\r\n\"$Unterkapitel\" IN UNNEST(bi_av_page_chapter2_tags)\r\nAND \"$Sendung\" IN UNNEST(sendungs_id_tags)\r\nAND $Vergleichszeitraum",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {
                            "excludeByName": {},
                            "indexByName": {},
                            "renameByName": {
                                "summe": "${Vergleichszeitraumlabels:text}"
                            }
                        }
                    }
                ],
                "type": "stat"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "dark-blue",
                            "mode": "fixed"
                        },
                        "decimals": 1,
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        },
                        "unit": "locale"
                    },
                    "overrides": []
                },
                "gridPos": {
                    "h": 3,
                    "w": 2,
                    "x": 3,
                    "y": 14
                },
                "id": 20,
                "options": {
                    "colorMode": "background",
                    "graphMode": "area",
                    "justifyMode": "center",
                    "orientation": "auto",
                    "reduceOptions": {
                        "calcs": [
                            "lastNotNull"
                        ],
                        "fields": "",
                        "values": false
                    },
                    "textMode": "auto"
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "WITH past_value as(\r\nSELECT \r\n  SUM(COALESCE(m_visits,0)) as past_sum\r\nFROM \r\n   `Piano.total_visits${dataset_vergleichs_zeitraum:raw}`\r\nWHERE \r\nsite_level2 = \"$LRA\"\r\nAND page_chapter1 = \"$Redaktionen\"\r\nAND page_chapter2 = \"$Unterkapitel\"\r\nAND sendungs_id = \"$Sendung\"\r\nAND $Vergleichszeitraum), current_value AS (\r\nSELECT \r\n  SUM(COALESCE(m_visits,0)) as current_sum\r\nFROM \r\n  `Piano.total_visits${dataset_zeitraum:raw}`\r\nWHERE \r\nsite_level2 = \"$LRA\"\r\nAND page_chapter1 = \"$Redaktionen\"\r\nAND page_chapter2 = \"$Unterkapitel\"\r\nAND sendungs_id = \"$Sendung\"\r\nAND $Zeitraum\r\n  )\r\nSELECT ((current_sum-past_sum)/past_sum)*100 FROM current_value,past_value as relative_difference",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {
                            "excludeByName": {},
                            "indexByName": {},
                            "renameByName": {
                                "f0_": "Differenz in %"
                            }
                        }
                    }
                ],
                "type": "stat"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "dark-blue",
                            "mode": "fixed"
                        },
                        "decimals": 1,
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        },
                        "unit": "locale"
                    },
                    "overrides": []
                },
                "gridPos": {
                    "h": 3,
                    "w": 2,
                    "x": 8,
                    "y": 14
                },
                "id": 26,
                "options": {
                    "colorMode": "background",
                    "graphMode": "area",
                    "justifyMode": "center",
                    "orientation": "auto",
                    "reduceOptions": {
                        "calcs": [
                            "lastNotNull"
                        ],
                        "fields": "",
                        "values": false
                    },
                    "textMode": "auto"
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "WITH past_value as(\r\nSELECT \r\n  SUM(COALESCE(m_bounce_rate*m_visits,0))/SUM(COALESCE(m_visits,0)) as past_sum,\r\nFROM \r\n  `Piano.total_visits${dataset_vergleichs_zeitraum:raw}`\r\nWHERE \r\nsite_level2 = \"$LRA\"\r\nAND page_chapter1 = \"$Redaktionen\"\r\nAND page_chapter2 = \"$Unterkapitel\"\r\nAND sendungs_id = \"$Sendung\"\r\nAND $Vergleichszeitraum), current_value AS (\r\nSELECT \r\n  SUM(COALESCE(m_bounce_rate*m_visits,0))/SUM(COALESCE(m_visits,0)) as current_sum,\r\nFROM \r\n  Piano.total_visits\r\nWHERE \r\nsite_level2 = \"$LRA\"\r\nAND page_chapter1 = \"$Redaktionen\"\r\nAND page_chapter2 = \"$Unterkapitel\"\r\nAND sendungs_id = \"$Sendung\"\r\nAND $Zeitraum\r\n  )\r\nSELECT ((current_sum-past_sum)/past_sum)*100 FROM current_value,past_value as relative_difference",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {
                            "excludeByName": {},
                            "indexByName": {},
                            "renameByName": {
                                "f0_": "Differenz in %"
                            }
                        }
                    }
                ],
                "type": "stat"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "dark-blue",
                            "mode": "fixed"
                        },
                        "decimals": 1,
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        },
                        "unit": "locale"
                    },
                    "overrides": []
                },
                "gridPos": {
                    "h": 3,
                    "w": 2,
                    "x": 13,
                    "y": 14
                },
                "id": 44,
                "options": {
                    "colorMode": "background",
                    "graphMode": "area",
                    "justifyMode": "center",
                    "orientation": "auto",
                    "reduceOptions": {
                        "calcs": [
                            "lastNotNull"
                        ],
                        "fields": "",
                        "values": false
                    },
                    "textMode": "auto"
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "WITH past_value as(\r\nSELECT \r\n  SUM(COALESCE(m_page_loads,0))/SUM(COALESCE(m_visits,1)) as past_sum,\r\nFROM \r\n  `Piano.total_visits${dataset_vergleichs_zeitraum:raw}`\r\nWHERE \r\nsite_level2 = \"$LRA\"\r\nAND page_chapter1 = \"$Redaktionen\"\r\nAND page_chapter2 = \"$Unterkapitel\"\r\nAND sendungs_id = \"$Sendung\"\r\nAND $Vergleichszeitraum), current_value AS (\r\nSELECT \r\n  SUM(COALESCE(m_page_loads,0))/SUM(COALESCE(m_visits,1)) as current_sum,\r\nFROM \r\n  `Piano.total_visits${dataset_zeitraum:raw}`\r\nWHERE \r\nsite_level2 = \"$LRA\"\r\nAND page_chapter1 = \"$Redaktionen\"\r\nAND page_chapter2 = \"$Unterkapitel\"\r\nAND sendungs_id = \"$Sendung\"\r\nAND $Zeitraum\r\n  )\r\nSELECT ((current_sum-past_sum)/past_sum)*100 FROM current_value,past_value as relative_difference",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {
                            "excludeByName": {},
                            "indexByName": {},
                            "renameByName": {
                                "f0_": "Differenz in %"
                            }
                        }
                    }
                ],
                "type": "stat"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "description": "",
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "dark-blue",
                            "mode": "fixed"
                        },
                        "decimals": 1,
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        },
                        "unit": "locale"
                    },
                    "overrides": []
                },
                "gridPos": {
                    "h": 3,
                    "w": 2,
                    "x": 18,
                    "y": 14
                },
                "id": 130,
                "options": {
                    "colorMode": "background",
                    "graphMode": "area",
                    "justifyMode": "center",
                    "orientation": "auto",
                    "reduceOptions": {
                        "calcs": [
                            "lastNotNull"
                        ],
                        "fields": "",
                        "values": false
                    },
                    "textMode": "auto"
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "WITH past_value as(\r\nSELECT\r\n  SUM(m_visits * m_time_spent_per_visits/1000) / SUM(m_visits) AS past_sum\r\nFROM \r\n  `Piano.total_visits${dataset_vergleichs_zeitraum:raw}`\r\nWHERE \r\nsite_level2 = \"$LRA\"\r\nAND page_chapter1 = \"$Redaktionen\"\r\nAND page_chapter2 = \"$Unterkapitel\"\r\nAND sendungs_id = \"$Sendung\"\r\nAND $Vergleichszeitraum), current_value AS (\r\nSELECT\r\n  SUM(m_visits * m_time_spent_per_visits/1000) / SUM(m_visits) AS current_sum\r\nFROM \r\n  `Piano.total_visits${dataset_zeitraum:raw}`\r\nWHERE \r\nsite_level2 = \"$LRA\"\r\nAND page_chapter1 = \"$Redaktionen\"\r\nAND page_chapter2 = \"$Unterkapitel\"\r\nAND sendungs_id = \"$Sendung\"\r\nAND $Zeitraum\r\n  )\r\nSELECT ((current_sum-past_sum)/past_sum)*100 FROM current_value,past_value as relative_difference",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {
                            "excludeByName": {},
                            "indexByName": {},
                            "renameByName": {
                                "f0_": "Differenz in %"
                            }
                        }
                    }
                ],
                "type": "stat"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "dark-blue",
                            "mode": "fixed"
                        },
                        "decimals": 1,
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        },
                        "unit": "locale"
                    },
                    "overrides": []
                },
                "gridPos": {
                    "h": 3,
                    "w": 2,
                    "x": 22,
                    "y": 14
                },
                "id": 40,
                "options": {
                    "colorMode": "background",
                    "graphMode": "area",
                    "justifyMode": "center",
                    "orientation": "auto",
                    "reduceOptions": {
                        "calcs": [
                            "lastNotNull"
                        ],
                        "fields": "",
                        "values": false
                    },
                    "textMode": "auto"
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "WITH past_value as(\r\nSELECT \r\n  SUM(COALESCE(m_av_playbacks,0)) as past_sum\r\nFROM \r\n  `Piano.av${dataset_vergleichs_zeitraum:raw}`\r\nWHERE \r\nsite_level2 = \"$LRA\" AND\r\n\"$Redaktionen\" IN UNNEST(bi_av_page_chapter1_tags) AND\r\n\"$Unterkapitel\" IN UNNEST(bi_av_page_chapter2_tags)\r\nAND \"$Sendung\" IN UNNEST(sendungs_id_tags)\r\nAND $Vergleichszeitraum), current_value AS (\r\nSELECT \r\n  SUM(COALESCE(m_av_playbacks,0)) as current_sum\r\nFROM \r\n  `Piano.av${dataset_zeitraum:raw}`\r\nWHERE \r\nsite_level2 = \"$LRA\" AND\r\n\"$Redaktionen\" IN UNNEST(bi_av_page_chapter1_tags) AND\r\n\"$Unterkapitel\" IN UNNEST(bi_av_page_chapter2_tags)\r\nAND \"$Sendung\" IN UNNEST(sendungs_id_tags)\r\nAND $Zeitraum\r\n  )\r\nSELECT ((current_sum-past_sum)/past_sum)*100 FROM current_value,past_value as relative_difference",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {
                            "excludeByName": {},
                            "indexByName": {},
                            "renameByName": {
                                "f0_": "Differenz in %"
                            }
                        }
                    }
                ],
                "type": "stat"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "gridPos": {
                    "h": 1,
                    "w": 24,
                    "x": 0,
                    "y": 17
                },
                "id": 139,
                "options": {
                    "code": {
                        "language": "plaintext",
                        "showLineNumbers": false,
                        "showMiniMap": false
                    },
                    "content": " ",
                    "mode": "html"
                },
                "pluginVersion": "9.2.3",
                "transparent": true,
                "type": "text"
            },
            {
                "collapsed": true,
                "gridPos": {
                    "h": 1,
                    "w": 24,
                    "x": 0,
                    "y": 18
                },
                "id": 56,
                "panels": [
                    {
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "fieldConfig": {
                            "defaults": {
                                "color": {
                                    "fixedColor": "dark-blue",
                                    "mode": "fixed"
                                },
                                "custom": {
                                    "axisCenteredZero": false,
                                    "axisColorMode": "text",
                                    "axisLabel": "",
                                    "axisPlacement": "auto",
                                    "fillOpacity": 76,
                                    "gradientMode": "none",
                                    "hideFrom": {
                                        "legend": false,
                                        "tooltip": false,
                                        "viz": false
                                    },
                                    "lineWidth": 0,
                                    "scaleDistribution": {
                                        "log": 2,
                                        "type": "log"
                                    }
                                },
                                "mappings": [],
                                "thresholds": {
                                    "mode": "absolute",
                                    "steps": [
                                        {
                                            "color": "green"
                                        },
                                        {
                                            "color": "red",
                                            "value": 80
                                        }
                                    ]
                                }
                            },
                            "overrides": [
                                {
                                    "matcher": {
                                        "id": "byName",
                                        "options": "summe"
                                    },
                                    "properties": [
                                        {
                                            "id": "unit",
                                            "value": "locale"
                                        }
                                    ]
                                }
                            ]
                        },
                        "gridPos": {
                            "h": 9,
                            "w": 24,
                            "x": 0,
                            "y": 19
                        },
                        "id": 52,
                        "options": {
                            "barRadius": 0,
                            "barWidth": 0.64,
                            "groupWidth": 0.7,
                            "legend": {
                                "calcs": [],
                                "displayMode": "list",
                                "placement": "bottom",
                                "showLegend": false
                            },
                            "orientation": "horizontal",
                            "showValue": "auto",
                            "stacking": "none",
                            "text": {
                                "valueSize": 15
                            },
                            "tooltip": {
                                "mode": "multi",
                                "sort": "none"
                            },
                            "xTickLabelRotation": 0,
                            "xTickLabelSpacing": 0
                        },
                        "pluginVersion": "9.2.3",
                        "targets": [
                            {
                                "datasource": {
                                    "type": "grafana-bigquery-datasource",
                                    "uid": "qUaUqEk4k"
                                },
                                "editorMode": "code",
                                "format": 1,
                                "location": "europe-west3",
                                "project": "ndr-code-bi-dashboard",
                                "rawQuery": true,
                                "rawSql": "\r\nWITH nachrichten AS (\r\n  SELECT \r\n  CASE page_chapter2 WHEN \"thueringen\" THEN \"Th\u00fcringen\" WHEN \"sachsen\" THEN \"Sachsen\" WHEN \"sachsen-anhalt\" THEN \"Sachsen-Anhalt\" WHEN \"deutschland\" THEN \"Deutschland\" WHEN \"welt\" THEN \"Welt\" END as Chapter,\r\n  SUM(COALESCE(m_visits,0)) as summe\r\n  FROM   `Piano.total_visits${dataset_zeitraum:raw}`\r\n  WHERE page_chapter1 = \"nachrichten\" AND page_chapter2 IN (\"sachsen\",\"sachsen-anhalt\",\"thueringen\",\"deutschland\",\"welt\") AND site_level2 = \"$LRA\" AND sendungs_id = \"$Sendung\" AND $Zeitraum\r\n  GROUP BY Chapter\r\n), ratgeber AS(\r\n  SELECT \r\n  \"Ratgeber\" as Chapter,\r\n  SUM(COALESCE(m_visits,0)) as summe\r\n  FROM   `Piano.total_visits${dataset_zeitraum:raw}`\r\n  WHERE page_chapter1 = \"ratgeber\" AND site_level2 = \"$LRA\" AND page_chapter2 = \"$Unterkapitel\" AND sendungs_id = \"$Sendung\" AND $Zeitraum\r\n  GROUP BY Chapter\r\n--), app_aktuell AS (\r\n--  SELECT\r\n--  \"App Aktuell\" as Chapter,\r\n--  SUM(COALESCE(m_visits,0)) as summe\r\n--  FROM Piano.total_visits\r\n--  WHERE page_chapter1 = \"nachrichten\" AND page_chapter2 IN (\"app_aktuell\",\"app-aktuell\") AND site_level2 = \"$LRA\" AND sendungs_id = \"$Sendung\" AND $Zeitraum\r\n), ndr_kapitel as (\r\n  SELECT CASE page_chapter1 WHEN \"nachrichten\" THEN \"Nachrichten\" WHEN \"kultur\" THEN \"Kultur\" WHEN \"sport\" THEN \"Sport\" END as Chapter,\r\n  SUM(COALESCE(m_visits,0)) as summe\r\n  FROM  `Piano.total_visits${dataset_zeitraum:raw}`\r\n  WHERE   site_level2 = \"$LRA\" AND page_chapter1 IN (\"nachrichten\",\"kultur\",\"sport\") AND page_chapter2 = \"$Unterkapitel\" AND sendungs_id = \"$Sendung\" AND $Zeitraum\r\n  GROUP BY Chapter ), mdr as(\r\n SELECT * FROM(\r\nSELECT\r\nChapter,\r\nsumme FROM nachrichten\r\nUNION ALL\r\nSELECT\r\nChapter,\r\nsumme FROM ratgeber\r\n--UNION ALL \r\n--SELECT\r\n--Chapter,\r\n--summe FROM app_aktuell\r\n))\r\nSELECT DISTINCT CASE WHEN \"$LRA\" = \"ndr.de\" THEN ndr_kapitel.Chapter\r\nWHEN \"$LRA\" = \"mdr.de\" THEN mdr.Chapter END as Chapter,\r\nCASE WHEN \"$LRA\" = \"ndr.de\" THEN ndr_kapitel.summe\r\nWHEN \"$LRA\" = \"mdr.de\" THEN mdr.summe END as summe FROM mdr,ndr_kapitel\r\nORDER BY summe desc",
                                "refId": "A",
                                "sql": {
                                    "columns": [
                                        {
                                            "parameters": [],
                                            "type": "function"
                                        }
                                    ],
                                    "groupBy": [
                                        {
                                            "property": {
                                                "type": "string"
                                            },
                                            "type": "groupBy"
                                        }
                                    ],
                                    "limit": 50
                                }
                            }
                        ],
                        "title": "Kapitel Visits | $Zeitraum",
                        "type": "barchart"
                    },
                    {
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "gridPos": {
                            "h": 1,
                            "w": 24,
                            "x": 0,
                            "y": 28
                        },
                        "id": 145,
                        "options": {
                            "code": {
                                "language": "plaintext",
                                "showLineNumbers": false,
                                "showMiniMap": false
                            },
                            "content": " ",
                            "mode": "html"
                        },
                        "pluginVersion": "9.2.3",
                        "transparent": true,
                        "type": "text"
                    }
                ],
                "title": "Kapitel Visits",
                "type": "row"
            },
            {
                "collapsed": false,
                "gridPos": {
                    "h": 1,
                    "w": 24,
                    "x": 0,
                    "y": 19
                },
                "id": 60,
                "panels": [],
                "title": "Top Artikel",
                "type": "row"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "dark-blue",
                            "mode": "fixed"
                        },
                        "custom": {
                            "align": "auto",
                            "displayMode": "auto",
                            "filterable": true,
                            "inspect": false
                        },
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        }
                    },
                    "overrides": [
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "bounce_rate * 100"
                            },
                            "properties": [
                                {
                                    "id": "custom.displayMode",
                                    "value": "gradient-gauge"
                                },
                                {
                                    "id": "color",
                                    "value": {
                                        "fixedColor": "#00b0de",
                                        "mode": "fixed"
                                    }
                                },
                                {
                                    "id": "unit",
                                    "value": "percent"
                                },
                                {
                                    "id": "displayName",
                                    "value": "Bounce Rate"
                                },
                                {
                                    "id": "decimals",
                                    "value": 1
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "m_suchmaschinen_anteil_visits * 100"
                            },
                            "properties": [
                                {
                                    "id": "custom.displayMode",
                                    "value": "gradient-gauge"
                                },
                                {
                                    "id": "color",
                                    "value": {
                                        "fixedColor": "#00b0de",
                                        "mode": "fixed"
                                    }
                                },
                                {
                                    "id": "unit",
                                    "value": "percent"
                                },
                                {
                                    "id": "displayName",
                                    "value": "Suchmachinenanteil"
                                },
                                {
                                    "id": "custom.width",
                                    "value": 180
                                },
                                {
                                    "id": "decimals",
                                    "value": 1
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "m_homepage_anteil_visits * 100"
                            },
                            "properties": [
                                {
                                    "id": "unit",
                                    "value": "percent"
                                },
                                {
                                    "id": "custom.displayMode",
                                    "value": "gradient-gauge"
                                },
                                {
                                    "id": "color",
                                    "value": {
                                        "fixedColor": "#00b0de",
                                        "mode": "fixed"
                                    }
                                },
                                {
                                    "id": "displayName",
                                    "value": "Homepageanteil"
                                },
                                {
                                    "id": "decimals",
                                    "value": 1
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "page_views"
                            },
                            "properties": [
                                {
                                    "id": "unit",
                                    "value": "locale"
                                },
                                {
                                    "id": "displayName",
                                    "value": "Page Views"
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "content_id_sophora"
                            },
                            "properties": [
                                {
                                    "id": "displayName",
                                    "value": "Sophora ID"
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "content_titel"
                            },
                            "properties": [
                                {
                                    "id": "displayName",
                                    "value": "Artikel"
                                },
                                {
                                    "id": "links",
                                    "value": [
                                        {
                                            "targetBlank": true,
                                            "title": "${__data.fields.url}",
                                            "url": "${__data.fields.url}"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "visits"
                            },
                            "properties": [
                                {
                                    "id": "displayName",
                                    "value": "Visits"
                                },
                                {
                                    "id": "unit",
                                    "value": "locale"
                                },
                                {
                                    "id": "custom.width",
                                    "value": 90
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Datum"
                            },
                            "properties": [
                                {
                                    "id": "unit",
                                    "value": "time: DD.MM.YY | HH:mm \\U\\h\\r"
                                },
                                {
                                    "id": "custom.width",
                                    "value": 144
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Artikel"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 517
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Sophora ID"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 205
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Bounce Rate"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 115
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Homepageanteil"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 141
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "url"
                            },
                            "properties": [
                                {
                                    "id": "custom.hidden",
                                    "value": true
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Page Views"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 109
                                }
                            ]
                        }
                    ]
                },
                "gridPos": {
                    "h": 11,
                    "w": 24,
                    "x": 0,
                    "y": 20
                },
                "id": 62,
                "options": {
                    "footer": {
                        "enablePagination": true,
                        "fields": "",
                        "reducer": [
                            "sum"
                        ],
                        "show": false
                    },
                    "showHeader": true,
                    "sortBy": [
                        {
                            "desc": true,
                            "displayName": "Visits"
                        }
                    ]
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT\r\npublishing_date, \r\ncontent_titel,\r\nsum(m_visits) as visits,\r\nsum(m_page_loads) as page_views,\r\nCASE WHEN SUM(IFNULL(m_visits,0))>0 THEN SUM(m_bounce_rate*m_visits)/SUM(IFNULL(m_visits,0)) ELSE -1 END AS bounce_rate,\r\nCASE WHEN SUM(IFNULL(m_visits,0))>0 THEN SUM(m_suchmaschinen_anteil_visits*m_visits)/SUM(IFNULL(m_visits,0)) ELSE -1 END AS m_suchmaschinen_anteil_visits,\r\nCASE WHEN SUM(IFNULL(m_visits,0))>0 THEN SUM(m_homepage_anteil_visits*m_visits)/SUM(IFNULL(m_visits,0)) ELSE -1 END AS m_homepage_anteil_visits,\r\nCASE \r\n  WHEN \"$Redaktionen\" = \"Alle Kapitel 1\"  THEN page_chapter1 \r\n  WHEN \"$Redaktionen\" = \"nachrichten\"  THEN page_chapter2 \r\nEND AS Kapitel,\r\ncontent_id_sophora, url\r\nFROM\r\n(\r\nSELECT\r\nFIRST_VALUE(publishing_date) OVER (PARTITION BY uuid ORDER BY publishing_date DESC) as publishing_date, \r\nFIRST_VALUE(content_id_sophora) OVER (PARTITION BY uuid ORDER BY publishing_date DESC) as content_id_sophora, \r\npage_chapter2, page_chapter1,\r\nm_visits,\r\nm_page_loads,\r\nm_bounce_rate,\r\nm_suchmaschinen_anteil_visits,\r\nm_homepage_anteil_visits, \r\nFIRST_VALUE(url) OVER (PARTITION BY uuid ORDER BY publishing_date DESC) as url, \r\nFIRST_VALUE(content_titel) OVER (PARTITION BY uuid ORDER BY publishing_date DESC) as content_titel, \r\nFROM \r\nPiano.articles_joined${dataset_zeitraum:raw}\r\nWHERE site_level2 = \"$LRA\" AND\r\n\"$Redaktionen\" IN UNNEST(page_chapter1_tags) \r\nAND \"$Unterkapitel\" IN UNNEST(page_chapter2_tags)\r\nAND \"$Sendung\" IN UNNEST(sendungs_id_tags)\r\nAND content_id_sophora NOT LIKE '%index%'\r\nAND content_id_sophora NOT LIKE '%N/A%'\r\nAND content_id_sophora NOT LIKE '%verteilseite%'\r\nAND content_id_sophora NOT LIKE '%nachrichtenfeed%'\r\nAND page_chapter1 NOT LIKE \"CONT\"\r\nAND objekt_typ NOT LIKE 'indexPage'\r\nAND $Zeitraum) \r\nGROUP BY content_id_sophora, content_titel, publishing_date, page_chapter2, page_chapter1, url, publishing_date ORDER BY 4 DESC \r\n\r\nLIMIT 100",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    }
                ],
                "title": "Top 100 Web Artikel",
                "transformations": [
                    {
                        "id": "calculateField",
                        "options": {
                            "binary": {
                                "left": "bounce_rate",
                                "operator": "*",
                                "reducer": "sum",
                                "right": "100"
                            },
                            "mode": "binary",
                            "reduce": {
                                "reducer": "sum"
                            }
                        }
                    },
                    {
                        "id": "calculateField",
                        "options": {
                            "binary": {
                                "left": "m_suchmaschinen_anteil_visits",
                                "operator": "*",
                                "reducer": "sum",
                                "right": "100"
                            },
                            "mode": "binary",
                            "reduce": {
                                "reducer": "sum"
                            }
                        }
                    },
                    {
                        "id": "calculateField",
                        "options": {
                            "binary": {
                                "left": "m_homepage_anteil_visits",
                                "operator": "*",
                                "reducer": "sum",
                                "right": "100"
                            },
                            "mode": "binary",
                            "reduce": {
                                "reducer": "sum"
                            }
                        }
                    },
                    {
                        "id": "organize",
                        "options": {
                            "excludeByName": {
                                "bounce_rate": true,
                                "bounce_rate * 100": false,
                                "m_homepage_anteil_visits": true,
                                "m_homepage_anteil_visits * 100": true,
                                "m_suchmaschinen_anteil_visits": true,
                                "m_suchmaschinen_anteil_visits * 100": false,
                                "url": false
                            },
                            "indexByName": {
                                "Kapitel": 11,
                                "bounce_rate": 4,
                                "bounce_rate * 100": 7,
                                "content_id_sophora": 10,
                                "content_titel": 1,
                                "m_homepage_anteil_visits": 6,
                                "m_homepage_anteil_visits * 100": 9,
                                "m_suchmaschinen_anteil_visits": 5,
                                "m_suchmaschinen_anteil_visits * 100": 8,
                                "page_views": 3,
                                "publishing_date": 0,
                                "url": 12,
                                "visits": 2
                            },
                            "renameByName": {
                                "f0_": "Artikel",
                                "f1_": "Visits",
                                "f2_": "Page Impressions",
                                "f3_": "Bounce rate",
                                "f4_": "Suchmachinenanteil",
                                "f5_": "Homepageanteil",
                                "publishing_date": "Datum",
                                "uuid": "Sophora ID"
                            }
                        }
                    },
                    {
                        "id": "convertFieldType",
                        "options": {
                            "conversions": [
                                {
                                    "destinationType": "string",
                                    "targetField": "m_suchmaschinen_anteil_visits * 100"
                                },
                                {
                                    "destinationType": "string",
                                    "targetField": "m_homepage_anteil_visits * 100"
                                },
                                {
                                    "destinationType": "string",
                                    "targetField": "bounce_rate * 100"
                                },
                                {
                                    "destinationType": "time",
                                    "targetField": "publishing_date"
                                }
                            ],
                            "fields": {}
                        }
                    }
                ],
                "type": "table"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "gridPos": {
                    "h": 1,
                    "w": 24,
                    "x": 0,
                    "y": 31
                },
                "id": 140,
                "options": {
                    "code": {
                        "language": "plaintext",
                        "showLineNumbers": false,
                        "showMiniMap": false
                    },
                    "content": " ",
                    "mode": "html"
                },
                "pluginVersion": "9.2.3",
                "transparent": true,
                "type": "text"
            },
            {
                "collapsed": false,
                "gridPos": {
                    "h": 1,
                    "w": 24,
                    "x": 0,
                    "y": 32
                },
                "id": 70,
                "panels": [],
                "title": "Top Audios & Videos ",
                "type": "row"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "#f5f5f5",
                            "mode": "fixed"
                        },
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        }
                    },
                    "overrides": []
                },
                "gridPos": {
                    "h": 2,
                    "w": 2,
                    "x": 2,
                    "y": 33
                },
                "id": 104,
                "options": {
                    "colorMode": "background",
                    "graphMode": "area",
                    "justifyMode": "auto",
                    "orientation": "auto",
                    "reduceOptions": {
                        "calcs": [
                            "lastNotNull"
                        ],
                        "fields": "/.*/",
                        "values": false
                    },
                    "text": {
                        "valueSize": 30
                    },
                    "textMode": "value"
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT CONCAT(REPEAT(\" \", $filled_size_headline - CHAR_LENGTH('Audio')), '')\r\nFROM(\r\nSELECT 'Audio' as Audio\r\n)",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    }
                ],
                "type": "stat"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "#f5f5f5",
                            "mode": "fixed"
                        },
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        }
                    },
                    "overrides": []
                },
                "gridPos": {
                    "h": 2,
                    "w": 9,
                    "x": 4,
                    "y": 33
                },
                "id": 78,
                "options": {
                    "colorMode": "background",
                    "graphMode": "area",
                    "justifyMode": "auto",
                    "orientation": "auto",
                    "reduceOptions": {
                        "calcs": [
                            "lastNotNull"
                        ],
                        "fields": "/.*/",
                        "values": false
                    },
                    "textMode": "value"
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT CONCAT(REPEAT(\" \", $filled_size_headline - CHAR_LENGTH('Wiedergaben')), 'Wiedergaben')\r\nFROM(\r\nSELECT 'Wiedergaben' as Wiedergaben\r\n)",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    }
                ],
                "type": "stat"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "#f5f5f5",
                            "mode": "fixed"
                        },
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        }
                    },
                    "overrides": []
                },
                "gridPos": {
                    "h": 2,
                    "w": 9,
                    "x": 13,
                    "y": 33
                },
                "id": 76,
                "options": {
                    "colorMode": "background",
                    "graphMode": "area",
                    "justifyMode": "auto",
                    "orientation": "auto",
                    "reduceOptions": {
                        "calcs": [
                            "lastNotNull"
                        ],
                        "fields": "/.*/",
                        "values": false
                    },
                    "textMode": "value"
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT CONCAT(REPEAT(\" \", $filled_size_headline - CHAR_LENGTH('Wiedergaberate')), 'Wiedergaberate')\r\nFROM(\r\nSELECT 'Wiedergaberate' as Wiedergaberate\r\n)",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    }
                ],
                "type": "stat"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "#f5f5f5",
                            "mode": "fixed"
                        },
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        }
                    },
                    "overrides": []
                },
                "gridPos": {
                    "h": 3,
                    "w": 2,
                    "x": 2,
                    "y": 35
                },
                "id": 72,
                "options": {
                    "colorMode": "background",
                    "graphMode": "area",
                    "justifyMode": "auto",
                    "orientation": "auto",
                    "reduceOptions": {
                        "calcs": [
                            "lastNotNull"
                        ],
                        "fields": "/.*/",
                        "values": false
                    },
                    "text": {
                        "valueSize": 30
                    },
                    "textMode": "value"
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT CONCAT(REPEAT(\" \", $filled_size_headline - CHAR_LENGTH('Video')), 'Video')\r\nFROM(\r\nSELECT 'Video' as Video\r\n)",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    }
                ],
                "type": "stat"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "dark-blue",
                            "mode": "fixed"
                        },
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        }
                    },
                    "overrides": [
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "summe"
                            },
                            "properties": [
                                {
                                    "id": "displayName",
                                    "value": "${Zeitraum:text}"
                                },
                                {
                                    "id": "unit",
                                    "value": "locale"
                                }
                            ]
                        }
                    ]
                },
                "gridPos": {
                    "h": 3,
                    "w": 3,
                    "x": 4,
                    "y": 35
                },
                "id": 80,
                "options": {
                    "colorMode": "background",
                    "graphMode": "area",
                    "justifyMode": "center",
                    "orientation": "auto",
                    "reduceOptions": {
                        "calcs": [
                            "lastNotNull"
                        ],
                        "fields": "",
                        "values": false
                    },
                    "textMode": "value_and_name"
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT \r\n  SUM(COALESCE(m_av_playbacks,0)) as summe\r\nFROM \r\n  `Piano.av${dataset_zeitraum:raw}`\r\nWHERE \r\nsite_level2 = \"$LRA\" AND\r\n\"$Redaktionen\" IN UNNEST(bi_av_page_chapter1_tags) AND\r\n\"$Unterkapitel\" IN UNNEST(bi_av_page_chapter2_tags)\r\nAND \"$Sendung\" IN UNNEST(sendungs_id_tags)\r\nAND $Zeitraum\r\nAND av_content_type = \"Video\"",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    }
                ],
                "transformations": [],
                "type": "stat"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "dark-blue",
                            "mode": "fixed"
                        },
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        }
                    },
                    "overrides": [
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "summe"
                            },
                            "properties": [
                                {
                                    "id": "displayName",
                                    "value": "${Vergleichszeitraumlabels:text}"
                                },
                                {
                                    "id": "unit",
                                    "value": "locale"
                                }
                            ]
                        }
                    ]
                },
                "gridPos": {
                    "h": 3,
                    "w": 3,
                    "x": 7,
                    "y": 35
                },
                "id": 94,
                "options": {
                    "colorMode": "background",
                    "graphMode": "area",
                    "justifyMode": "center",
                    "orientation": "auto",
                    "reduceOptions": {
                        "calcs": [
                            "lastNotNull"
                        ],
                        "fields": "",
                        "values": false
                    },
                    "textMode": "value_and_name"
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT \r\n  SUM(COALESCE(m_av_playbacks,0)) as summe\r\nFROM \r\n  `Piano.av${dataset_vergleichs_zeitraum:raw}`\r\nWHERE \r\nsite_level2 = \"$LRA\"\r\nAND\r\n\"$Redaktionen\" IN UNNEST(bi_av_page_chapter1_tags) AND\r\n\"$Unterkapitel\" IN UNNEST(bi_av_page_chapter2_tags)\r\nAND \"$Sendung\" IN UNNEST(sendungs_id_tags)\r\nAND $Vergleichszeitraum\r\nAND av_content_type = \"Video\"",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    }
                ],
                "type": "stat"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "dark-blue",
                            "mode": "fixed"
                        },
                        "decimals": 1,
                        "displayName": "y",
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        },
                        "unit": "locale"
                    },
                    "overrides": []
                },
                "gridPos": {
                    "h": 3,
                    "w": 3,
                    "x": 10,
                    "y": 35
                },
                "id": 84,
                "options": {
                    "colorMode": "background",
                    "graphMode": "area",
                    "justifyMode": "center",
                    "orientation": "auto",
                    "reduceOptions": {
                        "calcs": [
                            "lastNotNull"
                        ],
                        "fields": "",
                        "values": false
                    },
                    "textMode": "value_and_name"
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "WITH current_value AS (\r\n  SELECT \r\n  SUM(COALESCE(m_av_playbacks,0)) as current_sum\r\nFROM \r\n`Piano.av${dataset_zeitraum:raw}`\r\nWHERE \r\nsite_level2 = \"$LRA\"\r\nAND\r\n\"$Redaktionen\" IN UNNEST(bi_av_page_chapter1_tags) AND\r\n\"$Unterkapitel\" IN UNNEST(bi_av_page_chapter2_tags)\r\nAND \"$Sendung\" IN UNNEST(sendungs_id_tags)\r\nAND $Zeitraum\r\nAND av_content_type = \"Video\"\r\n), past_value AS (\r\n  SELECT \r\n  SUM(COALESCE(m_av_playbacks,0)) as past_sum\r\nFROM \r\n`Piano.av${dataset_vergleichs_zeitraum:raw}`WHERE \r\nsite_level2 = \"$LRA\"\r\nAND\r\n\"$Redaktionen\" IN UNNEST(bi_av_page_chapter1_tags) AND\r\n\"$Unterkapitel\" IN UNNEST(bi_av_page_chapter2_tags)\r\nAND \"$Sendung\" IN UNNEST(sendungs_id_tags)\r\nAND $Vergleichszeitraum \r\nAND av_content_type = \"Video\"\r\n)\r\nSELECT ((current_sum-past_sum)/past_sum)*100 FROM current_value,past_value as relative_difference",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {
                            "excludeByName": {},
                            "indexByName": {},
                            "renameByName": {
                                "f0_": "Differenz in %"
                            }
                        }
                    }
                ],
                "type": "stat"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "description": "Ohne Live-Videos",
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "dark-blue",
                            "mode": "fixed"
                        },
                        "decimals": 2,
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        },
                        "unit": "locale"
                    },
                    "overrides": [
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "summe"
                            },
                            "properties": [
                                {
                                    "id": "displayName",
                                    "value": "${Zeitraum:text}"
                                }
                            ]
                        }
                    ]
                },
                "gridPos": {
                    "h": 3,
                    "w": 3,
                    "x": 13,
                    "y": 35
                },
                "id": 98,
                "options": {
                    "colorMode": "background",
                    "graphMode": "area",
                    "justifyMode": "center",
                    "orientation": "auto",
                    "reduceOptions": {
                        "calcs": [
                            "lastNotNull"
                        ],
                        "fields": "",
                        "values": false
                    },
                    "textMode": "auto"
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT\r\n  SUM(m_av_playbacks * m_av_average_playback_completion_rate) / SUM(m_av_playbacks) as summe\r\nFROM \r\n`Piano.av${dataset_zeitraum:raw}`\r\nWHERE \r\nsite_level2 = \"$LRA\"\r\nAND\r\n\"$Redaktionen\" IN UNNEST(bi_av_page_chapter1_tags) AND\r\n\"$Unterkapitel\" IN UNNEST(bi_av_page_chapter2_tags)\r\nAND \"$Sendung\" IN UNNEST(sendungs_id_tags)\r\nAND $Zeitraum\r\nAND av_content_type = \"Video\"\r\nAND bi_av_broadcasting_type NOT LIKE '%Live%'\r\nAND bi_av_broadcasting_type NOT LIKE '%live%'",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    }
                ],
                "type": "stat"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "description": "Ohne Live-Videos",
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "dark-blue",
                            "mode": "fixed"
                        },
                        "decimals": 2,
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        },
                        "unit": "locale"
                    },
                    "overrides": [
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "summe"
                            },
                            "properties": [
                                {
                                    "id": "displayName",
                                    "value": "${Vergleichszeitraumlabels:text}"
                                }
                            ]
                        }
                    ]
                },
                "gridPos": {
                    "h": 3,
                    "w": 3,
                    "x": 16,
                    "y": 35
                },
                "id": 100,
                "options": {
                    "colorMode": "background",
                    "graphMode": "area",
                    "justifyMode": "center",
                    "orientation": "auto",
                    "reduceOptions": {
                        "calcs": [
                            "lastNotNull"
                        ],
                        "fields": "",
                        "values": false
                    },
                    "textMode": "auto"
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT\r\n  SUM(m_av_playbacks * m_av_average_playback_completion_rate) / SUM(m_av_playbacks) as summe\r\n  --AVG(m_av_average_playback_completion_rate) as summe\r\n  -- AVG(m_av_playbacks)/AVG(av_content_duration) as summe\r\n  --SUM(COALESCE(m_av_playbacks,0))/SUM(COALESCE(av_content_duration,0)) as summe\r\nFROM \r\n  `Piano.av${dataset_zeitraum:raw}`\r\nWHERE \r\nsite_level2 = \"$LRA\"\r\nAND\r\n\"$Redaktionen\" IN UNNEST(bi_av_page_chapter1_tags) AND\r\n\"$Unterkapitel\" IN UNNEST(bi_av_page_chapter2_tags)\r\nAND \"$Sendung\" IN UNNEST(sendungs_id_tags)\r\nAND $Vergleichszeitraum \r\nAND av_content_type = \"Video\"\r\nAND bi_av_broadcasting_type NOT LIKE '%Live%'\r\nAND bi_av_broadcasting_type NOT LIKE '%live%'",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    }
                ],
                "type": "stat"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "description": "Ohne Live-Videos",
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "dark-blue",
                            "mode": "fixed"
                        },
                        "decimals": 1,
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        },
                        "unit": "locale"
                    },
                    "overrides": []
                },
                "gridPos": {
                    "h": 3,
                    "w": 3,
                    "x": 19,
                    "y": 35
                },
                "id": 90,
                "options": {
                    "colorMode": "background",
                    "graphMode": "area",
                    "justifyMode": "center",
                    "orientation": "auto",
                    "reduceOptions": {
                        "calcs": [
                            "lastNotNull"
                        ],
                        "fields": "",
                        "values": false
                    },
                    "textMode": "auto"
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "WITH current_value AS (\r\n  SELECT\r\n  SUM(m_av_playbacks * m_av_average_playback_completion_rate) / SUM(m_av_playbacks) as current_sum\r\n  -- AVG(m_av_average_playback_completion_rate) as current_sum\r\n   -- AVG(m_av_playbacks)/AVG(av_content_duration) as summe\r\n  --SUM(COALESCE(m_av_playbacks,0))/SUM(COALESCE(av_content_duration,0)) as summe\r\nFROM \r\n  `Piano.av${dataset_zeitraum:raw}`\r\nWHERE \r\nsite_level2 = \"$LRA\"\r\nAND\r\n\"$Redaktionen\" IN UNNEST(bi_av_page_chapter1_tags) AND\r\n\"$Unterkapitel\" IN UNNEST(bi_av_page_chapter2_tags)\r\nAND \"$Sendung\" IN UNNEST(sendungs_id_tags)\r\nAND $Zeitraum\r\nAND av_content_type = \"Video\"\r\n), past_value AS (\r\n  SELECT\r\n  SUM(m_av_playbacks * m_av_average_playback_completion_rate) / SUM(m_av_playbacks) as past_sum\r\n  --AVG(m_av_average_playback_completion_rate) as past_sum\r\n   -- AVG(m_av_playbacks)/AVG(av_content_duration) as summe\r\n  --SUM(COALESCE(m_av_playbacks,0))/SUM(COALESCE(av_content_duration,0)) as summe\r\nFROM \r\n  `Piano.av${dataset_vergleichs_zeitraum:raw}`\r\nWHERE \r\nsite_level2 = \"$LRA\"\r\nAND\r\n\"$Redaktionen\" IN UNNEST(bi_av_page_chapter1_tags) AND\r\n\"$Unterkapitel\" IN UNNEST(bi_av_page_chapter2_tags)\r\nAND \"$Sendung\" IN UNNEST(sendungs_id_tags)\r\nAND $Vergleichszeitraum \r\nAND av_content_type = \"Video\"\r\nAND bi_av_broadcasting_type NOT LIKE '%Live%'\r\nAND bi_av_broadcasting_type NOT LIKE '%live%'\r\n)\r\nSELECT ((current_sum-past_sum)/past_sum)*100 FROM current_value,past_value as relative_difference",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {
                            "excludeByName": {},
                            "indexByName": {},
                            "renameByName": {
                                "f0_": "Differenz in %"
                            }
                        }
                    }
                ],
                "type": "stat"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "#f5f5f5",
                            "mode": "fixed"
                        },
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        }
                    },
                    "overrides": []
                },
                "gridPos": {
                    "h": 3,
                    "w": 2,
                    "x": 2,
                    "y": 38
                },
                "id": 74,
                "options": {
                    "colorMode": "background",
                    "graphMode": "area",
                    "justifyMode": "auto",
                    "orientation": "auto",
                    "reduceOptions": {
                        "calcs": [
                            "lastNotNull"
                        ],
                        "fields": "/.*/",
                        "values": false
                    },
                    "text": {
                        "valueSize": 30
                    },
                    "textMode": "value"
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT CONCAT(REPEAT(\" \", $filled_size_headline - CHAR_LENGTH('Audio')), 'Audio')\r\nFROM(\r\nSELECT 'Audio' as Audio\r\n)",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    }
                ],
                "type": "stat"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "dark-blue",
                            "mode": "fixed"
                        },
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        }
                    },
                    "overrides": [
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "summe"
                            },
                            "properties": [
                                {
                                    "id": "displayName",
                                    "value": "${Zeitraum:text}"
                                },
                                {
                                    "id": "unit",
                                    "value": "locale"
                                }
                            ]
                        }
                    ]
                },
                "gridPos": {
                    "h": 3,
                    "w": 3,
                    "x": 4,
                    "y": 38
                },
                "id": 92,
                "options": {
                    "colorMode": "background",
                    "graphMode": "area",
                    "justifyMode": "center",
                    "orientation": "auto",
                    "reduceOptions": {
                        "calcs": [
                            "lastNotNull"
                        ],
                        "fields": "",
                        "values": false
                    },
                    "textMode": "auto"
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT \r\n  SUM(COALESCE(m_av_playbacks,0)) as summe\r\nFROM \r\n  `Piano.av${dataset_zeitraum:raw}`\r\nWHERE \r\nsite_level2 = \"$LRA\"\r\nAND\r\n\"$Redaktionen\" IN UNNEST(bi_av_page_chapter1_tags) AND\r\n\"$Unterkapitel\" IN UNNEST(bi_av_page_chapter2_tags)\r\nAND \"$Sendung\" IN UNNEST(sendungs_id_tags)\r\nAND $Zeitraum\r\nAND av_content_type = \"Audio\"",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    }
                ],
                "transformations": [],
                "type": "stat"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "dark-blue",
                            "mode": "fixed"
                        },
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        }
                    },
                    "overrides": [
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "summe"
                            },
                            "properties": [
                                {
                                    "id": "displayName",
                                    "value": "${Vergleichszeitraumlabels:text}"
                                },
                                {
                                    "id": "unit",
                                    "value": "locale"
                                }
                            ]
                        }
                    ]
                },
                "gridPos": {
                    "h": 3,
                    "w": 3,
                    "x": 7,
                    "y": 38
                },
                "id": 137,
                "options": {
                    "colorMode": "background",
                    "graphMode": "area",
                    "justifyMode": "center",
                    "orientation": "auto",
                    "reduceOptions": {
                        "calcs": [
                            "lastNotNull"
                        ],
                        "fields": "",
                        "values": false
                    },
                    "textMode": "value_and_name"
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT \r\n  SUM(COALESCE(m_av_playbacks,0)) as summe\r\nFROM \r\n`Piano.av${dataset_vergleichs_zeitraum:raw}`WHERE \r\nsite_level2 = \"$LRA\"\r\nAND\r\n\"$Redaktionen\" IN UNNEST(bi_av_page_chapter1_tags) AND\r\n\"$Unterkapitel\" IN UNNEST(bi_av_page_chapter2_tags)\r\nAND \"$Sendung\" IN UNNEST(sendungs_id_tags)\r\nAND $Vergleichszeitraum\r\nAND av_content_type = \"Audio\"",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    }
                ],
                "type": "stat"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "dark-blue",
                            "mode": "fixed"
                        },
                        "decimals": 1,
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        },
                        "unit": "locale"
                    },
                    "overrides": []
                },
                "gridPos": {
                    "h": 3,
                    "w": 3,
                    "x": 10,
                    "y": 38
                },
                "id": 96,
                "options": {
                    "colorMode": "background",
                    "graphMode": "area",
                    "justifyMode": "center",
                    "orientation": "auto",
                    "reduceOptions": {
                        "calcs": [
                            "lastNotNull"
                        ],
                        "fields": "",
                        "values": false
                    },
                    "textMode": "auto"
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "WITH current_value AS (\r\n  SELECT \r\n  SUM(COALESCE(m_av_playbacks,0)) as current_sum\r\nFROM \r\n  Piano.av\r\nWHERE \r\nsite_level2 = \"$LRA\"\r\nAND\r\n\"$Redaktionen\" IN UNNEST(bi_av_page_chapter1_tags) AND\r\n\"$Unterkapitel\" IN UNNEST(bi_av_page_chapter2_tags)\r\nAND \"$Sendung\" IN UNNEST(sendungs_id_tags)\r\nAND $Zeitraum\r\nAND av_content_type = \"Audio\"\r\n), past_value AS (\r\n  SELECT \r\n  SUM(COALESCE(m_av_playbacks,0)) as past_sum\r\nFROM \r\n  Piano.av\r\nWHERE \r\nsite_level2 = \"$LRA\"\r\nAND\r\n\"$Redaktionen\" IN UNNEST(bi_av_page_chapter1_tags) AND\r\n\"$Unterkapitel\" IN UNNEST(bi_av_page_chapter2_tags)\r\nAND \"$Sendung\" IN UNNEST(sendungs_id_tags)\r\nAND $Vergleichszeitraum \r\nAND av_content_type = \"Audio\"\r\n)\r\nSELECT ((current_sum-past_sum)/past_sum)*100 FROM current_value,past_value as relative_difference",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {
                            "excludeByName": {},
                            "indexByName": {},
                            "renameByName": {
                                "f0_": "Differenz in %"
                            }
                        }
                    }
                ],
                "type": "stat"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "dark-blue",
                            "mode": "fixed"
                        },
                        "decimals": 2,
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        },
                        "unit": "locale"
                    },
                    "overrides": [
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "summe"
                            },
                            "properties": [
                                {
                                    "id": "displayName",
                                    "value": "${Zeitraum:text}"
                                }
                            ]
                        }
                    ]
                },
                "gridPos": {
                    "h": 3,
                    "w": 3,
                    "x": 13,
                    "y": 38
                },
                "id": 86,
                "options": {
                    "colorMode": "background",
                    "graphMode": "area",
                    "justifyMode": "center",
                    "orientation": "auto",
                    "reduceOptions": {
                        "calcs": [
                            "lastNotNull"
                        ],
                        "fields": "",
                        "values": false
                    },
                    "textMode": "auto"
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT \r\n  --AVG(m_av_average_playback_completion_rate) as summe\r\n  SUM(m_av_playbacks * m_av_average_playback_completion_rate) / SUM(m_av_playbacks) as summe\r\nFROM \r\n`Piano.av${dataset_zeitraum:raw}`\r\nWHERE \r\nsite_level2 = \"$LRA\"\r\nAND\r\n\"$Redaktionen\" IN UNNEST(bi_av_page_chapter1_tags) AND\r\n\"$Unterkapitel\" IN UNNEST(bi_av_page_chapter2_tags)\r\nAND \"$Sendung\" IN UNNEST(sendungs_id_tags)\r\nAND $Zeitraum\r\nAND av_content_type = \"Audio\"",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    }
                ],
                "type": "stat"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "dark-blue",
                            "mode": "fixed"
                        },
                        "decimals": 2,
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        },
                        "unit": "locale"
                    },
                    "overrides": [
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "summe"
                            },
                            "properties": [
                                {
                                    "id": "displayName",
                                    "value": "${Vergleichszeitraumlabels:text}"
                                }
                            ]
                        }
                    ]
                },
                "gridPos": {
                    "h": 3,
                    "w": 3,
                    "x": 16,
                    "y": 38
                },
                "id": 88,
                "options": {
                    "colorMode": "background",
                    "graphMode": "area",
                    "justifyMode": "center",
                    "orientation": "auto",
                    "reduceOptions": {
                        "calcs": [
                            "lastNotNull"
                        ],
                        "fields": "",
                        "values": false
                    },
                    "textMode": "auto"
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT\r\n  SUM(m_av_playbacks * m_av_average_playback_completion_rate) / SUM(m_av_playbacks) as summe\r\n  --AVG(m_av_average_playback_completion_rate) as summe\r\n  -- AVG(m_av_playbacks)/AVG(av_content_duration) as summe\r\n  --SUM(COALESCE(m_av_playbacks,0))/SUM(COALESCE(av_content_duration,0)) as summe\r\nFROM \r\n`Piano.av${dataset_vergleichs_zeitraum:raw}`\r\nWHERE \r\nsite_level2 = \"$LRA\"\r\nAND\r\n\"$Redaktionen\" IN UNNEST(bi_av_page_chapter1_tags) AND\r\n\"$Unterkapitel\" IN UNNEST(bi_av_page_chapter2_tags)\r\nAND \"$Sendung\" IN UNNEST(sendungs_id_tags)\r\nAND $Vergleichszeitraum \r\nAND av_content_type = \"Video\"\r\nAND bi_av_broadcasting_type NOT LIKE '%Live%'\r\nAND bi_av_broadcasting_type NOT LIKE '%live%'",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    }
                ],
                "type": "stat"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "dark-blue",
                            "mode": "fixed"
                        },
                        "decimals": 1,
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        },
                        "unit": "locale"
                    },
                    "overrides": []
                },
                "gridPos": {
                    "h": 3,
                    "w": 3,
                    "x": 19,
                    "y": 38
                },
                "id": 102,
                "options": {
                    "colorMode": "background",
                    "graphMode": "area",
                    "justifyMode": "center",
                    "orientation": "auto",
                    "reduceOptions": {
                        "calcs": [
                            "lastNotNull"
                        ],
                        "fields": "",
                        "values": false
                    },
                    "textMode": "auto"
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "WITH current_value AS (\r\n  SELECT\r\n  SUM(m_av_playbacks * m_av_average_playback_completion_rate) / SUM(m_av_playbacks) as current_sum\r\n  -- AVG(m_av_average_playback_completion_rate) as current_sum\r\n   -- AVG(m_av_playbacks)/AVG(av_content_duration) as summe\r\n  --SUM(COALESCE(m_av_playbacks,0))/SUM(COALESCE(av_content_duration,0)) as summe\r\nFROM \r\n  `Piano.av${dataset_zeitraum:raw}`\r\nWHERE \r\nsite_level2 = \"$LRA\"\r\nAND\r\n\"$Redaktionen\" IN UNNEST(bi_av_page_chapter1_tags) AND\r\n\"$Unterkapitel\" IN UNNEST(bi_av_page_chapter2_tags)\r\nAND \"$Sendung\" IN UNNEST(sendungs_id_tags)\r\nAND $Zeitraum\r\nAND av_content_type = \"Audio\"\r\n), past_value AS (\r\n  SELECT\r\n  SUM(m_av_playbacks * m_av_average_playback_completion_rate) / SUM(m_av_playbacks) as past_sum\r\n  --AVG(m_av_average_playback_completion_rate) as past_sum\r\n   -- AVG(m_av_playbacks)/AVG(av_content_duration) as summe\r\n  --SUM(COALESCE(m_av_playbacks,0))/SUM(COALESCE(av_content_duration,0)) as summe\r\nFROM \r\n  `Piano.av${dataset_vergleichs_zeitraum:raw}`\r\nWHERE \r\nsite_level2 = \"$LRA\"\r\nAND\r\n\"$Redaktionen\" IN UNNEST(bi_av_page_chapter1_tags) AND\r\n\"$Unterkapitel\" IN UNNEST(bi_av_page_chapter2_tags)\r\nAND \"$Sendung\" IN UNNEST(sendungs_id_tags)\r\nAND $Vergleichszeitraum \r\nAND av_content_type = \"Audio\"\r\n)\r\nSELECT ((current_sum-past_sum)/past_sum)*100 FROM current_value,past_value as relative_difference",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {
                            "excludeByName": {},
                            "indexByName": {},
                            "renameByName": {
                                "f0_": "Differenz in %"
                            }
                        }
                    }
                ],
                "type": "stat"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "gridPos": {
                    "h": 1,
                    "w": 24,
                    "x": 0,
                    "y": 41
                },
                "id": 141,
                "options": {
                    "code": {
                        "language": "plaintext",
                        "showLineNumbers": false,
                        "showMiniMap": false
                    },
                    "content": " ",
                    "mode": "html"
                },
                "pluginVersion": "9.2.3",
                "transparent": true,
                "type": "text"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "dark-blue",
                            "mode": "fixed"
                        },
                        "custom": {
                            "align": "auto",
                            "displayMode": "auto",
                            "filterable": true,
                            "inspect": false
                        },
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        }
                    },
                    "overrides": [
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "bi_av_publication_date"
                            },
                            "properties": [
                                {
                                    "id": "displayName",
                                    "value": "Publiziert"
                                },
                                {
                                    "id": "custom.align",
                                    "value": "left"
                                },
                                {
                                    "id": "unit",
                                    "value": "time: DD.MM.YYYY | HH:mm \\U\\h\\r"
                                },
                                {
                                    "id": "custom.width",
                                    "value": 180
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "bi_av_content"
                            },
                            "properties": [
                                {
                                    "id": "displayName",
                                    "value": "Titel"
                                },
                                {
                                    "id": "custom.align",
                                    "value": "left"
                                },
                                {
                                    "id": "custom.width",
                                    "value": 300
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "wiedergabe"
                            },
                            "properties": [
                                {
                                    "id": "displayName",
                                    "value": "Wiedergaben"
                                },
                                {
                                    "id": "custom.align",
                                    "value": "right"
                                },
                                {
                                    "id": "custom.width",
                                    "value": 100
                                },
                                {
                                    "id": "unit",
                                    "value": "locale"
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "av_content_duration"
                            },
                            "properties": [
                                {
                                    "id": "displayName",
                                    "value": "Medienl\u00e4nge"
                                },
                                {
                                    "id": "custom.align",
                                    "value": "center"
                                },
                                {
                                    "id": "custom.width",
                                    "value": 140
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "av_content_type"
                            },
                            "properties": [
                                {
                                    "id": "displayName",
                                    "value": "Typ"
                                },
                                {
                                    "id": "custom.align",
                                    "value": "center"
                                },
                                {
                                    "id": "custom.width",
                                    "value": 85
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "device_type"
                            },
                            "properties": [
                                {
                                    "id": "displayName",
                                    "value": "Ger\u00e4tetyp"
                                },
                                {
                                    "id": "custom.align",
                                    "value": "center"
                                },
                                {
                                    "id": "custom.width",
                                    "value": 150
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "wiedergaberate * 100"
                            },
                            "properties": [
                                {
                                    "id": "custom.displayMode",
                                    "value": "gradient-gauge"
                                },
                                {
                                    "id": "displayName",
                                    "value": "Wiedergabe"
                                },
                                {
                                    "id": "unit",
                                    "value": "percent"
                                },
                                {
                                    "id": "custom.align",
                                    "value": "center"
                                },
                                {
                                    "id": "color",
                                    "value": {
                                        "fixedColor": "#00b0de",
                                        "mode": "fixed"
                                    }
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "bi_av_broadcasting_type"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 561
                                },
                                {
                                    "id": "displayName",
                                    "value": "Ausspielungsart"
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Ausspielungsart"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 173
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Titel"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 513
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Wiedergaben"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 130
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "wiedergaberate * 100"
                            },
                            "properties": [
                                {
                                    "id": "displayName",
                                    "value": "Wiedergaberate"
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Sophora ID"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 213
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Publiziert"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 168
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "url"
                            },
                            "properties": [
                                {
                                    "id": "custom.hidden",
                                    "value": true
                                }
                            ]
                        }
                    ]
                },
                "gridPos": {
                    "h": 11,
                    "w": 24,
                    "x": 0,
                    "y": 42
                },
                "id": 106,
                "options": {
                    "footer": {
                        "enablePagination": true,
                        "fields": "",
                        "reducer": [
                            "sum"
                        ],
                        "show": false
                    },
                    "showHeader": true,
                    "sortBy": [
                        {
                            "desc": true,
                            "displayName": "Wiedergaben"
                        }
                    ]
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT \r\nbi_av_publication_date,\r\nbi_av_content, bi_av_content_id,\r\nbi_av_url as url,\r\nsum(m_av_playbacks) as wiedergabe,\r\nCONCAT(CONCAT(\r\n\r\n\u00a0 CASE WHEN LENGTH(CAST(DIV(av_content_duration,60) AS String))<2 THEN CONCAT(\"0\",CAST(DIV(av_content_duration,60) AS String)) ELSE CAST(DIV(av_content_duration,60) AS String)\u00a0 END ,\r\n\r\n\u00a0 \":\",CASE WHEN LENGTH(CAST(MOD(av_content_duration,60) AS String))<2 THEN CONCAT(\"0\",CAST(MOD(av_content_duration,60) AS String)) ELSE CAST(MOD(av_content_duration,60) AS String)\u00a0 END),\" Min\") as av_content_duration,\r\nAVG(m_av_average_playback_completion_rate) wiedergaberate,\r\nav_content_type,\r\nbi_av_broadcasting_type,\r\n--device_type,\r\nFROM\r\n(\r\nSELECT\r\nFIRST_VALUE(bi_av_publication_date) OVER (PARTITION BY bi_av_content_id ORDER BY m_av_playbacks DESC) as bi_av_publication_date, \r\nm_av_playbacks,\r\nCAST(av_content_duration/1000 AS INT) as av_content_duration,\r\nm_av_average_playback_completion_rate,\r\nav_content_type, bi_av_content_id,\r\nbi_av_broadcasting_type, \r\nFIRST_VALUE(bi_av_url) OVER (PARTITION BY bi_av_content_id ORDER BY m_av_playbacks DESC) as bi_av_url, \r\n\r\n--device_type,\r\nFIRST_VALUE(bi_av_content) OVER (PARTITION BY bi_av_content_id ORDER BY m_av_playbacks DESC) as bi_av_content, \r\nFROM \r\n`Piano.av${dataset_zeitraum:raw}`\r\nWHERE site_level2 = \"$LRA\" \r\nAND \"$Redaktionen\" IN UNNEST(bi_av_page_chapter1_tags) \r\nAND \"$Unterkapitel\" IN UNNEST(bi_av_page_chapter2_tags)\r\nAND \"$Sendung\" IN UNNEST(sendungs_id_tags)\r\nAND bi_av_content_id NOT LIKE '%index%'\r\nAND bi_av_broadcasting_type = \"ondemand\"\r\nAND $Zeitraum) GROUP BY bi_av_publication_date,bi_av_content,av_content_duration,av_content_type,bi_av_content_id, bi_av_broadcasting_type, bi_av_url\r\n--,device_type \r\nORDER BY 5 DESC\r\nLimit 100",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    }
                ],
                "title": "Top 100 Web Audios & Videos on Demand",
                "transformations": [
                    {
                        "id": "calculateField",
                        "options": {
                            "binary": {
                                "left": "wiedergaberate",
                                "operator": "*",
                                "reducer": "sum",
                                "right": "100"
                            },
                            "mode": "binary",
                            "reduce": {
                                "reducer": "sum"
                            }
                        }
                    },
                    {
                        "id": "convertFieldType",
                        "options": {
                            "conversions": [
                                {
                                    "destinationType": "string",
                                    "targetField": "wiedergaberate * 100"
                                }
                            ],
                            "fields": {}
                        }
                    },
                    {
                        "id": "organize",
                        "options": {
                            "excludeByName": {
                                "bi_av_broadcasting_type": true,
                                "bi_av_url": true,
                                "wiedergaberate": true
                            },
                            "indexByName": {
                                "av_content_duration": 4,
                                "av_content_type": 7,
                                "bi_av_broadcasting_type": 8,
                                "bi_av_content": 1,
                                "bi_av_content_id": 2,
                                "bi_av_publication_date": 0,
                                "wiedergabe": 3,
                                "wiedergaberate": 5,
                                "wiedergaberate * 100": 6
                            },
                            "renameByName": {
                                "bi_av_broadcasting_type": "",
                                "bi_av_content_id": "Sophora ID",
                                "bi_av_url": "",
                                "device_type": "",
                                "url": "",
                                "wiedergaberate * 100": "Wiedergaberate"
                            }
                        }
                    }
                ],
                "type": "table"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "dark-blue",
                            "mode": "fixed"
                        },
                        "custom": {
                            "align": "auto",
                            "displayMode": "auto",
                            "filterable": true,
                            "inspect": false
                        },
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        }
                    },
                    "overrides": [
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "bi_av_publication_date"
                            },
                            "properties": [
                                {
                                    "id": "displayName",
                                    "value": "Publiziert"
                                },
                                {
                                    "id": "custom.align",
                                    "value": "left"
                                },
                                {
                                    "id": "unit",
                                    "value": "time: DD.MM.YYYY | HH:mm \\U\\h\\r"
                                },
                                {
                                    "id": "custom.width",
                                    "value": 180
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "bi_av_content"
                            },
                            "properties": [
                                {
                                    "id": "displayName",
                                    "value": "Titel"
                                },
                                {
                                    "id": "custom.align",
                                    "value": "left"
                                },
                                {
                                    "id": "custom.width",
                                    "value": 300
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "wiedergabe"
                            },
                            "properties": [
                                {
                                    "id": "displayName",
                                    "value": "Wiedergaben"
                                },
                                {
                                    "id": "custom.align",
                                    "value": "right"
                                },
                                {
                                    "id": "custom.width",
                                    "value": 100
                                },
                                {
                                    "id": "unit",
                                    "value": "locale"
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "av_content_duration"
                            },
                            "properties": [
                                {
                                    "id": "displayName",
                                    "value": "Medienl\u00e4nge"
                                },
                                {
                                    "id": "custom.align",
                                    "value": "center"
                                },
                                {
                                    "id": "custom.width",
                                    "value": 140
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "av_content_type"
                            },
                            "properties": [
                                {
                                    "id": "displayName",
                                    "value": "Typ"
                                },
                                {
                                    "id": "custom.align",
                                    "value": "center"
                                },
                                {
                                    "id": "custom.width",
                                    "value": 85
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "device_type"
                            },
                            "properties": [
                                {
                                    "id": "displayName",
                                    "value": "Ger\u00e4tetyp"
                                },
                                {
                                    "id": "custom.align",
                                    "value": "center"
                                },
                                {
                                    "id": "custom.width",
                                    "value": 150
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "wiedergaberate * 100"
                            },
                            "properties": [
                                {
                                    "id": "custom.displayMode",
                                    "value": "gradient-gauge"
                                },
                                {
                                    "id": "displayName",
                                    "value": "Wiedergabe"
                                },
                                {
                                    "id": "unit",
                                    "value": "percent"
                                },
                                {
                                    "id": "custom.align",
                                    "value": "center"
                                },
                                {
                                    "id": "color",
                                    "value": {
                                        "fixedColor": "#00b0de",
                                        "mode": "fixed"
                                    }
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "bi_av_broadcasting_type"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 561
                                },
                                {
                                    "id": "displayName",
                                    "value": "Ausspielungsart"
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Ausspielungsart"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 173
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Titel"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 513
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Wiedergaben"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 130
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "wiedergaberate * 100"
                            },
                            "properties": [
                                {
                                    "id": "displayName",
                                    "value": "Wiedergaberate"
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Sophora ID"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 213
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Publiziert"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 168
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "url"
                            },
                            "properties": [
                                {
                                    "id": "custom.hidden",
                                    "value": true
                                }
                            ]
                        }
                    ]
                },
                "gridPos": {
                    "h": 11,
                    "w": 24,
                    "x": 0,
                    "y": 53
                },
                "id": 156,
                "options": {
                    "footer": {
                        "enablePagination": true,
                        "fields": "",
                        "reducer": [
                            "sum"
                        ],
                        "show": false
                    },
                    "showHeader": true,
                    "sortBy": [
                        {
                            "desc": true,
                            "displayName": "Wiedergaben"
                        }
                    ]
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT \r\nbi_av_publication_date,\r\nbi_av_content, bi_av_content_id,\r\nbi_av_url as url,\r\nsum(m_av_playbacks) as wiedergabe,\r\n--CONCAT(CONCAT(\r\n\r\n\u00a0-- CASE WHEN LENGTH(CAST(DIV(av_content_duration,60) AS String))<2 THEN CONCAT(\"0\",CAST(DIV(av_content_duration,60) AS String)) ELSE CAST(DIV(av_content_duration,60) AS String)\u00a0 END ,\r\n\r\n-- \":\",CASE WHEN LENGTH(CAST(MOD(av_content_duration,60) AS String))<2 THEN CONCAT(\"0\",CAST(MOD(av_content_duration,60) AS String)) ELSE CAST(MOD(av_content_duration,60) AS String)\u00a0 END),\" Min\") as av_content_duration,\r\n--AVG(m_av_average_playback_completion_rate) wiedergaberate,\r\nav_content_type,\r\nbi_av_broadcasting_type,\r\n--device_type,\r\nFROM\r\n(\r\nSELECT\r\nFIRST_VALUE(bi_av_publication_date) OVER (PARTITION BY bi_av_content_id ORDER BY m_av_playbacks DESC) as bi_av_publication_date, \r\n\r\nm_av_playbacks,\r\n--CAST(av_content_duration/1000 AS INT) as av_content_duration,\r\n--m_av_average_playback_completion_rate,\r\nav_content_type, bi_av_content_id,\r\nbi_av_broadcasting_type, \r\nFIRST_VALUE(bi_av_url) OVER (PARTITION BY bi_av_content_id ORDER BY m_av_playbacks DESC) as bi_av_url, \r\n--device_type,\r\nFIRST_VALUE(bi_av_content) OVER (PARTITION BY bi_av_content_id ORDER BY m_av_playbacks DESC) as bi_av_content, \r\nFROM \r\n`Piano.av${dataset_zeitraum:raw}`\r\nWHERE site_level2 = \"$LRA\" \r\nAND \"$Redaktionen\" IN UNNEST(bi_av_page_chapter1_tags) \r\nAND \"$Unterkapitel\" IN UNNEST(bi_av_page_chapter2_tags)\r\nAND sendungs_id = \"$Sendung\"\r\nAND bi_av_content_id NOT LIKE '%index%'\r\nAND bi_av_broadcasting_type = \"live\"\r\nAND $Zeitraum) GROUP BY bi_av_publication_date,bi_av_content,\r\n--av_content_duration,\r\nav_content_type,bi_av_content_id, bi_av_broadcasting_type, bi_av_url\r\n--,device_type \r\nORDER BY 5 DESC\r\nLimit 100",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    }
                ],
                "title": "Top 100 Web Audios & Videos Livestreams",
                "transformations": [
                    {
                        "id": "calculateField",
                        "options": {
                            "binary": {
                                "left": "wiedergaberate",
                                "operator": "*",
                                "reducer": "sum",
                                "right": "100"
                            },
                            "mode": "binary",
                            "reduce": {
                                "reducer": "sum"
                            }
                        }
                    },
                    {
                        "id": "convertFieldType",
                        "options": {
                            "conversions": [
                                {
                                    "destinationType": "string",
                                    "targetField": "wiedergaberate * 100"
                                }
                            ],
                            "fields": {}
                        }
                    },
                    {
                        "id": "organize",
                        "options": {
                            "excludeByName": {
                                "bi_av_broadcasting_type": true,
                                "bi_av_url": true,
                                "wiedergaberate": true
                            },
                            "indexByName": {
                                "av_content_duration": 4,
                                "av_content_type": 7,
                                "bi_av_broadcasting_type": 8,
                                "bi_av_content": 1,
                                "bi_av_content_id": 2,
                                "bi_av_publication_date": 0,
                                "wiedergabe": 3,
                                "wiedergaberate": 5,
                                "wiedergaberate * 100": 6
                            },
                            "renameByName": {
                                "bi_av_broadcasting_type": "",
                                "bi_av_content_id": "Sophora ID",
                                "bi_av_url": "",
                                "device_type": "",
                                "url": "",
                                "wiedergaberate * 100": "Wiedergaberate"
                            }
                        }
                    }
                ],
                "type": "table"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "gridPos": {
                    "h": 1,
                    "w": 24,
                    "x": 0,
                    "y": 64
                },
                "id": 143,
                "options": {
                    "code": {
                        "language": "plaintext",
                        "showLineNumbers": false,
                        "showMiniMap": false
                    },
                    "content": " ",
                    "mode": "html"
                },
                "pluginVersion": "9.2.3",
                "transparent": true,
                "type": "text"
            },
            {
                "collapsed": false,
                "gridPos": {
                    "h": 1,
                    "w": 24,
                    "x": 0,
                    "y": 65
                },
                "id": 108,
                "panels": [],
                "title": "Distribution",
                "type": "row"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "dark-blue",
                            "mode": "fixed"
                        },
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        },
                        "unit": "locale"
                    },
                    "overrides": []
                },
                "gridPos": {
                    "h": 12,
                    "w": 6,
                    "x": 0,
                    "y": 66
                },
                "id": 110,
                "options": {
                    "displayMode": "gradient",
                    "minVizHeight": 10,
                    "minVizWidth": 0,
                    "orientation": "horizontal",
                    "reduceOptions": {
                        "calcs": [
                            "lastNotNull"
                        ],
                        "fields": "",
                        "values": true
                    },
                    "showUnfilled": true
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "dataset": "Piano",
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT \n  SUM(m_visits), \n  src_referrer_site_domain \nFROM   `Piano.distro${dataset_zeitraum:raw}`\nWHERE \nsite_level2 = \"$LRA\"\nAND page_chapter1 = \"$Redaktionen\"\nAND page_chapter2 = \"$Unterkapitel\"\nAND sendungs_id = \"$Sendung\"\nAND $Zeitraum\nAND src_referrer_site_domain NOT LIKE '%N/A%'\nAND CASE WHEN \n      site_level2 = \"mdr.de\" \n      THEN (distribution = \"web\" OR distribution =\"amp\")\n      ELSE 1=1 END \nGROUP BY src_referrer_site_domain \nORDER BY 1 DESC\nLIMIT 15",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "name": "SUM",
                                    "parameters": [
                                        {
                                            "name": "m_visits",
                                            "type": "functionParameter"
                                        }
                                    ],
                                    "type": "function"
                                },
                                {
                                    "parameters": [
                                        {
                                            "name": "src_referrer_site_domain",
                                            "type": "functionParameter"
                                        }
                                    ],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "name": "src_referrer_site_domain",
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50,
                            "whereJsonTree": {
                                "children1": {},
                                "id": "ab88b988-0123-4456-b89a-b1885261c89a",
                                "type": "group"
                            }
                        },
                        "table": "distro"
                    }
                ],
                "title": "Web | Top Verweiser Domains | $Zeitraum",
                "type": "bargauge"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "mode": "palette-classic"
                        },
                        "custom": {
                            "hideFrom": {
                                "legend": false,
                                "tooltip": false,
                                "viz": false
                            }
                        },
                        "mappings": [],
                        "unit": "locale"
                    },
                    "overrides": []
                },
                "gridPos": {
                    "h": 12,
                    "w": 9,
                    "x": 6,
                    "y": 66
                },
                "id": 118,
                "options": {
                    "legend": {
                        "displayMode": "table",
                        "placement": "right",
                        "showLegend": true,
                        "values": [
                            "percent",
                            "value"
                        ]
                    },
                    "pieType": "pie",
                    "reduceOptions": {
                        "calcs": [
                            "lastNotNull"
                        ],
                        "fields": "",
                        "values": true
                    },
                    "tooltip": {
                        "mode": "single",
                        "sort": "none"
                    }
                },
                "targets": [
                    {
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT \n  SUM(m_visits), \n  device_type \nFROM   `Piano.distro${dataset_zeitraum:raw}`\nWHERE \nsite_level2 = \"$LRA\"\nAND page_chapter1 = \"$Redaktionen\"\nAND page_chapter2 = \"$Unterkapitel\"\nAND sendungs_id = \"$Sendung\"\nAND $Zeitraum\nAND device_type NOT LIKE '%N/A%'\nAND CASE WHEN \n      site_level2 = \"mdr.de\" \n      THEN (distribution = \"web\" OR distribution =\"amp\")\n      ELSE 1=1 END \nGROUP BY device_type \nORDER BY 1 DESC\nLIMIT 15",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    }
                ],
                "title": "Web | Devices | $Zeitraum",
                "type": "piechart"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "mode": "palette-classic"
                        },
                        "custom": {
                            "hideFrom": {
                                "legend": false,
                                "tooltip": false,
                                "viz": false
                            }
                        },
                        "mappings": [],
                        "unit": "locale"
                    },
                    "overrides": []
                },
                "gridPos": {
                    "h": 12,
                    "w": 9,
                    "x": 15,
                    "y": 66
                },
                "id": 116,
                "options": {
                    "legend": {
                        "displayMode": "table",
                        "placement": "right",
                        "showLegend": true,
                        "values": [
                            "percent",
                            "value"
                        ]
                    },
                    "pieType": "pie",
                    "reduceOptions": {
                        "calcs": [
                            "lastNotNull"
                        ],
                        "fields": "",
                        "values": true
                    },
                    "tooltip": {
                        "mode": "single",
                        "sort": "none"
                    }
                },
                "targets": [
                    {
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT \n  SUM(m_visits), \n  src \nFROM `Piano.distro${dataset_zeitraum:raw}`\nWHERE  \nsite_level2 = \"$LRA\"\nAND page_chapter1 = \"$Redaktionen\"\nAND page_chapter2 = \"$Unterkapitel\"\nAND sendungs_id = \"$Sendung\"\nAND $Zeitraum\nAND src NOT LIKE '%N/A%'\nAND CASE WHEN \n      site_level2 = \"mdr.de\" \n      THEN (distribution = \"web\" OR distribution =\"amp\")\n      ELSE 1=1 END \nGROUP BY src \nORDER BY 1 DESC\nLIMIT 15",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    }
                ],
                "title": "Web | Traffic Quellen | $Zeitraum",
                "type": "piechart"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "gridPos": {
                    "h": 1,
                    "w": 24,
                    "x": 0,
                    "y": 78
                },
                "id": 142,
                "options": {
                    "code": {
                        "language": "plaintext",
                        "showLineNumbers": false,
                        "showMiniMap": false
                    },
                    "content": " ",
                    "mode": "html"
                },
                "pluginVersion": "9.2.3",
                "transparent": true,
                "type": "text"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "gridPos": {
                    "h": 1,
                    "w": 24,
                    "x": 0,
                    "y": 79
                },
                "id": 144,
                "options": {
                    "code": {
                        "language": "plaintext",
                        "showLineNumbers": false,
                        "showMiniMap": false
                    },
                    "content": " ",
                    "mode": "html"
                },
                "pluginVersion": "9.2.3",
                "transparent": true,
                "type": "text"
            },
            {
                "collapsed": false,
                "gridPos": {
                    "h": 1,
                    "w": 24,
                    "x": 0,
                    "y": 80
                },
                "id": 122,
                "panels": [],
                "title": "Google Trends",
                "type": "row"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "dark-blue",
                            "mode": "fixed"
                        },
                        "custom": {
                            "align": "auto",
                            "displayMode": "auto",
                            "inspect": false
                        },
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green"
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        }
                    },
                    "overrides": [
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Artikel"
                            },
                            "properties": [
                                {
                                    "id": "links",
                                    "value": [
                                        {
                                            "targetBlank": true,
                                            "title": "${__data.fields.url}",
                                            "url": "${__data.fields.url}"
                                        }
                                    ]
                                },
                                {
                                    "id": "custom.width"
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "url"
                            },
                            "properties": [
                                {
                                    "id": "custom.hidden",
                                    "value": true
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Vorschau"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 285
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Kategorie"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 88
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Platz"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 47
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Ver\u00f6ffentlicht"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 118
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Rang"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 38
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Schlagw\u00f6rter"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 401
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Quelle"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 126
                                }
                            ]
                        }
                    ]
                },
                "gridPos": {
                    "h": 8,
                    "w": 19,
                    "x": 0,
                    "y": 81
                },
                "id": 124,
                "options": {
                    "footer": {
                        "enablePagination": true,
                        "fields": "",
                        "reducer": [
                            "sum"
                        ],
                        "show": false
                    },
                    "showHeader": true,
                    "sortBy": []
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "dataset": "GoogleTrends",
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "EU",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT * \nFROM `ndr-code-bi-dashboard.GoogleTrends.realtime_trends_clean` \nWHERE \n--  category ='Business'\n  category = 'Headlines'\n--  category = 'Science_Tech'\n--  category = 'Sport'\n--  category = 'Entertainment'\n--  category = 'Health'\nAND tmstp = \n  (SELECT MAX(tmstp) \n  FROM `ndr-code-bi-dashboard.GoogleTrends.realtime_trends_clean`)\nORDER BY rank",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [
                                        {
                                            "name": "*",
                                            "type": "functionParameter"
                                        }
                                    ],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        },
                        "table": "realtime_trends_clean"
                    }
                ],
                "title": "Google Trends | Echtzeit | Schlagzeilen",
                "transformations": [
                    {
                        "id": "extractFields",
                        "options": {
                            "format": "json",
                            "replace": false,
                            "source": "article"
                        }
                    },
                    {
                        "id": "organize",
                        "options": {
                            "excludeByName": {
                                "article": true,
                                "category": true,
                                "snippet": true,
                                "tmstp": true,
                                "url": false
                            },
                            "indexByName": {
                                "article": 5,
                                "articleTitle": 4,
                                "category": 0,
                                "entityNames": 3,
                                "rank": 1,
                                "snippet": 7,
                                "source": 8,
                                "time": 2,
                                "tmstp": 6,
                                "url": 9
                            },
                            "renameByName": {
                                "article": "",
                                "articleTitle": "Artikel",
                                "category": "Kategorie",
                                "entityNames": "Schlagw\u00f6rter",
                                "rank": "Rang",
                                "snippet": "Vorschau",
                                "source": "Quelle",
                                "time": "Ver\u00f6ffentlicht"
                            }
                        }
                    }
                ],
                "type": "table"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "dark-blue",
                            "mode": "fixed"
                        },
                        "custom": {
                            "align": "auto",
                            "displayMode": "auto",
                            "inspect": false
                        },
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green"
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        }
                    },
                    "overrides": [
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Rang"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 54
                                }
                            ]
                        }
                    ]
                },
                "gridPos": {
                    "h": 21,
                    "w": 5,
                    "x": 19,
                    "y": 81
                },
                "id": 126,
                "options": {
                    "footer": {
                        "fields": "",
                        "reducer": [
                            "sum"
                        ],
                        "show": false
                    },
                    "showHeader": true,
                    "sortBy": []
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "EU",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT\n  *\nFROM\n  `ndr-code-bi-dashboard.GoogleTrends.search_trends_daily`\n\n--timestamp = DATE_SUB(CURRENT_DATE(), INTERVAL 0 DAY) \nWHERE CAST(timestamp as date) = DATE_SUB(CURRENT_DATE(), INTERVAL 1 DAY) \n--DATE_SUB(CURRENT_DATE()\\, INTERVAL  1 DAY),\nLIMIT\n  50",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    }
                ],
                "title": "Google Trends | gestern",
                "transformations": [
                    {
                        "id": "organize",
                        "options": {
                            "excludeByName": {
                                "timestamp": true
                            },
                            "indexByName": {
                                "rank": 0,
                                "timestamp": 2,
                                "trend": 1
                            },
                            "renameByName": {
                                "rank": "Rang",
                                "trend": "Trend"
                            }
                        }
                    }
                ],
                "type": "table"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "dark-blue",
                            "mode": "fixed"
                        },
                        "custom": {
                            "align": "auto",
                            "displayMode": "auto",
                            "inspect": false
                        },
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green"
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        }
                    },
                    "overrides": [
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Artikel"
                            },
                            "properties": [
                                {
                                    "id": "links",
                                    "value": [
                                        {
                                            "targetBlank": true,
                                            "title": "${__data.fields.url}",
                                            "url": "${__data.fields.url}"
                                        }
                                    ]
                                },
                                {
                                    "id": "custom.width"
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "url"
                            },
                            "properties": [
                                {
                                    "id": "custom.hidden",
                                    "value": true
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Vorschau"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 285
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Kategorie"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 88
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Platz"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 47
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Ver\u00f6ffentlicht"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 118
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Rang"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 38
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Schlagw\u00f6rter"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 401
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Quelle"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 126
                                }
                            ]
                        }
                    ]
                },
                "gridPos": {
                    "h": 8,
                    "w": 19,
                    "x": 0,
                    "y": 89
                },
                "id": 150,
                "options": {
                    "footer": {
                        "enablePagination": true,
                        "fields": "",
                        "reducer": [
                            "sum"
                        ],
                        "show": false
                    },
                    "showHeader": true,
                    "sortBy": []
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "dataset": "GoogleTrends",
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "EU",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT * \nFROM `ndr-code-bi-dashboard.GoogleTrends.realtime_trends_clean` \nWHERE \n  category ='Business'\n--  category = 'Headlines'\n--  category = 'Science_Tech'\n--  category = 'Sport'\n--  category = 'Entertainment'\n--  category = 'Health'\nAND tmstp = \n  (SELECT MAX(tmstp) \n  FROM `ndr-code-bi-dashboard.GoogleTrends.realtime_trends_clean`)\nORDER BY rank",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [
                                        {
                                            "name": "*",
                                            "type": "functionParameter"
                                        }
                                    ],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        },
                        "table": "realtime_trends_clean"
                    }
                ],
                "title": "Google Trends | Echtzeit | Business",
                "transformations": [
                    {
                        "id": "extractFields",
                        "options": {
                            "format": "json",
                            "replace": false,
                            "source": "article"
                        }
                    },
                    {
                        "id": "organize",
                        "options": {
                            "excludeByName": {
                                "article": true,
                                "category": true,
                                "snippet": true,
                                "tmstp": true,
                                "url": false
                            },
                            "indexByName": {
                                "article": 5,
                                "articleTitle": 4,
                                "category": 0,
                                "entityNames": 3,
                                "rank": 1,
                                "snippet": 7,
                                "source": 8,
                                "time": 2,
                                "tmstp": 6,
                                "url": 9
                            },
                            "renameByName": {
                                "article": "",
                                "articleTitle": "Artikel",
                                "category": "Kategorie",
                                "entityNames": "Schlagw\u00f6rter",
                                "rank": "Rang",
                                "snippet": "Vorschau",
                                "source": "Quelle",
                                "time": "Ver\u00f6ffentlicht"
                            }
                        }
                    }
                ],
                "type": "table"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "dark-blue",
                            "mode": "fixed"
                        },
                        "custom": {
                            "align": "auto",
                            "displayMode": "auto",
                            "inspect": false
                        },
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green"
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        }
                    },
                    "overrides": [
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Artikel"
                            },
                            "properties": [
                                {
                                    "id": "links",
                                    "value": [
                                        {
                                            "targetBlank": true,
                                            "title": "${__data.fields.url}",
                                            "url": "${__data.fields.url}"
                                        }
                                    ]
                                },
                                {
                                    "id": "custom.width"
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "url"
                            },
                            "properties": [
                                {
                                    "id": "custom.hidden",
                                    "value": true
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Vorschau"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 285
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Kategorie"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 88
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Platz"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 47
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Ver\u00f6ffentlicht"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 118
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Rang"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 38
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Schlagw\u00f6rter"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 401
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Quelle"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 126
                                }
                            ]
                        }
                    ]
                },
                "gridPos": {
                    "h": 8,
                    "w": 19,
                    "x": 0,
                    "y": 97
                },
                "id": 147,
                "options": {
                    "footer": {
                        "enablePagination": true,
                        "fields": "",
                        "reducer": [
                            "sum"
                        ],
                        "show": false
                    },
                    "showHeader": true,
                    "sortBy": []
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "dataset": "GoogleTrends",
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "EU",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT * \nFROM `ndr-code-bi-dashboard.GoogleTrends.realtime_trends_clean` \nWHERE \n--  category ='Business'\n--  category = 'Headlines'\n--  category = 'Science_Tech'\n  category = 'Sport'\n--  category = 'Entertainment'\n--  category = 'Health'\nAND tmstp = \n  (SELECT MAX(tmstp) \n  FROM `ndr-code-bi-dashboard.GoogleTrends.realtime_trends_clean`)\nORDER BY rank",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [
                                        {
                                            "name": "*",
                                            "type": "functionParameter"
                                        }
                                    ],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        },
                        "table": "realtime_trends_clean"
                    }
                ],
                "title": "Google Trends | Echtzeit | Sport",
                "transformations": [
                    {
                        "id": "extractFields",
                        "options": {
                            "format": "json",
                            "replace": false,
                            "source": "article"
                        }
                    },
                    {
                        "id": "organize",
                        "options": {
                            "excludeByName": {
                                "article": true,
                                "category": true,
                                "snippet": true,
                                "tmstp": true,
                                "url": false
                            },
                            "indexByName": {
                                "article": 5,
                                "articleTitle": 4,
                                "category": 0,
                                "entityNames": 3,
                                "rank": 1,
                                "snippet": 7,
                                "source": 8,
                                "time": 2,
                                "tmstp": 6,
                                "url": 9
                            },
                            "renameByName": {
                                "article": "",
                                "articleTitle": "Artikel",
                                "category": "Kategorie",
                                "entityNames": "Schlagw\u00f6rter",
                                "rank": "Rang",
                                "snippet": "Vorschau",
                                "source": "Quelle",
                                "time": "Ver\u00f6ffentlicht"
                            }
                        }
                    }
                ],
                "type": "table"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "dark-blue",
                            "mode": "fixed"
                        },
                        "custom": {
                            "align": "auto",
                            "displayMode": "auto",
                            "inspect": false
                        },
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green"
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        }
                    },
                    "overrides": [
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Artikel"
                            },
                            "properties": [
                                {
                                    "id": "links",
                                    "value": [
                                        {
                                            "targetBlank": true,
                                            "title": "${__data.fields.url}",
                                            "url": "${__data.fields.url}"
                                        }
                                    ]
                                },
                                {
                                    "id": "custom.width"
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "url"
                            },
                            "properties": [
                                {
                                    "id": "custom.hidden",
                                    "value": true
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Vorschau"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 285
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Kategorie"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 88
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Platz"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 47
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Ver\u00f6ffentlicht"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 118
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Rang"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 38
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Schlagw\u00f6rter"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 401
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Quelle"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 126
                                }
                            ]
                        }
                    ]
                },
                "gridPos": {
                    "h": 8,
                    "w": 19,
                    "x": 0,
                    "y": 105
                },
                "id": 146,
                "options": {
                    "footer": {
                        "enablePagination": true,
                        "fields": "",
                        "reducer": [
                            "sum"
                        ],
                        "show": false
                    },
                    "showHeader": true,
                    "sortBy": []
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "dataset": "GoogleTrends",
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "EU",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT * \nFROM `ndr-code-bi-dashboard.GoogleTrends.realtime_trends_clean` \nWHERE \n--  category ='Business'\n--  category = 'Headlines'\n--  category = 'Science_Tech'\n--  category = 'Sport'\n  category = 'Entertainment'\n--  category = 'Health'\nAND tmstp = \n  (SELECT MAX(tmstp) \n  FROM `ndr-code-bi-dashboard.GoogleTrends.realtime_trends_clean`)\nORDER BY rank",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [
                                        {
                                            "name": "*",
                                            "type": "functionParameter"
                                        }
                                    ],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        },
                        "table": "realtime_trends_clean"
                    }
                ],
                "title": "Google Trends | Echtzeit | Unterhaltung",
                "transformations": [
                    {
                        "id": "extractFields",
                        "options": {
                            "format": "json",
                            "replace": false,
                            "source": "article"
                        }
                    },
                    {
                        "id": "organize",
                        "options": {
                            "excludeByName": {
                                "article": true,
                                "category": true,
                                "snippet": true,
                                "tmstp": true,
                                "url": false
                            },
                            "indexByName": {
                                "article": 5,
                                "articleTitle": 4,
                                "category": 0,
                                "entityNames": 3,
                                "rank": 1,
                                "snippet": 7,
                                "source": 8,
                                "time": 2,
                                "tmstp": 6,
                                "url": 9
                            },
                            "renameByName": {
                                "article": "",
                                "articleTitle": "Artikel",
                                "category": "Kategorie",
                                "entityNames": "Schlagw\u00f6rter",
                                "rank": "Rang",
                                "snippet": "Vorschau",
                                "source": "Quelle",
                                "time": "Ver\u00f6ffentlicht"
                            }
                        }
                    }
                ],
                "type": "table"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "dark-blue",
                            "mode": "fixed"
                        },
                        "custom": {
                            "align": "auto",
                            "displayMode": "auto",
                            "inspect": false
                        },
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green"
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        }
                    },
                    "overrides": [
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Artikel"
                            },
                            "properties": [
                                {
                                    "id": "links",
                                    "value": [
                                        {
                                            "targetBlank": true,
                                            "title": "${__data.fields.url}",
                                            "url": "${__data.fields.url}"
                                        }
                                    ]
                                },
                                {
                                    "id": "custom.width"
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "url"
                            },
                            "properties": [
                                {
                                    "id": "custom.hidden",
                                    "value": true
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Vorschau"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 285
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Kategorie"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 88
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Platz"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 47
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Ver\u00f6ffentlicht"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 118
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Rang"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 38
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Schlagw\u00f6rter"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 401
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Quelle"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 126
                                }
                            ]
                        }
                    ]
                },
                "gridPos": {
                    "h": 8,
                    "w": 19,
                    "x": 0,
                    "y": 113
                },
                "id": 148,
                "options": {
                    "footer": {
                        "enablePagination": true,
                        "fields": "",
                        "reducer": [
                            "sum"
                        ],
                        "show": false
                    },
                    "showHeader": true,
                    "sortBy": []
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "dataset": "GoogleTrends",
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "EU",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT * \nFROM `ndr-code-bi-dashboard.GoogleTrends.realtime_trends_clean` \nWHERE \n--  category ='Business'\n--  category = 'Headlines'\n  category = 'Science_Tech'\n--  category = 'Sport'\n--  category = 'Entertainment'\n--  category = 'Health'\nAND tmstp = \n  (SELECT MAX(tmstp) \n  FROM `ndr-code-bi-dashboard.GoogleTrends.realtime_trends_clean`)\nORDER BY rank",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [
                                        {
                                            "name": "*",
                                            "type": "functionParameter"
                                        }
                                    ],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        },
                        "table": "realtime_trends_clean"
                    }
                ],
                "title": "Google Trend | Echtzeit | Wissen & Technik",
                "transformations": [
                    {
                        "id": "extractFields",
                        "options": {
                            "format": "json",
                            "replace": false,
                            "source": "article"
                        }
                    },
                    {
                        "id": "organize",
                        "options": {
                            "excludeByName": {
                                "article": true,
                                "category": true,
                                "snippet": true,
                                "tmstp": true,
                                "url": false
                            },
                            "indexByName": {
                                "article": 5,
                                "articleTitle": 4,
                                "category": 0,
                                "entityNames": 3,
                                "rank": 1,
                                "snippet": 7,
                                "source": 8,
                                "time": 2,
                                "tmstp": 6,
                                "url": 9
                            },
                            "renameByName": {
                                "article": "",
                                "articleTitle": "Artikel",
                                "category": "Kategorie",
                                "entityNames": "Schlagw\u00f6rter",
                                "rank": "Rang",
                                "snippet": "Vorschau",
                                "source": "Quelle",
                                "time": "Ver\u00f6ffentlicht"
                            }
                        }
                    }
                ],
                "type": "table"
            },
            {
                "datasource": {
                    "type": "grafana-bigquery-datasource",
                    "uid": "qUaUqEk4k"
                },
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "fixedColor": "dark-blue",
                            "mode": "fixed"
                        },
                        "custom": {
                            "align": "auto",
                            "displayMode": "auto",
                            "inspect": false
                        },
                        "mappings": [],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green"
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        }
                    },
                    "overrides": [
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Artikel"
                            },
                            "properties": [
                                {
                                    "id": "links",
                                    "value": [
                                        {
                                            "targetBlank": true,
                                            "title": "${__data.fields.url}",
                                            "url": "${__data.fields.url}"
                                        }
                                    ]
                                },
                                {
                                    "id": "custom.width"
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "url"
                            },
                            "properties": [
                                {
                                    "id": "custom.hidden",
                                    "value": true
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Vorschau"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 285
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Kategorie"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 88
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Platz"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 47
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Ver\u00f6ffentlicht"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 118
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Rang"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 38
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Schlagw\u00f6rter"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 401
                                }
                            ]
                        },
                        {
                            "matcher": {
                                "id": "byName",
                                "options": "Quelle"
                            },
                            "properties": [
                                {
                                    "id": "custom.width",
                                    "value": 126
                                }
                            ]
                        }
                    ]
                },
                "gridPos": {
                    "h": 8,
                    "w": 19,
                    "x": 0,
                    "y": 121
                },
                "id": 149,
                "options": {
                    "footer": {
                        "enablePagination": true,
                        "fields": "",
                        "reducer": [
                            "sum"
                        ],
                        "show": false
                    },
                    "showHeader": true,
                    "sortBy": []
                },
                "pluginVersion": "9.2.3",
                "targets": [
                    {
                        "dataset": "GoogleTrends",
                        "datasource": {
                            "type": "grafana-bigquery-datasource",
                            "uid": "qUaUqEk4k"
                        },
                        "editorMode": "code",
                        "format": 1,
                        "location": "EU",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT * \nFROM `ndr-code-bi-dashboard.GoogleTrends.realtime_trends_clean` \nWHERE \n--  category ='Business'\n--  category = 'Headlines'\n--  category = 'Science_Tech'\n--  category = 'Sport'\n--  category = 'Entertainment'\n  category = 'Health'\nAND tmstp = \n  (SELECT MAX(tmstp) \n  FROM `ndr-code-bi-dashboard.GoogleTrends.realtime_trends_clean`)\nORDER BY rank",
                        "refId": "A",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [
                                        {
                                            "name": "*",
                                            "type": "functionParameter"
                                        }
                                    ],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        },
                        "table": "realtime_trends_clean"
                    }
                ],
                "title": "Google Trends | Echtzeit | Gesundheit",
                "transformations": [
                    {
                        "id": "extractFields",
                        "options": {
                            "format": "json",
                            "replace": false,
                            "source": "article"
                        }
                    },
                    {
                        "id": "organize",
                        "options": {
                            "excludeByName": {
                                "article": true,
                                "category": true,
                                "snippet": true,
                                "tmstp": true,
                                "url": false
                            },
                            "indexByName": {
                                "article": 5,
                                "articleTitle": 4,
                                "category": 0,
                                "entityNames": 3,
                                "rank": 1,
                                "snippet": 7,
                                "source": 8,
                                "time": 2,
                                "tmstp": 6,
                                "url": 9
                            },
                            "renameByName": {
                                "article": "",
                                "articleTitle": "Artikel",
                                "category": "Kategorie",
                                "entityNames": "Schlagw\u00f6rter",
                                "rank": "Rang",
                                "snippet": "Vorschau",
                                "source": "Quelle",
                                "time": "Ver\u00f6ffentlicht"
                            }
                        }
                    }
                ],
                "type": "table"
            }
        ],
        "refresh": false,
        "schemaVersion": 37,
        "style": "dark",
        "tags": [],
        "templating": {
            "list": [
                {
                    "current": {
                        "selected": false,
                        "text": "MDR",
                        "value": "MDR"
                    },
                    "datasource": {
                        "type": "grafana-bigquery-datasource",
                        "uid": "qUaUqEk4k"
                    },
                    "definition": "",
                    "hide": 2,
                    "includeAll": false,
                    "multi": false,
                    "name": "media_house",
                    "options": [],
                    "query": {
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT distinct media_house FROM `ndr-code-bi-dashboard.Piano.Profiles`\nWHERE LRA = \"$LRA\"",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    },
                    "refresh": 1,
                    "regex": "",
                    "skipUrlSync": false,
                    "sort": 0,
                    "type": "query"
                },
                {
                    "current": {
                        "selected": false,
                        "text": "mdr.de",
                        "value": "mdr.de"
                    },
                    "datasource": {
                        "type": "grafana-bigquery-datasource",
                        "uid": "qUaUqEk4k"
                    },
                    "definition": "",
                    "hide": 0,
                    "includeAll": false,
                    "multi": false,
                    "name": "LRA",
                    "options": [],
                    "query": {
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT distinct LRA FROM `ndr-code-bi-dashboard.Piano.Profiles`\nORDER BY LRA ASC",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    },
                    "refresh": 1,
                    "regex": "",
                    "skipUrlSync": false,
                    "sort": 0,
                    "type": "query"
                },
                {
                    "current": {
                        "selected": false,
                        "text": "Alle Kapitel 1",
                        "value": "Alle Kapitel 1"
                    },
                    "datasource": {
                        "type": "grafana-bigquery-datasource",
                        "uid": "qUaUqEk4k"
                    },
                    "definition": "",
                    "hide": 0,
                    "includeAll": false,
                    "multi": false,
                    "name": "Redaktionen",
                    "options": [],
                    "query": {
                        "dataset": "Piano",
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT distinct page_chapter1 FROM `ndr-code-bi-dashboard.Piano.Profiles`\nWHERE LRA = \"$LRA\"\nORDER BY page_chapter1 ASC",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [
                                        {
                                            "name": "page_chapter1",
                                            "type": "functionParameter"
                                        }
                                    ],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50,
                            "whereJsonTree": {
                                "children1": {
                                    "998ab889-cdef-4012-b456-71866fb55755": {
                                        "properties": {
                                            "field": "LRA",
                                            "operator": "equal",
                                            "value": [
                                                "$LRA"
                                            ],
                                            "valueSrc": [
                                                "value"
                                            ],
                                            "valueType": [
                                                "text"
                                            ]
                                        },
                                        "type": "rule"
                                    }
                                },
                                "id": "a8bbba98-0123-4456-b89a-b1866fb55755",
                                "type": "group"
                            },
                            "whereString": "LRA = '$LRA'"
                        },
                        "table": "Profiles"
                    },
                    "refresh": 1,
                    "regex": "",
                    "skipUrlSync": false,
                    "sort": 0,
                    "type": "query"
                },
                {
                    "current": {
                        "selected": false,
                        "text": "Alle Kapitel 2",
                        "value": "Alle Kapitel 2"
                    },
                    "datasource": {
                        "type": "grafana-bigquery-datasource",
                        "uid": "qUaUqEk4k"
                    },
                    "definition": "",
                    "hide": 0,
                    "includeAll": false,
                    "multi": false,
                    "name": "Unterkapitel",
                    "options": [],
                    "query": {
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT distinct page_chapter2 FROM `ndr-code-bi-dashboard.Piano.Profiles`\r\nWHERE LRA = \"$LRA\" AND page_chapter1 = \"$Redaktionen\"\r\nAND page_chapter2  NOT IN (\"app-aktuell\", \"app_aktuell\")\r\nORDER BY page_chapter2 ASC",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    },
                    "refresh": 1,
                    "regex": "",
                    "skipUrlSync": false,
                    "sort": 0,
                    "type": "query"
                },
                {
                    "current": {
                        "selected": false,
                        "text": "Alle Sendungs-ID",
                        "value": "Alle Sendungs-ID"
                    },
                    "datasource": {
                        "type": "grafana-bigquery-datasource",
                        "uid": "qUaUqEk4k"
                    },
                    "definition": "",
                    "hide": 0,
                    "includeAll": false,
                    "multi": false,
                    "name": "Sendung",
                    "options": [],
                    "query": {
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT distinct sendungs_id FROM `ndr-code-bi-dashboard.Piano.Profiles`\r\nWHERE LRA = \"$LRA\" AND page_chapter1 = \"$Redaktionen\" AND page_chapter2=\"$Unterkapitel\"\r\nORDER BY sendungs_id ASC",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    },
                    "refresh": 1,
                    "regex": "",
                    "skipUrlSync": false,
                    "sort": 0,
                    "type": "query"
                },
                {
                    "current": {
                        "selected": false,
                        "text": "date >= DATE_SUB(CURRENT_DATE(), INTERVAL 14 DAY) AND date < DATE_SUB(CURRENT_DATE(), INTERVAL 7 DAY)",
                        "value": "date >= DATE_SUB(CURRENT_DATE(), INTERVAL 14 DAY) AND date < DATE_SUB(CURRENT_DATE(), INTERVAL 7 DAY)"
                    },
                    "datasource": {
                        "type": "grafana-bigquery-datasource",
                        "uid": "qUaUqEk4k"
                    },
                    "definition": "",
                    "hide": 2,
                    "includeAll": false,
                    "multi": false,
                    "name": "Vergleichszeitraum",
                    "options": [],
                    "query": {
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT \r\n  CASE \"${Zeitraum:text}\"\r\n  WHEN \"Letzte Stunde\" THEN \"date = CURRENT_DATE()\"\r\n  WHEN \"Heute\" THEN \"date = DATE_SUB(CURRENT_DATE(), INTERVAL 1 DAY)\"\r\n  WHEN \"Gestern\" THEN \"date = DATE_SUB(CURRENT_DATE(), INTERVAL 8 DAY)\"\r\n  WHEN \"Letztes Wochenende\" THEN \"date >= (SELECT DATE_SUB(DATE(TIMESTAMP_TRUNC(CURRENT_TIMESTAMP(), WEEK(MONDAY)) - INTERVAL 2 DAY),INTERVAL 7 DAY) as saturday) AND date <= (SELECT DATE_SUB(DATE(TIMESTAMP_TRUNC(CURRENT_TIMESTAMP(), WEEK(MONDAY)) - INTERVAL 1 DAY), INTERVAL 7 DAY) as sunday)\"\r\n  WHEN \"Letzte 7 Tage\" THEN \"date >= DATE_SUB(CURRENT_DATE(), INTERVAL 14 DAY) AND date < DATE_SUB(CURRENT_DATE(), INTERVAL 7 DAY)\"\r\n  WHEN \"Letzte 30 Tage\" THEN \"date >=  DATE_SUB(CURRENT_DATE(), INTERVAL  60 DAY) AND date < DATE_SUB(CURRENT_DATE(), INTERVAL  30 DAY)\"\r\n  END",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    },
                    "refresh": 1,
                    "regex": "",
                    "skipUrlSync": false,
                    "sort": 0,
                    "type": "query"
                },
                {
                    "current": {
                        "selected": false,
                        "text": "48",
                        "value": "48"
                    },
                    "hide": 2,
                    "includeAll": false,
                    "multi": false,
                    "name": "filled_size_headline",
                    "options": [
                        {
                            "selected": true,
                            "text": "48",
                            "value": "48"
                        }
                    ],
                    "query": "48",
                    "skipUrlSync": false,
                    "type": "custom"
                },
                {
                    "current": {
                        "selected": false,
                        "text": "Letzte 8-14 Tage",
                        "value": "Letzte 8-14 Tage"
                    },
                    "datasource": {
                        "type": "grafana-bigquery-datasource",
                        "uid": "qUaUqEk4k"
                    },
                    "definition": "",
                    "hide": 2,
                    "includeAll": false,
                    "multi": false,
                    "name": "Vergleichszeitraumlabels",
                    "options": [],
                    "query": {
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT \r\n  CASE \"${Zeitraum:text}\"\r\n  WHEN \"Letzte Stunde\" THEN \"Vorletzte Stunde\"\r\n  WHEN \"Heute\" THEN \"Gestern\"\r\n  WHEN \"Gestern\" THEN \"Gestern vor 7 Tagen\"\r\n  WHEN \"Letztes Wochenende\" THEN \"Vorletztes Wochenende\"\r\n  WHEN \"Letzte 7 Tage\" THEN \"Letzte 8-14 Tage\"\r\n  WHEN \"Letzte 30 Tage\" THEN \"Letzte 31-60 Tage\"\r\n  END",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    },
                    "refresh": 1,
                    "regex": "",
                    "skipUrlSync": false,
                    "sort": 0,
                    "type": "query"
                },
                {
                    "current": {
                        "selected": false,
                        "text": "13",
                        "value": "13"
                    },
                    "hide": 2,
                    "includeAll": false,
                    "multi": false,
                    "name": "filled_size",
                    "options": [
                        {
                            "selected": true,
                            "text": "13",
                            "value": "13"
                        }
                    ],
                    "query": "13",
                    "skipUrlSync": false,
                    "type": "custom"
                },
                {
                    "current": {
                        "selected": true,
                        "text": "Letzte 7 Tage",
                        "value": "date >=\u00a0 DATE_SUB(CURRENT_DATE(), INTERVAL\u00a0 7 DAY) AND date < CURRENT_DATE()"
                    },
                    "hide": 0,
                    "includeAll": false,
                    "multi": false,
                    "name": "Zeitraum",
                    "options": [
                        {
                            "selected": true,
                            "text": "Letzte Stunde",
                            "value": "CAST(tmstp AS DATE) = CURRENT_DATE()"
                        },
                        {
                            "selected": false,
                            "text": "Heute",
                            "value": "date = CURRENT_DATE()"
                        },
                        {
                            "selected": false,
                            "text": "Gestern",
                            "value": "date = DATE_SUB(CURRENT_DATE(), INTERVAL  1 DAY)"
                        },
                        {
                            "selected": false,
                            "text": "Letztes Wochenende",
                            "value": "date >= (SELECT\u00a0saturday\u00a0FROM(SELECT DATE(TIMESTAMP_TRUNC(CURRENT_TIMESTAMP(),WEEK(MONDAY)) - INTERVAL 2 DAY) as saturday)) AND date <= (SELECT DATE(TIMESTAMP_TRUNC(CURRENT_TIMESTAMP(),WEEK(MONDAY)) - INTERVAL 1 DAY) as sunday)"
                        },
                        {
                            "selected": false,
                            "text": "Letzte 7 Tage",
                            "value": "date >=\u00a0 DATE_SUB(CURRENT_DATE(), INTERVAL\u00a0 7 DAY) AND date < CURRENT_DATE()"
                        },
                        {
                            "selected": false,
                            "text": "Letzte 30 Tage",
                            "value": "date >=\u00a0 DATE_SUB(CURRENT_DATE(), INTERVAL\u00a0 30 DAY) AND date < CURRENT_DATE()"
                        }
                    ],
                    "query": "Letzte Stunde : CAST(tmstp AS DATE) = CURRENT_DATE(),    Heute : date = CURRENT_DATE(),  Gestern : date = DATE_SUB(CURRENT_DATE()\\, INTERVAL  1 DAY), Letztes Wochenende : \u00a0date >= (SELECT\u00a0saturday\u00a0FROM(SELECT DATE(TIMESTAMP_TRUNC(CURRENT_TIMESTAMP()\\,WEEK(MONDAY)) - INTERVAL 2 DAY) as saturday)) AND date <= (SELECT DATE(TIMESTAMP_TRUNC(CURRENT_TIMESTAMP()\\,WEEK(MONDAY)) - INTERVAL 1 DAY) as sunday), Letzte 7 Tage : date >=\u00a0 DATE_SUB(CURRENT_DATE()\\, INTERVAL\u00a0 7 DAY) AND date < CURRENT_DATE(), Letzte 30 Tage : date >=\u00a0 DATE_SUB(CURRENT_DATE()\\, INTERVAL\u00a0 30 DAY) AND date < CURRENT_DATE()",
                    "queryValue": "",
                    "skipUrlSync": false,
                    "type": "custom"
                },
                {
                    "current": {
                        "selected": false,
                        "text": "7",
                        "value": "7"
                    },
                    "datasource": {
                        "type": "grafana-bigquery-datasource",
                        "uid": "qUaUqEk4k"
                    },
                    "definition": "",
                    "hide": 2,
                    "includeAll": false,
                    "multi": false,
                    "name": "time_shift",
                    "options": [],
                    "query": {
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT\r\nCASE\r\nWHEN \"${Zeitraum:text}\" = \"Heute\" THEN 1\r\nWHEN \"${Zeitraum:text}\" = \"Gestern\" THEN 7\r\nWHEN \"${Zeitraum:text}\" = \"Letztes Wochenende\" THEN 7\r\nWHEN CONTAINS_SUBSTR(\"${Zeitraum:text}\", \"7\") THEN 7\r\nWHEN CONTAINS_SUBSTR(\"${Zeitraum:text}\", \"30\") THEN 30 END",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    },
                    "refresh": 1,
                    "regex": "",
                    "skipUrlSync": false,
                    "sort": 0,
                    "type": "query"
                },
                {
                    "current": {
                        "selected": false,
                        "text": "_last_hour",
                        "value": "_last_hour"
                    },
                    "datasource": {
                        "type": "grafana-bigquery-datasource",
                        "uid": "qUaUqEk4k"
                    },
                    "definition": "",
                    "hide": 2,
                    "includeAll": false,
                    "multi": false,
                    "name": "dataset_zeitraum",
                    "options": [],
                    "query": {
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT \nCASE \"${Zeitraum:text}\"\n  WHEN \"Heute\" THEN  \"\"\n  WHEN \"Letzte Stunde\" THEN \"_last_hour\"\n  ELSE \"\"\n  END",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    },
                    "refresh": 1,
                    "regex": "",
                    "skipUrlSync": false,
                    "sort": 0,
                    "type": "query"
                },
                {
                    "current": {
                        "selected": false,
                        "text": "_last_2_hour",
                        "value": "_last_2_hour"
                    },
                    "datasource": {
                        "type": "grafana-bigquery-datasource",
                        "uid": "qUaUqEk4k"
                    },
                    "definition": "",
                    "hide": 2,
                    "includeAll": false,
                    "multi": false,
                    "name": "dataset_vergleichs_zeitraum",
                    "options": [],
                    "query": {
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT \nCASE \"${Zeitraum:text}\"\n  WHEN \"Letzte Stunde\" THEN \"_last_2_hour\"\n  ELSE \"\"\n  END",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    },
                    "refresh": 1,
                    "regex": "",
                    "skipUrlSync": false,
                    "sort": 0,
                    "type": "query"
                },
                {
                    "current": {
                        "selected": false,
                        "text": "_last_hour",
                        "value": "_last_hour"
                    },
                    "datasource": {
                        "type": "grafana-bigquery-datasource",
                        "uid": "qUaUqEk4k"
                    },
                    "definition": "",
                    "hide": 2,
                    "includeAll": false,
                    "multi": false,
                    "name": "dataset_articles_zeitraum",
                    "options": [],
                    "query": {
                        "editorMode": "code",
                        "format": 1,
                        "location": "europe-west3",
                        "project": "ndr-code-bi-dashboard",
                        "rawQuery": true,
                        "rawSql": "SELECT \nCASE \"${Zeitraum:text}\"\n  WHEN \"Heute\" THEN  \"_today\"\n  WHEN \"Letzte Stunde\" THEN \"_last_hour\"\n  ELSE \"_daily\"\n  END",
                        "sql": {
                            "columns": [
                                {
                                    "parameters": [],
                                    "type": "function"
                                }
                            ],
                            "groupBy": [
                                {
                                    "property": {
                                        "type": "string"
                                    },
                                    "type": "groupBy"
                                }
                            ],
                            "limit": 50
                        }
                    },
                    "refresh": 1,
                    "regex": "",
                    "skipUrlSync": false,
                    "sort": 0,
                    "type": "query"
                }
            ]
        },
        "time": {
            "from": "2023-05-01T00:00:00.000Z",
            "to": "2023-05-09T16:12:25.000Z"
        },
        "timepicker": {
            "hidden": true,
            "refresh_intervals": [
                "5m",
                "15m",
                "30m",
                "1h",
                "2h",
                "1d"
            ]
        },
        "timezone": "",
        "title": "Piano Web Desktop Current Copy 20072023",
        "uid": "SIi_ZrCVk",
        "version": 2,
        "weekStart": ""
    }
}